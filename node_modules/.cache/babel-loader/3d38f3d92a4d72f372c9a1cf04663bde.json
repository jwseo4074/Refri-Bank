{"ast":null,"code":"var _jsxFileName = \"/Users/seojiwon/Desktop/RefriBank/src/components/rfgpage/filter.js\",\n    _s = $RefreshSig$();\n\nimport ingredient_img from '../../img/ingredient_img/ingredient-img';\nimport { useEffect, useState, Component } from 'react';\nimport '../../style/rfgpage/rfg.css';\nimport Calendar from 'react-calendar';\nimport Axios from 'axios';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Func_filter_find_ingredient({\n  get_rcp_rfg,\n  result_box_list,\n  setresult_box_list,\n  information\n}) {\n  _s();\n\n  const [date, setdate] = useState(new Date());\n  const [igdlist, setigdlist] = useState();\n  const [selectingredient, setselectingredient] = useState();\n  const [igd_key_value, set_igd_key_value] = useState(['닭', '오리', '돼지', '소', '소세지', '양파', '당근', '마늘', '버섯', '부추', '고추', '파', '상추', '토마토', '새우', '고등어', '게', '전복', '조개', '바지락', '홍합', '오징어', '생선', '멸치', '간장', '된장', '고추장', '쌈장', '참기름', '깨', '가루', '면', '밀가루', '밥', '계란', '우유', '치즈', '요거트']);\n\n  const Func_igdlist_select = e => {\n    document.querySelector('.rfg-calendar-box').classList.toggle('calendar-toggle');\n  };\n\n  useEffect(() => {\n    set_igd_key_value(igd_key_value.sort(() => Math.random() - 0.5));\n  }, []);\n  useEffect(() => {\n    let delete_igd = [];\n    result_box_list.map(v => delete_igd.push(v.result_igdname));\n    set_igd_key_value(igd_key_value.filter(v => !delete_igd.includes(v)));\n  }, [result_box_list]);\n\n  const basketInput = () => {\n    const select_eprdate = moment(date).format('YY-MM-DD');\n    let check = true;\n    result_box_list.map(v => v.result_igdname == igdlist ? check = false : 0);\n\n    if (check) {\n      setresult_box_list([...result_box_list, {\n        result_igdname: igdlist,\n        eprd: select_eprdate\n      }]);\n    }\n\n    Func_igdlist_select();\n  };\n\n  const result_basket = src => {\n    set_igd_key_value([...igd_key_value, src]);\n    setresult_box_list(result_box_list.filter(i => i.result_igdname !== src));\n  }; //submit 클릭시 기존의 result_box_list를 초기화하고 새롭게 insert하는 DI 쿼리 날림\n\n\n  const Func_reqbutton_diquery = e => {\n    let igdarr = \"\",\n        eprarr = \"\";\n    result_box_list.map(v => {\n      igdarr += v.result_igdname;\n      igdarr += ',';\n      eprarr += v.eprd;\n      eprarr += ',';\n    });\n    Axios.post(\"https://qkrtmfqls.gabia.io/individual\", {\n      id: information.id,\n      igdname: igdarr,\n      eprdate: eprarr\n    }).then(response => {\n      get_rcp_rfg();\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {}, [result_box_list]);\n  useEffect(() => {\n    igdlist && basketInput();\n  }, [date]);\n\n  const clickimg = item => {\n    setselectingredient(item);\n    setigdlist(item);\n    Func_igdlist_select();\n  };\n\n  useEffect(() => {\n    Select_ingredient_thumbnail();\n  }, [selectingredient]);\n\n  const Select_ingredient_thumbnail = () => {\n    return igd_key_value.map(v => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: selectingredient == v ? \"select-ingredient-form\" : \"ingredient-form\",\n        role: \"button\",\n        onClick: e => {\n          clickimg(v);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ingredient-img-form\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"ingredient-img\",\n            src: ingredient_img[v],\n            alt: v\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ingredient-name-form\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ingredient-name\",\n            children: v\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, v, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this);\n    });\n  };\n\n  const Result_ingredient_thumbnail = () => {\n    return result_box_list.map(({\n      result_igdname\n    }) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rfg-result-form\",\n        role: \"button\",\n        onClick: () => {\n          result_basket(result_igdname);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-result-img-form\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"ingredient-img\",\n            src: ingredient_img[result_igdname],\n            alt: result_igdname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-result-name-form\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ingredient-name\",\n            children: result_igdname,\n            children: result_igdname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, result_igdname, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rfg-big-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rfg-up-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rfg-calendar-box\",\n        children: /*#__PURE__*/_jsxDEV(Calendar, {\n          onChange: setdate,\n          value: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rfg-ingredient-up-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-ingredient-text-box\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\uC7AC\\uB8CC \\uCC3E\\uC544\\uBCF4\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-ingredient-box\",\n          children: /*#__PURE__*/_jsxDEV(Select_ingredient_thumbnail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rfg-result-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rfg-result-text-box\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rfg-select-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-select-box-thumbnail-box\",\n          children: /*#__PURE__*/_jsxDEV(Result_ingredient_thumbnail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rfg-select-box-submit-btn\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => Func_reqbutton_diquery(),\n            children: \"SUBMIT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Func_filter_find_ingredient, \"sZKlXMkFfma5qCqhi2TM4yP3TKg=\");\n\n_c = Func_filter_find_ingredient;\nexport default Func_filter_find_ingredient;\n\nvar _c;\n\n$RefreshReg$(_c, \"Func_filter_find_ingredient\");","map":{"version":3,"sources":["/Users/seojiwon/Desktop/RefriBank/src/components/rfgpage/filter.js"],"names":["ingredient_img","useEffect","useState","Component","Calendar","Axios","moment","Func_filter_find_ingredient","get_rcp_rfg","result_box_list","setresult_box_list","information","date","setdate","Date","igdlist","setigdlist","selectingredient","setselectingredient","igd_key_value","set_igd_key_value","Func_igdlist_select","e","document","querySelector","classList","toggle","sort","Math","random","delete_igd","map","v","push","result_igdname","filter","includes","basketInput","select_eprdate","format","check","eprd","result_basket","src","i","Func_reqbutton_diquery","igdarr","eprarr","post","id","igdname","eprdate","then","response","catch","error","console","log","clickimg","item","Select_ingredient_thumbnail","Result_ingredient_thumbnail"],"mappings":"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","sourcesContent":["import ingredient_img from '../../img/ingredient_img/ingredient-img';\nimport { useEffect, useState, Component } from 'react';\nimport '../../style/rfgpage/rfg.css';\nimport Calendar from 'react-calendar';\nimport Axios from 'axios';\nimport moment from 'moment';\n\nfunction Func_filter_find_ingredient({ get_rcp_rfg, result_box_list, setresult_box_list, information }) {\n\n  const [date, setdate] = useState(new Date());\n  const [igdlist, setigdlist] = useState();\n  const [selectingredient, setselectingredient] = useState();\n  const [igd_key_value, set_igd_key_value] = useState(['닭', '오리', '돼지', '소', '소세지', '양파', '당근', '마늘', '버섯', '부추', '고추', '파', '상추', '토마토', '새우', '고등어', '게', '전복', '조개', '바지락', '홍합', '오징어', '생선', '멸치', '간장', '된장', '고추장', '쌈장', '참기름', '깨', '가루', '면', '밀가루', '밥', '계란', '우유', '치즈', '요거트']);\n\n  const Func_igdlist_select = ((e) => {\n    document.querySelector('.rfg-calendar-box').classList.toggle('calendar-toggle');\n  })\n\n  useEffect(() => {\n    set_igd_key_value(igd_key_value.sort(() => Math.random() - 0.5))\n  }, [])\n\n  useEffect(() => {\n    let delete_igd = []\n    result_box_list.map((v) => delete_igd.push(v.result_igdname))\n\n    set_igd_key_value(igd_key_value.filter((v) => !delete_igd.includes(v)))\n  }, [result_box_list])\n  \n  const basketInput = () => {\n    const select_eprdate = moment(date).format('YY-MM-DD');\n    let check = true\n    result_box_list.map((v) => v.result_igdname == igdlist ? check = false : 0)\n    if (check) {\n      setresult_box_list([...result_box_list, { result_igdname: igdlist, eprd: select_eprdate }]);\n    }\n    Func_igdlist_select();\n  }\n\n  const result_basket = (src) => {\n    set_igd_key_value([...igd_key_value, src])\n    setresult_box_list(result_box_list.filter(i => i.result_igdname !== src));\n  }\n\n  //submit 클릭시 기존의 result_box_list를 초기화하고 새롭게 insert하는 DI 쿼리 날림\n  const Func_reqbutton_diquery = (e) => {\n    let igdarr = \"\", eprarr = \"\";\n    result_box_list.map((v) => {\n      igdarr += v.result_igdname;\n      igdarr += ',';\n      eprarr += v.eprd;\n      eprarr += ',';\n    });\n    Axios.post(\"https://qkrtmfqls.gabia.io/individual\", {\n      id: information.id,\n      igdname: igdarr,\n      eprdate: eprarr,\n    })\n      .then((response) => {\n        get_rcp_rfg()\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  useEffect(() => {\n\n  }, [result_box_list])\n\n  useEffect(() => {\n    igdlist && basketInput();\n  }, [date])\n\n  const clickimg = (item) => {\n    setselectingredient(item)\n    setigdlist(item);\n    Func_igdlist_select();\n  }\n  useEffect(() => {\n    Select_ingredient_thumbnail()\n  }, [selectingredient])\n\n  const Select_ingredient_thumbnail = () => {\n    return (\n      igd_key_value.map((v) => {\n        return (\n          <div key={v} className={selectingredient == v ? \"select-ingredient-form\" : \"ingredient-form\"} role=\"button\" onClick={(e) => { clickimg(v) }}>\n            <div className=\"ingredient-img-form\">\n              <img className=\"ingredient-img\" src={ingredient_img[v]} alt={v} />\n            </div>\n            <div className=\"ingredient-name-form\">\n              <span className=\"ingredient-name\" children={v}></span>\n            </div>\n          </div>\n        )\n      })\n    )\n  }\n  const Result_ingredient_thumbnail = () => {\n    return result_box_list.map(({ result_igdname }) => {\n      return (\n        <div\n          key={result_igdname}\n          className=\"rfg-result-form\"\n          role=\"button\"\n          onClick={() => {\n            result_basket(result_igdname);\n          }}\n        >\n          <div className=\"rfg-result-img-form\">\n            <img className=\"ingredient-img\" src={ingredient_img[result_igdname]} alt={result_igdname} />\n          </div>\n          <div className=\"rfg-result-name-form\">\n            <span className=\"ingredient-name\" children={result_igdname}>\n              {result_igdname}\n            </span>\n          </div>\n        </div>\n      );\n    });\n  };\n\n  return (\n    <div className=\"rfg-big-box\">\n      <div className=\"rfg-up-box\">\n        <div className=\"rfg-calendar-box\">\n          <Calendar onChange={setdate} value={date} />\n        </div>\n        <div className=\"rfg-ingredient-up-box\">\n          <div className=\"rfg-ingredient-text-box\">\n            <p>재료 찾아보기</p>\n          </div>\n          <div className=\"rfg-ingredient-box\">\n            <Select_ingredient_thumbnail />\n          </div>\n        </div>\n      </div>\n\n      {/* v가 재료고 재료별로 클릭시 해당 v와 상대적인 위치에 달력을 보영주는거. 토클을 v한테 줘서 처음에는 전부 달력을 안가져오는 toggle 다줘.\n            클릭시 focus시 그 v만 달력을 부르도록 toggle을 바꿔줘. \n\n            달력 componet에서 날짜를 클릭 -> result box에 넣는거잖아.\n            달력 component는 날짜가 클릭될때 해당 v의 value값을 가져올 수있어야 함. 그리고 이 \n            value , \n            선택 날짜를 같이 result_box로 넣어줘야함.\n\n            이미지를 클릭했을떄 토글을 바꾸는게 아니라 true로 바꾸고\n            나머지를 클릭했을땐 false로 바꾸고\n            위치를 클릭한거 기준으로 위치 조정이 된다면 좋은데\n            냉장고로 넘어갈때 달력 value랑 클릭했던 재료 값이랑 같이 넘겨주면\n            \n            class toggle 재료별로 달력 div를 하위에 넣고 toggle로 on-off하면 되잖아?\n            달력을 component로 만들 수있다면? -> onClick 시 달력 component를 불러오는.\n            <달력 /> 토글을 여기선언  */}\n      <div className=\"rfg-result-box\">\n        <div className=\"rfg-result-text-box\">\n          <p>장바구니</p>\n        </div>\n        <div className=\"rfg-select-box\">\n          <div className=\"rfg-select-box-thumbnail-box\">\n            <Result_ingredient_thumbnail />\n          </div>\n          <div className=\"rfg-select-box-submit-btn\">\n            <button onClick={() => Func_reqbutton_diquery()}>SUBMIT</button>\n          </div>\n        </div>\n      </div>\n    </div >\n  );\n}\n\nexport default Func_filter_find_ingredient;\n"]},"metadata":{},"sourceType":"module"}