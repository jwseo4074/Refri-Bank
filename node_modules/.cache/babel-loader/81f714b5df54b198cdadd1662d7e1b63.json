{"ast":null,"code":"var _jsxFileName = \"/Users/seojiwon/Desktop/RefriBank/src/components/mypage/mywrite/mywrite.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../../../style/mypage/index.css';\nimport '../../../style/mypage/mypage.css';\nimport '../../../style/mypage/likeit.css';\nimport arrow_left from '../../../img/board/arrow_left.png';\nimport arrow_right from '../../../img/board/arrow_right.png';\nimport xbuttom from '../../../img/board/xbutton.jpg';\nimport Open_modal from './mywritecontent';\nimport Axios from 'axios';\nimport Alert from '../../../page/alert';\nimport Mywritetable from './mywritetable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Mywrite({\n  information,\n  history\n}) {\n  _s();\n\n  const [modalOn, setModalOn] = useState(false);\n  const [get_table_number, set_table_number] = useState();\n  const [get_modal_table, set_modal_table] = useState();\n  const [mywrite_table, set_mywrite_table] = useState(); // 페이지 버튼\n\n  const [page_color, set_page_color] = useState(0);\n  const [arrow_page, set_arrow_page] = useState(0);\n  const [mywrite_page_slice, set_mywrite_page_slice] = useState({\n    start: 0,\n    end: 10\n  });\n  const [mywrite_table_cnt, set_mywrite_table_cnt] = useState();\n  useEffect(() => {\n    if (get_modal_table != undefined) {\n      setModalOn(!modalOn);\n    }\n  }, [get_modal_table]);\n\n  const onCloseModal = () => {\n    setModalOn(false);\n  };\n\n  const Modal = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        \"data-aos\": \"zoom-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"closebtnbox\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"closebtn\",\n            role: \"button\",\n            src: xbuttom,\n            onClick: onCloseModal,\n            width: \"30px\",\n            height: \"30px\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Open_modal, {\n          get_table_number: get_table_number,\n          get_modal_table: get_modal_table[0],\n          information: information\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)\n    }, void 0, false);\n  };\n\n  useEffect(() => {\n    if (information !== undefined) {\n      Axios.post('https://qkrtmfqls.gabia.io/getmyboard/', {\n        id: information.id\n      }).then(response => {\n        set_mywrite_table(response.data);\n        set_mywrite_table_cnt(response.data.length / 10);\n      }).catch(error => {\n        console.log('reply', error);\n      });\n    }\n  }, [information]);\n\n  const get_my_table = async () => {\n    if (information !== undefined) {\n      Axios.post('https://qkrtmfqls.gabia.io/getmyboard/', {\n        id: information.id\n      }).then(response => {\n        set_mywrite_table(response.data);\n        set_mywrite_table_cnt(response.data.length / 10);\n      }).catch(error => {\n        console.log('reply', error);\n      });\n    }\n  }; // 페이지 버튼w\n\n\n  const Func_click_page_slice_btn = i => {\n    set_mywrite_page_slice({\n      start: i * 10,\n      end: (i + 1) * 10\n    });\n    set_page_color(i);\n  };\n\n  useEffect(() => {\n    set_arrow_page(0);\n    set_mywrite_page_slice({\n      start: 0,\n      end: 10\n    });\n    set_page_color(0);\n  }, [mywrite_table_cnt]);\n  useEffect(() => {\n    create_button();\n  }, [page_color]);\n\n  const create_button = () => {\n    let table_button = [];\n\n    for (let i = arrow_page * 10; i < arrow_page * 10 + 10; i++) {\n      // 10페이지씩 짤라\n      if (i > mywrite_table_cnt) break;\n      table_button.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: e => Func_click_page_slice_btn(i),\n        style: page_color == i ? {\n          color: 'rgba(1, 1, 1, 0.8)'\n        } : {\n          color: 'rgba(1, 1, 1, 0.4)'\n        },\n        className: \"like_select_num_btn_sub_form\",\n        children: i + 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this));\n    }\n\n    return table_button;\n  };\n\n  const Func_paging_minus = e => {\n    e.preventDefault();\n    set_arrow_page(arrow_page - 1);\n  };\n\n  const Func_paging_plus = e => {\n    e.preventDefault();\n    set_arrow_page(arrow_page + 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mypage_main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mypage_main_div\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"likeit_body\",\n        children: [modalOn ? /*#__PURE__*/_jsxDEV(Modal, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 22\n        }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"likeit_header_main_form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"likeit_header_title_form\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\uB0B4\\uAC00 \\uC791\\uC131\\uD55C \\uAC8C\\uC2DC\\uAE00\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"likeit_header_sub_form\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"\\uC624\\uB298\\uB3C4 \\uAC8C\\uC2DC\\uAE00\\uC744 \\uB0A8\\uACA8\\uBCF4\\uC138\\uC694\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"likeit_content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"body_header_main_form\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"body_header_sub_form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mywrite_no\",\n                children: \"No\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mywrite_title\",\n                children: \"\\uC81C\\uBAA9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mywrite_date\",\n                children: \"\\uB4F1\\uB85D\\uC77C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mywrite_cancel\",\n                children: \"\\uCDE8\\uC18C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"body_main_form\",\n            children: mywrite_table && /*#__PURE__*/_jsxDEV(Mywritetable, {\n              get_my_table: get_my_table,\n              set_table_number: set_table_number,\n              set_modal_table: set_modal_table,\n              mywrite_table: mywrite_table,\n              mywrite_page_slice: mywrite_page_slice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"likeit_bottom_box\",\n            children: [arrow_page > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"like_select_num_btn_left\",\n              onClick: e => Func_paging_minus(e),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: arrow_left,\n                width: \"11px\",\n                height: \"12px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 17\n            }, this) : '', mywrite_table_cnt && create_button(), (arrow_page + 1) * 10 < mywrite_table_cnt ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"like_select_num_btn_right\",\n              onClick: e => Func_paging_plus(e),\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: arrow_right,\n                width: \"11px\",\n                height: \"12px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this) : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 124,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Mywrite, \"KKjKsrY1x7O3oDkd7wJAJFJH9ic=\");\n\n_c = Mywrite;\nexport default Mywrite;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mywrite\");","map":{"version":3,"sources":["/Users/seojiwon/Desktop/RefriBank/src/components/mypage/mywrite/mywrite.js"],"names":["React","useState","useEffect","arrow_left","arrow_right","xbuttom","Open_modal","Axios","Alert","Mywritetable","Mywrite","information","history","modalOn","setModalOn","get_table_number","set_table_number","get_modal_table","set_modal_table","mywrite_table","set_mywrite_table","page_color","set_page_color","arrow_page","set_arrow_page","mywrite_page_slice","set_mywrite_page_slice","start","end","mywrite_table_cnt","set_mywrite_table_cnt","undefined","onCloseModal","Modal","post","id","then","response","data","length","catch","error","console","log","get_my_table","Func_click_page_slice_btn","i","create_button","table_button","push","e","color","Func_paging_minus","preventDefault","Func_paging_plus"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../../../style/mypage/index.css';\nimport '../../../style/mypage/mypage.css';\nimport '../../../style/mypage/likeit.css';\nimport arrow_left from '../../../img/board/arrow_left.png'\nimport arrow_right from '../../../img/board/arrow_right.png'\nimport xbuttom from '../../../img/board/xbutton.jpg';\nimport Open_modal from './mywritecontent';\nimport Axios from 'axios';\nimport Alert from '../../../page/alert';\nimport Mywritetable from './mywritetable';\n\nfunction Mywrite({ information, history }) {\n  const [modalOn, setModalOn] = useState(false);\n  const [get_table_number, set_table_number] = useState();\n  const [get_modal_table, set_modal_table] = useState();\n  const [mywrite_table, set_mywrite_table] = useState();\n\n  // 페이지 버튼\n  const [page_color, set_page_color] = useState(0);\n  const [arrow_page, set_arrow_page] = useState(0);\n  const [mywrite_page_slice, set_mywrite_page_slice] = useState({ start: 0, end: 10 });\n  const [mywrite_table_cnt, set_mywrite_table_cnt] = useState();\n\n  useEffect(() => {\n    if (get_modal_table != undefined) {\n      setModalOn(!modalOn);\n    }\n  }, [get_modal_table]);\n\n  const onCloseModal = () => {\n    setModalOn(false);\n  };\n\n  const Modal = () => {\n    return (\n      <>\n        {\n          <div className=\"modal\" data-aos=\"zoom-in\">\n            <div className=\"closebtnbox\">\n              <img className=\"closebtn\" role=\"button\" src={xbuttom} onClick={onCloseModal} width=\"30px\" height=\"30px\" />\n            </div>\n            <Open_modal get_table_number={get_table_number} get_modal_table={get_modal_table[0]} information={information} />\n          </div>\n        }\n      </>\n    );\n  };\n\n  useEffect(() => {\n    if (information !== undefined) {\n      Axios.post('https://qkrtmfqls.gabia.io/getmyboard/', {\n        id: information.id,\n      })\n        .then((response) => {\n          set_mywrite_table(response.data);\n          set_mywrite_table_cnt(response.data.length / 10);\n        })\n        .catch((error) => {\n          console.log('reply', error);\n        });\n    }\n  }, [information]);\n\n  const get_my_table = async () => {\n    if (information !== undefined) {\n      Axios.post('https://qkrtmfqls.gabia.io/getmyboard/', {\n        id: information.id,\n      })\n        .then((response) => {\n          set_mywrite_table(response.data);\n          set_mywrite_table_cnt(response.data.length / 10);\n        })\n        .catch((error) => {\n          console.log('reply', error);\n        });\n    }\n  };\n  // 페이지 버튼w\n  const Func_click_page_slice_btn = (i) => {\n    set_mywrite_page_slice({ start: i * 10, end: (i + 1) * 10 });\n    set_page_color(i);\n  };\n\n  useEffect(() => {\n    set_arrow_page(0);\n    set_mywrite_page_slice({ start: 0, end: 10 });\n    set_page_color(0);\n  }, [mywrite_table_cnt]);\n\n  useEffect(() => {\n    create_button();\n  }, [page_color]);\n\n  const create_button = () => {\n    let table_button = [];\n    for (let i = arrow_page * 10; i < arrow_page * 10 + 10; i++) {\n      // 10페이지씩 짤라\n      if (i > mywrite_table_cnt) break;\n\n      table_button.push(\n        <div\n          onClick={(e) => Func_click_page_slice_btn(i)}\n          style={page_color == i ? { color: 'rgba(1, 1, 1, 0.8)' } : { color: 'rgba(1, 1, 1, 0.4)' }}\n          className=\"like_select_num_btn_sub_form\"\n        >\n          {i + 1}\n        </div>,\n      );\n    }\n    return table_button;\n  };\n\n  const Func_paging_minus = (e) => {\n    e.preventDefault();\n    set_arrow_page(arrow_page - 1);\n  };\n  const Func_paging_plus = (e) => {\n    e.preventDefault();\n    set_arrow_page(arrow_page + 1);\n  };\n\n  return (\n    <div className=\"mypage_main\">\n      <div className=\"mypage_main_div\">\n        <div className=\"likeit_body\">\n          {modalOn ? <Modal /> : ''}\n          <div className=\"likeit_header_main_form\">\n            <div className=\"likeit_header_title_form\">\n              <h2>내가 작성한 게시글</h2>\n            </div>\n            <div className=\"likeit_header_sub_form\">\n              <h4>오늘도 게시글을 남겨보세요</h4>\n            </div>\n          </div>\n          <div className=\"likeit_content\">\n            <div className=\"body_header_main_form\">\n              <div className=\"body_header_sub_form\">\n                <div className=\"mywrite_no\">No</div>\n                <div className=\"mywrite_title\">제목</div>\n                {/* mywrite_date만 css 공유 안함 */}\n                <div className=\"mywrite_date\">등록일</div>\n                <div className=\"mywrite_cancel\">취소</div>\n              </div>\n            </div>\n            <div className=\"body_main_form\">\n              {mywrite_table && (\n                <Mywritetable\n                  get_my_table={get_my_table}\n                  set_table_number={set_table_number}\n                  set_modal_table={set_modal_table}\n                  mywrite_table={mywrite_table}\n                  mywrite_page_slice={mywrite_page_slice}\n                ></Mywritetable>\n              )}\n            </div>\n            <div className=\"likeit_bottom_box\">\n              {arrow_page > 0 ? (\n                <div className=\"like_select_num_btn_left\" onClick={(e) => Func_paging_minus(e)}>\n                  <img src={arrow_left} width=\"11px\" height=\"12px\" />\n                </div>\n              ) : (\n                ''\n              )}\n              {mywrite_table_cnt && create_button()}\n\n              {(arrow_page + 1) * 10 < mywrite_table_cnt ? (\n                <div className=\"like_select_num_btn_right\" onClick={(e) => Func_paging_plus(e)}>\n                  <img src={arrow_right} width=\"11px\" height=\"12px\" />\n                </div>\n              ) : (\n                ''\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Mywrite;\n"]},"metadata":{},"sourceType":"module"}