"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var styles_1 = require("../../styles");
var AvatarSizeContext_1 = require("./AvatarSizeContext");
exports.AvatarStylesKey = 'ChromaAvatar';
exports.useStyles = styles_1.makeStyles(function (theme) { return ({
    root: {
        alignItems: 'center',
        backgroundColor: theme.palette.primary.main,
        border: theme.pxToRem(1) + " solid " + theme.palette.black[100],
        borderRadius: 9999,
        color: theme.palette.common.white,
        display: 'inline-flex',
        flexShrink: 0,
        justifyContent: 'center',
        outline: 'none',
        position: 'relative',
        transition: 'opacity 0.25s ease, border 0.25s ease',
        userSelect: 'none',
        '&:focus': {
            opacity: 0.85,
            border: theme.pxToRem(2) + " solid " + theme.palette.black[700],
        },
    },
    size0: {
        fontSize: theme.typography.caption.fontSize,
        fontWeight: theme.typography.fontWeightBold,
        width: theme.pxToRem(22),
        height: theme.pxToRem(22),
    },
    size1: {
        fontSize: theme.typography.body1.fontSize,
        width: theme.pxToRem(32),
        height: theme.pxToRem(32),
    },
    size2: {
        fontSize: theme.typography.h5.fontSize,
        width: theme.pxToRem(42),
        height: theme.pxToRem(42),
    },
    img: {
        width: '100%',
        height: '100%',
        objectFit: 'cover',
        maxWidth: '100%',
        verticalAlign: 'middle',
        borderRadius: 9999,
    },
    defaultSrc: {
        fill: theme.palette.common.white,
    },
    clickable: {
        cursor: 'pointer',
        '&:hover': {
            opacity: 0.85,
            border: theme.pxToRem(1) + " solid " + theme.palette.black[700],
        },
    },
}); }, { name: exports.AvatarStylesKey });
var getInitials = function (name) {
    var _a;
    if (!name) {
        return '';
    }
    var firstName = name.split(' ')[0];
    return (_a = firstName === null || firstName === void 0 ? void 0 : firstName.charAt(0)) === null || _a === void 0 ? void 0 : _a.toUpperCase();
};
exports.Avatar = React.forwardRef(function (_a, ref) {
    var _b;
    var className = _a.className, children = _a.children, _c = _a.name, name = _c === void 0 ? '' : _c, onClick = _a.onClick, _d = _a.size, size = _d === void 0 ? 1 : _d, src = _a.src, _e = _a.useDefaultSrc, useDefaultSrc = _e === void 0 ? false : _e, rootProps = __rest(_a, ["className", "children", "name", "onClick", "size", "src", "useDefaultSrc"]);
    var classes = exports.useStyles({});
    // We need to be *super* careful to not display any self identifying information
    // (name or image src) if "useDefaultSrc" is provided.  This will ensure
    // that our "masked mode" when dealing with healthcare information is respected
    return (
    // We conditionally add the role if `onClick` is provided
    // eslint-disable-next-line jsx-a11y/no-static-element-interactions
    React.createElement("div", __assign({ ref: ref, className: clsx_1.default(classes.root, (_b = {},
            _b[classes.size0] = size === 0,
            _b[classes.size1] = size === 1,
            _b[classes.size2] = size === 2,
            _b), onClick && classes.clickable, className), onClick: onClick, "aria-label": !src && name && !useDefaultSrc ? name : undefined, role: onClick ? 'button' : undefined, tabIndex: onClick ? 0 : undefined }, rootProps),
        !src && !useDefaultSrc ? getInitials(name) : null,
        src && !useDefaultSrc && (React.createElement("img", { className: classes.img, src: src, alt: name })),
        useDefaultSrc && (React.createElement("svg", { className: clsx_1.default(classes.img, classes.defaultSrc), fill: "currentColor", viewBox: "0 0 128 128", role: "img" },
            React.createElement("g", null,
                React.createElement("path", { d: "M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z" }),
                React.createElement("path", { d: "M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24" })))),
        children && (React.createElement(AvatarSizeContext_1.AvatarSizeContext.Provider, { value: { size: size } }, children))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXZhdGFyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQXZhdGFyL0F2YXRhci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDhDQUF3QjtBQUN4QiwyQ0FBK0I7QUFDL0IsdUNBQTBDO0FBRTFDLHlEQUF3RDtBQUUzQyxRQUFBLGVBQWUsR0FBRyxjQUFjLENBQUM7QUFFakMsUUFBQSxTQUFTLEdBQUcsbUJBQVUsQ0FDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsSUFBSSxFQUFFO1FBQ0osVUFBVSxFQUFFLFFBQVE7UUFDcEIsZUFBZSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUk7UUFDM0MsTUFBTSxFQUFLLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQVUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFHO1FBQy9ELFlBQVksRUFBRSxJQUFJO1FBQ2xCLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ2pDLE9BQU8sRUFBRSxhQUFhO1FBQ3RCLFVBQVUsRUFBRSxDQUFDO1FBQ2IsY0FBYyxFQUFFLFFBQVE7UUFDeEIsT0FBTyxFQUFFLE1BQU07UUFDZixRQUFRLEVBQUUsVUFBVTtRQUNwQixVQUFVLEVBQUUsdUNBQXVDO1FBQ25ELFVBQVUsRUFBRSxNQUFNO1FBQ2xCLFNBQVMsRUFBRTtZQUNULE9BQU8sRUFBRSxJQUFJO1lBQ2IsTUFBTSxFQUFLLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLGVBQVUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFHO1NBQ2hFO0tBQ0Y7SUFDRCxLQUFLLEVBQUU7UUFDTCxRQUFRLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsUUFBUTtR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QyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxFQUNwQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsSUFDN0IsU0FBUztRQUVaLENBQUMsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUk7UUFDakQsR0FBRyxJQUFJLENBQUMsYUFBYSxJQUFJLENBQ3hCLDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksR0FBSSxDQUNyRDtRQUNBLGFBQWEsSUFBSSxDQUNoQiw2QkFDRSxTQUFTLEVBQUUsY0FBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUNoRCxJQUFJLEVBQUMsY0FBYyxFQUNuQixPQUFPLEVBQUMsYUFBYSxFQUNyQixJQUFJLEVBQUMsS0FBSztZQUVWO2dCQUNFLDhCQUFNLENBQUMsRUFBQywrTEFBK0wsR0FBRztnQkFDMU0sOEJBQU0sQ0FBQyxFQUFDLDRMQUE0TCxHQUFHLENBQ3JNLENBQ0EsQ0FDUDtRQUNBLFFBQVEsSUFBSSxDQUNYLG9CQUFDLHFDQUFpQixDQUFDLFFBQVEsSUFBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLE1BQUEsRUFBRSxJQUN4QyxRQUFRLENBQ2tCLENBQzlCLENBQ0csQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBBdmF0YXJTaXplQ29udGV4dCB9IGZyb20gJy4vQXZhdGFyU2l6ZUNvbnRleHQnO1xuXG5leHBvcnQgY29uc3QgQXZhdGFyU3R5bGVzS2V5ID0gJ0Nocm9tYUF2YXRhcic7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm9yZGVyOiBgJHt0aGVtZS5weFRvUmVtKDEpfSBzb2xpZCAke3RoZW1lLnBhbGV0dGUuYmxhY2tbMTAwXX1gLFxuICAgICAgYm9yZGVyUmFkaXVzOiA5OTk5LFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IDAuMjVzIGVhc2UsIGJvcmRlciAwLjI1cyBlYXNlJyxcbiAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICBvcGFjaXR5OiAwLjg1LFxuICAgICAgICBib3JkZXI6IGAke3RoZW1lLnB4VG9SZW0oMil9IHNvbGlkICR7dGhlbWUucGFsZXR0ZS5ibGFja1s3MDBdfWAsXG4gICAgICB9LFxuICAgIH0sXG4gICAgc2l6ZTA6IHtcbiAgICAgIGZvbnRTaXplOiB0aGVtZS50eXBvZ3JhcGh5LmNhcHRpb24uZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRCb2xkLFxuICAgICAgd2lkdGg6IHRoZW1lLnB4VG9SZW0oMjIpLFxuICAgICAgaGVpZ2h0OiB0aGVtZS5weFRvUmVtKDIyKSxcbiAgICB9LFxuICAgIHNpemUxOiB7XG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5ib2R5MS5mb250U2l6ZSxcbiAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDMyKSxcbiAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSgzMiksXG4gICAgfSxcbiAgICBzaXplMjoge1xuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuaDUuZm9udFNpemUsXG4gICAgICB3aWR0aDogdGhlbWUucHhUb1JlbSg0MiksXG4gICAgICBoZWlnaHQ6IHRoZW1lLnB4VG9SZW0oNDIpLFxuICAgIH0sXG4gICAgaW1nOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICBvYmplY3RGaXQ6ICdjb3ZlcicsXG4gICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICBib3JkZXJSYWRpdXM6IDk5OTksXG4gICAgfSxcbiAgICBkZWZhdWx0U3JjOiB7XG4gICAgICBmaWxsOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICB9LFxuICAgIGNsaWNrYWJsZToge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgb3BhY2l0eTogMC44NSxcbiAgICAgICAgYm9yZGVyOiBgJHt0aGVtZS5weFRvUmVtKDEpfSBzb2xpZCAke3RoZW1lLnBhbGV0dGUuYmxhY2tbNzAwXX1gLFxuICAgICAgfSxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBBdmF0YXJTdHlsZXNLZXkgfVxuKTtcblxuZXhwb3J0IHR5cGUgQXZhdGFyQ2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXZhdGFyUHJvcHMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnRQcm9wc1dpdGhvdXRSZWY8J2Rpdic+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBzaXplPzogMCB8IDEgfCAyO1xuICBzcmM/OiBzdHJpbmc7XG4gIHVzZURlZmF1bHRTcmM/OiBib29sZWFuO1xufVxuXG5jb25zdCBnZXRJbml0aWFscyA9IChuYW1lOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFuYW1lKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgY29uc3QgW2ZpcnN0TmFtZV0gPSBuYW1lLnNwbGl0KCcgJyk7XG5cbiAgcmV0dXJuIGZpcnN0TmFtZT8uY2hhckF0KDApPy50b1VwcGVyQ2FzZSgpO1xufTtcblxuZXhwb3J0IGNvbnN0IEF2YXRhciA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIEF2YXRhclByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbmFtZSA9ICcnLFxuICAgICAgb25DbGljayxcbiAgICAgIHNpemUgPSAxLFxuICAgICAgc3JjLFxuICAgICAgdXNlRGVmYXVsdFNyYyA9IGZhbHNlLFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG5cbiAgICAvLyBXZSBuZWVkIHRvIGJlICpzdXBlciogY2FyZWZ1bCB0byBub3QgZGlzcGxheSBhbnkgc2VsZiBpZGVudGlmeWluZyBpbmZvcm1hdGlvblxuICAgIC8vIChuYW1lIG9yIGltYWdlIHNyYykgaWYgXCJ1c2VEZWZhdWx0U3JjXCIgaXMgcHJvdmlkZWQuICBUaGlzIHdpbGwgZW5zdXJlXG4gICAgLy8gdGhhdCBvdXIgXCJtYXNrZWQgbW9kZVwiIHdoZW4gZGVhbGluZyB3aXRoIGhlYWx0aGNhcmUgaW5mb3JtYXRpb24gaXMgcmVzcGVjdGVkXG4gICAgcmV0dXJuIChcbiAgICAgIC8vIFdlIGNvbmRpdGlvbmFsbHkgYWRkIHRoZSByb2xlIGlmIGBvbkNsaWNrYCBpcyBwcm92aWRlZFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9uc1xuICAgICAgPGRpdlxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgIGNsYXNzZXMucm9vdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBbY2xhc3Nlcy5zaXplMF06IHNpemUgPT09IDAsXG4gICAgICAgICAgICBbY2xhc3Nlcy5zaXplMV06IHNpemUgPT09IDEsXG4gICAgICAgICAgICBbY2xhc3Nlcy5zaXplMl06IHNpemUgPT09IDIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkNsaWNrICYmIGNsYXNzZXMuY2xpY2thYmxlLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApfVxuICAgICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgICBhcmlhLWxhYmVsPXshc3JjICYmIG5hbWUgJiYgIXVzZURlZmF1bHRTcmMgPyBuYW1lIDogdW5kZWZpbmVkfVxuICAgICAgICByb2xlPXtvbkNsaWNrID8gJ2J1dHRvbicgOiB1bmRlZmluZWR9XG4gICAgICAgIHRhYkluZGV4PXtvbkNsaWNrID8gMCA6IHVuZGVmaW5lZH1cbiAgICAgICAgey4uLnJvb3RQcm9wc31cbiAgICAgID5cbiAgICAgICAgeyFzcmMgJiYgIXVzZURlZmF1bHRTcmMgPyBnZXRJbml0aWFscyhuYW1lKSA6IG51bGx9XG4gICAgICAgIHtzcmMgJiYgIXVzZURlZmF1bHRTcmMgJiYgKFxuICAgICAgICAgIDxpbWcgY2xhc3NOYW1lPXtjbGFzc2VzLmltZ30gc3JjPXtzcmN9IGFsdD17bmFtZX0gLz5cbiAgICAgICAgKX1cbiAgICAgICAge3VzZURlZmF1bHRTcmMgJiYgKFxuICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLmltZywgY2xhc3Nlcy5kZWZhdWx0U3JjKX1cbiAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgdmlld0JveD1cIjAgMCAxMjggMTI4XCJcbiAgICAgICAgICAgIHJvbGU9XCJpbWdcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxnPlxuICAgICAgICAgICAgICA8cGF0aCBkPVwiTTEwMywxMDIuMTM4OCBDOTMuMDk0LDExMS45MiA3OS4zNTA0LDExOCA2NC4xNjM4LDExOCBDNDguODA1NiwxMTggMzQuOTI5NCwxMTEuNzY4IDI1LDEwMS43ODkyIEwyNSw5NS4yIEMyNSw4Ni44MDk2IDMxLjk4MSw4MCA0MC42LDgwIEw4Ny40LDgwIEM5Ni4wMTksODAgMTAzLDg2LjgwOTYgMTAzLDk1LjIgTDEwMywxMDIuMTM4OCBaXCIgLz5cbiAgICAgICAgICAgICAgPHBhdGggZD1cIk02My45OTYxNjQ3LDI0IEM1MS4yOTM4MTM2LDI0IDQxLDM0LjI5MzgxMzYgNDEsNDYuOTk2MTY0NyBDNDEsNTkuNzA2MTg2NCA1MS4yOTM4MTM2LDcwIDYzLjk5NjE2NDcsNzAgQzc2LjY5ODUxNTksNzAgODcsNTkuNzA2MTg2NCA4Nyw0Ni45OTYxNjQ3IEM4NywzNC4yOTM4MTM2IDc2LjY5ODUxNTksMjQgNjMuOTk2MTY0NywyNFwiIC8+XG4gICAgICAgICAgICA8L2c+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICl9XG4gICAgICAgIHtjaGlsZHJlbiAmJiAoXG4gICAgICAgICAgPEF2YXRhclNpemVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHNpemUgfX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgPC9BdmF0YXJTaXplQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbik7XG4iXX0=