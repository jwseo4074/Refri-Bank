"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PageLayout = exports.useStyles = exports.PageLayoutStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var PageLayoutDefaultHero_svg_1 = __importDefault(require("../../assets/PageLayoutDefaultHero.svg"));
var styles_1 = require("../../styles");
var PageHeader_1 = require("../PageHeader");
exports.PageLayoutStylesKey = 'ChromaPageLayout';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {
        display: 'flex',
        flexDirection: 'column',
        flex: 1,
        minHeight: '100%',
        marginRight: 'auto',
        marginLeft: 'auto',
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
    },
    maxWidth: {
        maxWidth: theme.pxToRem(1344),
    },
    backgroundCover: {
        position: 'relative',
        // Negative margin so that it can stretch
        // outside of the default padding specified by `root`.
        marginLeft: -theme.spacing(4),
        marginRight: -theme.spacing(4),
        background: "url(".concat(PageLayoutDefaultHero_svg_1.default, ") ").concat(theme.palette.primary.main),
        backgroundSize: 'cover',
        marginBottom: theme.spacing(2),
    },
    headerBackgroundPadding: {
        paddingTop: theme.spacing(3),
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
        paddingBottom: theme.spacing(3),
    },
    disclaimer: {
        paddingBottom: theme.spacing(2),
    },
    tabs: {
        padding: theme.spacing(0),
    },
    sidebar: {
        width: theme.pxToRem(192),
        marginRight: theme.spacing(3),
        flexGrow: 0,
        flexShrink: 0,
    },
    layoutContainer: {
        display: 'flex',
        height: '100%',
        marginBottom: theme.spacing(4),
    },
    content: {
        flex: 1,
        width: '100%',
        // Fix for firefox so the content doesn't overflow
        maxWidth: '100%',
    },
}); }, { name: exports.PageLayoutStylesKey });
var ConditionalWrapper = function (_a) {
    var condition = _a.condition, wrapper = _a.wrapper, children = _a.children;
    return (condition ? wrapper(children) : children);
};
exports.PageLayout = React.forwardRef(function (_a, ref) {
    var backgroundImage = _a.backgroundImage, _b = _a.headerAlign, headerAlign = _b === void 0 ? 'center' : _b, headerCenter = _a.headerCenter, headerCenterClassName = _a.headerCenterClassName, headerActionsClassName = _a.headerActionsClassName, children = _a.children, additionalClasses = _a.classes, className = _a.className, disclaimer = _a.disclaimer, headerActions = _a.headerActions, sidebar = _a.sidebar, title = _a.title, tabs = _a.tabs, _c = _a.maxWidth, maxWidth = _c === void 0 ? true : _c, _d = _a.applyBackgroundCover, applyBackgroundCover = _d === void 0 ? false : _d, left = _a.left, leftClassName = _a.leftClassName, rootProps = __rest(_a, ["backgroundImage", "headerAlign", "headerCenter", "headerCenterClassName", "headerActionsClassName", "children", "classes", "className", "disclaimer", "headerActions", "sidebar", "title", "tabs", "maxWidth", "applyBackgroundCover", "left", "leftClassName"]);
    var classes = (0, exports.useStyles)({ classes: additionalClasses });
    return (React.createElement("div", __assign({ ref: ref, className: (0, clsx_1.default)(classes.root, maxWidth && !applyBackgroundCover && classes.maxWidth, className) }, rootProps),
        React.createElement(ConditionalWrapper, { condition: applyBackgroundCover, wrapper: function (children) { return (React.createElement("div", { className: classes.backgroundCover, style: backgroundImage
                    ? {
                        backgroundImage: "url(".concat(backgroundImage, ")"),
                    }
                    : undefined }, children)); } },
            React.createElement(PageHeader_1.PageHeader, { align: headerAlign, className: applyBackgroundCover ? classes.headerBackgroundPadding : '', title: title, center: headerCenter, centerClassName: headerCenterClassName, margin: "none", actions: headerActions, actionsClassName: headerActionsClassName, color: applyBackgroundCover ? 'inverse' : 'default', left: left, leftClassName: leftClassName })),
        !!disclaimer && React.createElement("div", { className: classes.disclaimer }, disclaimer),
        !!tabs && React.createElement("div", { className: classes.tabs }, tabs),
        React.createElement("div", { className: classes.layoutContainer },
            !!sidebar && React.createElement("div", { className: classes.sidebar }, sidebar),
            React.createElement("div", { className: classes.content }, children))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZUxheW91dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1BhZ2VMYXlvdXQvUGFnZUxheW91dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUMvQixxR0FBMkU7QUFDM0UsdUNBQTBDO0FBRTFDLDRDQUE0RDtBQUUvQyxRQUFBLG1CQUFtQixHQUFHLGtCQUFrQixDQUFDO0FBRXpDLFFBQUEsU0FBUyxHQUFHLElBQUEsbUJBQVUsRUFDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUFFLE1BQU07UUFDZixhQUFhLEVBQUUsUUFBUTtRQUN2QixJQUFJLEVBQUUsQ0FBQztRQUNQLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLFdBQVcsRUFBRSxNQUFNO1FBQ25CLFVBQVUsRUFBRSxNQUFNO1FBQ2xCLFdBQVcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUM3QixZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7S0FDOUI7SUFDRCxlQUFlLEVBQUU7UUFDZixRQUFRLEVBQUUsVUFBVTtRQUNwQix5Q0FBeUM7UUFDekMsc0RBQXNEO1FBQ3RELFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzlCLFVBQVUsRUFBRSxjQUFPLG1DQUFxQixlQUFLLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBRTtRQUN6RSxjQUFj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ZTtvQkFDYixDQUFDLENBQUM7d0JBQ0UsZUFBZSxFQUFFLGNBQU8sZUFBZSxNQUFHO3FCQUMzQztvQkFDSCxDQUFDLENBQUMsU0FBUyxJQUdkLFFBQVEsQ0FDTCxDQUNQLEVBYnVDLENBYXZDO1lBRUQsb0JBQUMsdUJBQVUsSUFDVCxLQUFLLEVBQUUsV0FBVyxFQUNsQixTQUFTLEVBQ1Asb0JBQW9CLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUU3RCxLQUFLLEVBQUUsS0FBSyxFQUNaLE1BQU0sRUFBRSxZQUFZLEVBQ3BCLGVBQWUsRUFBRSxxQkFBcUIsRUFDdEMsTUFBTSxFQUFDLE1BQU0sRUFDYixPQUFPLEVBQUUsYUFBYSxFQUN0QixnQkFBZ0IsRUFBRSxzQkFBc0IsRUFDeEMsS0FBSyxFQUFFLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDbkQsSUFBSSxFQUFFLElBQUksRUFDVixhQUFhLEVBQUUsYUFBYSxHQUM1QixDQUNpQjtRQUVwQixDQUFDLENBQUMsVUFBVSxJQUFJLDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsVUFBVSxJQUFHLFVBQVUsQ0FBTztRQUN0RSxDQUFDLENBQUMsSUFBSSxJQUFJLDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsSUFBSSxJQUFHLElBQUksQ0FBTztRQUVyRCw2QkFBSyxTQUFTLEVBQUUsT0FBTyxDQUFDLGVBQWU7WUFDcEMsQ0FBQyxDQUFDLE9BQU8sSUFBSSw2QkFBSyxTQUFTLEVBQUUsT0FBTyxDQUFDLE9BQU8sSUFBRyxPQUFPLENBQU87WUFDOUQsNkJBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQyxPQUFPLElBQUcsUUFBUSxDQUFPLENBQzdDLENBQ0YsQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQYWdlTGF5b3V0RGVmYXVsdEhlcm8gZnJvbSAnLi4vLi4vYXNzZXRzL1BhZ2VMYXlvdXREZWZhdWx0SGVyby5zdmcnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJy4uLy4uL3N0eWxlcyc7XG5pbXBvcnQgeyBHZXRDbGFzc2VzLCBTdGFuZGFyZFByb3BzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcbmltcG9ydCB7IFBhZ2VIZWFkZXIsIFBhZ2VIZWFkZXJQcm9wcyB9IGZyb20gJy4uL1BhZ2VIZWFkZXInO1xuXG5leHBvcnQgY29uc3QgUGFnZUxheW91dFN0eWxlc0tleSA9ICdDaHJvbWFQYWdlTGF5b3V0JztcblxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoXG4gICh0aGVtZSkgPT4gKHtcbiAgICByb290OiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgIGZsZXg6IDEsXG4gICAgICBtaW5IZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1hcmdpblJpZ2h0OiAnYXV0bycsXG4gICAgICBtYXJnaW5MZWZ0OiAnYXV0bycsXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZyg0KSxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZyg0KSxcbiAgICB9LFxuICAgIG1heFdpZHRoOiB7XG4gICAgICBtYXhXaWR0aDogdGhlbWUucHhUb1JlbSgxMzQ0KSxcbiAgICB9LFxuICAgIGJhY2tncm91bmRDb3Zlcjoge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAvLyBOZWdhdGl2ZSBtYXJnaW4gc28gdGhhdCBpdCBjYW4gc3RyZXRjaFxuICAgICAgLy8gb3V0c2lkZSBvZiB0aGUgZGVmYXVsdCBwYWRkaW5nIHNwZWNpZmllZCBieSBgcm9vdGAuXG4gICAgICBtYXJnaW5MZWZ0OiAtdGhlbWUuc3BhY2luZyg0KSxcbiAgICAgIG1hcmdpblJpZ2h0OiAtdGhlbWUuc3BhY2luZyg0KSxcbiAgICAgIGJhY2tncm91bmQ6IGB1cmwoJHtQYWdlTGF5b3V0RGVmYXVsdEhlcm99KSAke3RoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWlufWAsXG4gICAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvdmVyJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygyKSxcbiAgICB9LFxuICAgIGhlYWRlckJhY2tncm91bmRQYWRkaW5nOiB7XG4gICAgICBwYWRkaW5nVG9wOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBwYWRkaW5nQm90dG9tOiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgIH0sXG4gICAgZGlzY2xhaW1lcjoge1xuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygyKSxcbiAgICB9LFxuICAgIHRhYnM6IHtcbiAgICAgIHBhZGRpbmc6IHRoZW1lLnNwYWNpbmcoMCksXG4gICAgfSxcbiAgICBzaWRlYmFyOiB7XG4gICAgICB3aWR0aDogdGhlbWUucHhUb1JlbSgxOTIpLFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMyksXG4gICAgICBmbGV4R3JvdzogMCxcbiAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgfSxcbiAgICBsYXlvdXRDb250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgIH0sXG4gICAgY29udGVudDoge1xuICAgICAgZmxleDogMSxcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAvLyBGaXggZm9yIGZpcmVmb3ggc28gdGhlIGNvbnRlbnQgZG9lc24ndCBvdmVyZmxvd1xuICAgICAgbWF4V2lkdGg6ICcxMDAlJyxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBQYWdlTGF5b3V0U3R5bGVzS2V5IH1cbik7XG5cbmV4cG9ydCB0eXBlIFBhZ2VMYXlvdXRDbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBQYWdlTGF5b3V0UHJvcHNcbiAgZXh0ZW5kcyBTdGFuZGFyZFByb3BzPEhUTUxEaXZFbGVtZW50LCBQYWdlTGF5b3V0Q2xhc3Nlcz4ge1xuICBiYWNrZ3JvdW5kSW1hZ2U/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBkaXNjbGFpbWVyPzogUmVhY3QuUmVhY3ROb2RlO1xuICBoZWFkZXJBY3Rpb25zPzogUGFnZUhlYWRlclByb3BzWydhY3Rpb25zJ107XG4gIGhlYWRlckFsaWduPzogUGFnZUhlYWRlclByb3BzWydhbGlnbiddO1xuICBoZWFkZXJDZW50ZXI/OiBQYWdlSGVhZGVyUHJvcHNbJ2NlbnRlciddO1xuICBoZWFkZXJDZW50ZXJDbGFzc05hbWU/OiBQYWdlSGVhZGVyUHJvcHNbJ2NlbnRlckNsYXNzTmFtZSddO1xuICBoZWFkZXJBY3Rpb25zQ2xhc3NOYW1lPzogUGFnZUhlYWRlclByb3BzWydhY3Rpb25zQ2xhc3NOYW1lJ107XG4gIHNpZGViYXI/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHRpdGxlPzogUGFnZUhlYWRlclByb3BzWyd0aXRsZSddO1xuICB0YWJzPzogUmVhY3QuUmVhY3ROb2RlO1xuICBtYXhXaWR0aD86IGJvb2xlYW47XG4gIGFwcGx5QmFja2dyb3VuZENvdmVyPzogYm9vbGVhbjtcbiAgbGVmdD86IFBhZ2VIZWFkZXJQcm9wc1snbGVmdCddO1xuICBsZWZ0Q2xhc3NOYW1lPzogUGFnZUhlYWRlclByb3BzWydsZWZ0Q2xhc3NOYW1lJ107XG59XG5cbmludGVyZmFjZSBDb25kaXRpb25hbFdyYXBwZXJQcm9wcyB7XG4gIGNvbmRpdGlvbjogYm9vbGVhbjtcbiAgd3JhcHBlcjogYW55O1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5jb25zdCBDb25kaXRpb25hbFdyYXBwZXI6IFJlYWN0LkZDPENvbmRpdGlvbmFsV3JhcHBlclByb3BzPiA9ICh7XG4gIGNvbmRpdGlvbixcbiAgd3JhcHBlcixcbiAgY2hpbGRyZW4sXG59KSA9PiAoY29uZGl0aW9uID8gd3JhcHBlcihjaGlsZHJlbikgOiBjaGlsZHJlbik7XG5cbmV4cG9ydCBjb25zdCBQYWdlTGF5b3V0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgUGFnZUxheW91dFByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIGJhY2tncm91bmRJbWFnZSxcbiAgICAgIGhlYWRlckFsaWduID0gJ2NlbnRlcicsXG4gICAgICBoZWFkZXJDZW50ZXIsXG4gICAgICBoZWFkZXJDZW50ZXJDbGFzc05hbWUsXG4gICAgICBoZWFkZXJBY3Rpb25zQ2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGRpc2NsYWltZXIsXG4gICAgICBoZWFkZXJBY3Rpb25zLFxuICAgICAgc2lkZWJhcixcbiAgICAgIHRpdGxlLFxuICAgICAgdGFicyxcbiAgICAgIG1heFdpZHRoID0gdHJ1ZSxcbiAgICAgIGFwcGx5QmFja2dyb3VuZENvdmVyID0gZmFsc2UsXG4gICAgICBsZWZ0LFxuICAgICAgbGVmdENsYXNzTmFtZSxcbiAgICAgIC4uLnJvb3RQcm9wc1xuICAgIH0sXG4gICAgcmVmXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoeyBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5yb290LFxuICAgICAgICAgIG1heFdpZHRoICYmICFhcHBseUJhY2tncm91bmRDb3ZlciAmJiBjbGFzc2VzLm1heFdpZHRoLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApfVxuICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgPlxuICAgICAgICA8Q29uZGl0aW9uYWxXcmFwcGVyXG4gICAgICAgICAgY29uZGl0aW9uPXthcHBseUJhY2tncm91bmRDb3Zlcn1cbiAgICAgICAgICB3cmFwcGVyPXsoY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSkgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYmFja2dyb3VuZENvdmVyfVxuICAgICAgICAgICAgICBzdHlsZT17XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtiYWNrZ3JvdW5kSW1hZ2V9KWAsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQYWdlSGVhZGVyXG4gICAgICAgICAgICBhbGlnbj17aGVhZGVyQWxpZ259XG4gICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICBhcHBseUJhY2tncm91bmRDb3ZlciA/IGNsYXNzZXMuaGVhZGVyQmFja2dyb3VuZFBhZGRpbmcgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgICAgY2VudGVyPXtoZWFkZXJDZW50ZXJ9XG4gICAgICAgICAgICBjZW50ZXJDbGFzc05hbWU9e2hlYWRlckNlbnRlckNsYXNzTmFtZX1cbiAgICAgICAgICAgIG1hcmdpbj1cIm5vbmVcIlxuICAgICAgICAgICAgYWN0aW9ucz17aGVhZGVyQWN0aW9uc31cbiAgICAgICAgICAgIGFjdGlvbnNDbGFzc05hbWU9e2hlYWRlckFjdGlvbnNDbGFzc05hbWV9XG4gICAgICAgICAgICBjb2xvcj17YXBwbHlCYWNrZ3JvdW5kQ292ZXIgPyAnaW52ZXJzZScgOiAnZGVmYXVsdCd9XG4gICAgICAgICAgICBsZWZ0PXtsZWZ0fVxuICAgICAgICAgICAgbGVmdENsYXNzTmFtZT17bGVmdENsYXNzTmFtZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NvbmRpdGlvbmFsV3JhcHBlcj5cblxuICAgICAgICB7ISFkaXNjbGFpbWVyICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmRpc2NsYWltZXJ9PntkaXNjbGFpbWVyfTwvZGl2Pn1cbiAgICAgICAgeyEhdGFicyAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy50YWJzfT57dGFic308L2Rpdj59XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMubGF5b3V0Q29udGFpbmVyfT5cbiAgICAgICAgICB7ISFzaWRlYmFyICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnNpZGViYXJ9PntzaWRlYmFyfTwvZGl2Pn1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250ZW50fT57Y2hpbGRyZW59PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==