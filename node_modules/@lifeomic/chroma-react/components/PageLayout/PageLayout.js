"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var PageLayoutDefaultHero_svg_1 = __importDefault(require("../../assets/PageLayoutDefaultHero.svg"));
var styles_1 = require("../../styles");
var PageHeader_1 = require("../PageHeader");
exports.PageLayoutStylesKey = 'ChromaPageLayout';
exports.useStyles = styles_1.makeStyles(function (theme) { return ({
    root: {
        display: 'flex',
        flexDirection: 'column',
        flex: 1,
        minHeight: '100%',
        marginRight: 'auto',
        marginLeft: 'auto',
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
    },
    maxWidth: {
        maxWidth: theme.pxToRem(1344),
    },
    backgroundCover: {
        position: 'relative',
        // Negative margin so that it can stretch
        // outside of the default padding specified by `root`.
        marginLeft: -theme.spacing(4),
        marginRight: -theme.spacing(4),
        background: "url(" + PageLayoutDefaultHero_svg_1.default + ") " + theme.palette.primary.main,
        backgroundSize: 'cover',
        marginBottom: theme.spacing(2),
    },
    headerBackgroundPadding: {
        paddingTop: theme.spacing(3),
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
        paddingBottom: theme.spacing(3),
    },
    disclaimer: {
        paddingBottom: theme.spacing(2),
    },
    tabs: {
        padding: theme.spacing(0),
    },
    sidebar: {
        width: theme.pxToRem(192),
        marginRight: theme.spacing(3),
        flexGrow: 0,
        flexShrink: 0,
    },
    layoutContainer: {
        display: 'flex',
        height: '100%',
        marginBottom: theme.spacing(4),
    },
    content: {
        flex: 1,
        width: '100%',
        // Fix for firefox so the content doesn't overflow
        maxWidth: '100%',
    },
}); }, { name: exports.PageLayoutStylesKey });
var ConditionalWrapper = function (_a) {
    var condition = _a.condition, wrapper = _a.wrapper, children = _a.children;
    return (condition ? wrapper(children) : children);
};
exports.PageLayout = React.forwardRef(function (_a, ref) {
    var backgroundImage = _a.backgroundImage, _b = _a.headerAlign, headerAlign = _b === void 0 ? 'center' : _b, headerCenter = _a.headerCenter, headerCenterClassName = _a.headerCenterClassName, headerActionsClassName = _a.headerActionsClassName, children = _a.children, additionalClasses = _a.classes, className = _a.className, disclaimer = _a.disclaimer, headerActions = _a.headerActions, sidebar = _a.sidebar, title = _a.title, tabs = _a.tabs, _c = _a.maxWidth, maxWidth = _c === void 0 ? true : _c, _d = _a.applyBackgroundCover, applyBackgroundCover = _d === void 0 ? false : _d, left = _a.left, leftClassName = _a.leftClassName, rootProps = __rest(_a, ["backgroundImage", "headerAlign", "headerCenter", "headerCenterClassName", "headerActionsClassName", "children", "classes", "className", "disclaimer", "headerActions", "sidebar", "title", "tabs", "maxWidth", "applyBackgroundCover", "left", "leftClassName"]);
    var classes = exports.useStyles({ classes: additionalClasses });
    return (React.createElement("div", __assign({ ref: ref, className: clsx_1.default(classes.root, maxWidth && !applyBackgroundCover && classes.maxWidth, className) }, rootProps),
        React.createElement(ConditionalWrapper, { condition: applyBackgroundCover, wrapper: function (children) { return (React.createElement("div", { className: classes.backgroundCover, style: backgroundImage
                    ? {
                        backgroundImage: "url(" + backgroundImage + ")",
                    }
                    : undefined }, children)); } },
            React.createElement(PageHeader_1.PageHeader, { align: headerAlign, className: applyBackgroundCover ? classes.headerBackgroundPadding : '', title: title, center: headerCenter, centerClassName: headerCenterClassName, margin: "none", actions: headerActions, actionsClassName: headerActionsClassName, color: applyBackgroundCover ? 'inverse' : 'default', left: left, leftClassName: leftClassName })),
        !!disclaimer && React.createElement("div", { className: classes.disclaimer }, disclaimer),
        !!tabs && React.createElement("div", { className: classes.tabs }, tabs),
        React.createElement("div", { className: classes.layoutContainer },
            !!sidebar && React.createElement("div", { className: classes.sidebar }, sidebar),
            React.createElement("div", { className: classes.content }, children))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZUxheW91dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1BhZ2VMYXlvdXQvUGFnZUxheW91dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDhDQUF3QjtBQUN4QiwyQ0FBK0I7QUFDL0IscUdBQTJFO0FBQzNFLHVDQUEwQztBQUUxQyw0Q0FBNEQ7QUFFL0MsUUFBQSxtQkFBbUIsR0FBRyxrQkFBa0IsQ0FBQztBQUV6QyxRQUFBLFNBQVMsR0FBRyxtQkFBVSxDQUNqQyxVQUFDLEtBQUssSUFBSyxPQUFBLENBQUM7SUFDVixJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsTUFBTTtRQUNmLGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLElBQUksRUFBRSxDQUFDO1FBQ1AsU0FBUyxFQUFFLE1BQU07UUFDakIsV0FBVyxFQUFFLE1BQU07UUFDbkIsVUFBVSxFQUFFLE1BQU07UUFDbEIsV0FBVyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFlBQVksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztLQUMvQjtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztLQUM5QjtJQUNELGVBQWUsRUFBRTtRQUNmLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLHlDQUF5QztRQUN6QyxzREFBc0Q7UUFDdEQsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDN0IsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDOUIsVUFBVSxFQUFFLFNBQU8sbUNBQXFCLFVBQUssS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBTTtRQUN6RSxjQUFjLEVBQUUsT0FBTztRQUN2QixZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFDRCx1QkFBdUIsRUFBRTtRQUN2QixVQUFVLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDNUIsV0FBVyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFlBQVksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUM5QixhQUFhLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDaEM7SUFDRCxVQUFVLEVBQUU7UUFDVixhQUFhLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDaEM7SUFDRCxJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDMUI7SUFDRCxPQUFPLEVBQUU7UUFDUCxLQUFLLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDekIsV0FBVyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFFBQVEsRUFBRSxDQUFDO1FBQ1gsVUFBVSxFQUFFLENBQUM7S0FDZDtJQUNELGVBQWUsRUFBRTtRQUNmLE9BQU8sRUFBRSxNQUFNO1FBQ2YsTUFBTSxFQUFFLE1BQU07UUFDZCxZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFDRCxPQUFPLEVBQUU7UUFDUCxJQUFJLEVBQUUsQ0FBQztRQUNQLEtBQUssRUFBRSxNQUFNO1FBQ2Isa0RBQWtEO1FBQ2xELFFBQVEsRUFBRSxNQUFNO0tBQ2pCO0NBQ0YsQ0FBQyxFQXJEUyxDQXFEVCxFQUNGLEVBQUUsSUFBSSxFQUFFLDJCQUFtQixFQUFFLENBQzlCLENBQUM7QUE0QkYsSUFBTSxrQkFBa0IsR0FBc0MsVUFBQyxFQUk5RDtRQUhDLHdCQUFTLEVBQ1Qsb0JBQU8sRUFDUCxzQkFBUTtJQUNKLE9BQUEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQTFDLENBQTBDLENBQUM7QUFFcEMsUUFBQSxVQUFVLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FDeEMsVUFDRSxFQW1CQyxFQUNELEdBQUc7SUFuQkQsSUFBQSxvQ0FBZSxFQUNmLG1CQUFzQixFQUF0QiwyQ0FBc0IsRUFDdEIsOEJBQVksRUFDWixnREFBcUIsRUFDckIsa0RBQXNCLEVBQ3RCLHNCQUFRLEVBQ1IsOEJBQTBCLEVBQzFCLHdCQUFTLEVBQ1QsMEJBQVUsRUFDVixnQ0FBYSxFQUNiLG9CQUFPLEVBQ1AsZ0JBQUssRUFDTCxjQUFJLEVBQ0osZ0JBQWUsRUFBZixvQ0FBZSxFQUNmLDRCQUE0QixFQUE1QixpREFBNEIsRUFDNUIsY0FBSSxFQUNKLGdDQUFhLEVBQ2IseVJBQVk7SUFJZCxJQUFNLE9BQU8sR0FBRyxpQkFBUyxDQUFDLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQztJQUUxRCxPQUFPLENBQ0wsc0NBQ0UsR0FBRyxFQUFFLEdBQUcsRUFDUixTQUFTLEVBQUUsY0FBSSxDQUNiLE9BQU8sQ0FBQyxJQUFJLEVBQ1osUUFBUSxJQUFJLENBQUMsb0JBQW9CLElBQUksT0FBTyxDQUFDLFFBQVEsRUFDckQsU0FBUyxDQUNWLElBQ0csU0FBUztRQUViLG9CQUFDLGtCQUFrQixJQUNqQixTQUFTLEVBQUUsb0JBQW9CLEVBQy9CLE9BQU8sRUFBRSxVQUFDLFFBQXlCLElBQUssT0FBQSxDQUN0Qyw2QkFDRSxTQUFTLEVBQUUsT0FBTyxDQUFDLGVBQWUsRUFDbEMsS0FBSyxFQUNILGVBQWU7b0JBQ2IsQ0FBQyxDQUFDO3dCQUNFLGVBQWUsRUFBRSxTQUFPLGVBQWUsTUFBRztxQkFDM0M7b0JBQ0gsQ0FBQyxDQUFDLFNBQVMsSUFHZCxRQUFRLENBQ0wsQ0FDUCxFQWJ1QyxDQWF2QztZQUVELG9CQUFDLHVCQUFVLElBQ1QsS0FBSyxFQUFFLFdBQVcsRUFDbEIsU0FBUyxFQUNQLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFFN0QsS0FBSyxFQUFFLEtBQUssRUFDWixNQUFNLEVBQUUsWUFBWSxFQUNwQixlQUFlLEVBQUUscUJBQXFCLEVBQ3RDLE1BQU0sRUFBQyxNQUFNLEVBQ2IsT0FBTyxFQUFFLGFBQWEsRUFDdEIsZ0JBQWdCLEVBQUUsc0JBQXNCLEVBQ3hDLEtBQUssRUFBRSxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQ25ELElBQUksRUFBRSxJQUFJLEVBQ1YsYUFBYSxFQUFFLGFBQWEsR0FDNUIsQ0FDaUI7UUFFcEIsQ0FBQyxDQUFDLFVBQVUsSUFBSSw2QkFBSyxTQUFTLEVBQUUsT0FBTyxDQUFDLFVBQVUsSUFBRyxVQUFVLENBQU87UUFDdEUsQ0FBQyxDQUFDLElBQUksSUFBSSw2QkFBSyxTQUFTLEVBQUUsT0FBTyxDQUFDLElBQUksSUFBRyxJQUFJLENBQU87UUFFckQsNkJBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQyxlQUFlO1lBQ3BDLENBQUMsQ0FBQyxPQUFPLElBQUksNkJBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQyxPQUFPLElBQUcsT0FBTyxDQUFPO1lBQzlELDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsT0FBTyxJQUFHLFFBQVEsQ0FBTyxDQUM3QyxDQUNGLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZUxheW91dERlZmF1bHRIZXJvIGZyb20gJy4uLy4uL2Fzc2V0cy9QYWdlTGF5b3V0RGVmYXVsdEhlcm8uc3ZnJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcywgU3RhbmRhcmRQcm9wcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBQYWdlSGVhZGVyLCBQYWdlSGVhZGVyUHJvcHMgfSBmcm9tICcuLi9QYWdlSGVhZGVyJztcblxuZXhwb3J0IGNvbnN0IFBhZ2VMYXlvdXRTdHlsZXNLZXkgPSAnQ2hyb21hUGFnZUxheW91dCc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBmbGV4OiAxLFxuICAgICAgbWluSGVpZ2h0OiAnMTAwJScsXG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nLFxuICAgICAgbWFyZ2luTGVmdDogJ2F1dG8nLFxuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgfSxcbiAgICBtYXhXaWR0aDoge1xuICAgICAgbWF4V2lkdGg6IHRoZW1lLnB4VG9SZW0oMTM0NCksXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kQ292ZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgLy8gTmVnYXRpdmUgbWFyZ2luIHNvIHRoYXQgaXQgY2FuIHN0cmV0Y2hcbiAgICAgIC8vIG91dHNpZGUgb2YgdGhlIGRlZmF1bHQgcGFkZGluZyBzcGVjaWZpZWQgYnkgYHJvb3RgLlxuICAgICAgbWFyZ2luTGVmdDogLXRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBtYXJnaW5SaWdodDogLXRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBiYWNrZ3JvdW5kOiBgdXJsKCR7UGFnZUxheW91dERlZmF1bHRIZXJvfSkgJHt0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbn1gLFxuICAgICAgYmFja2dyb3VuZFNpemU6ICdjb3ZlcicsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbiAgICBoZWFkZXJCYWNrZ3JvdW5kUGFkZGluZzoge1xuICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZygzKSxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygzKSxcbiAgICB9LFxuICAgIGRpc2NsYWltZXI6IHtcbiAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbiAgICB0YWJzOiB7XG4gICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDApLFxuICAgIH0sXG4gICAgc2lkZWJhcjoge1xuICAgICAgd2lkdGg6IHRoZW1lLnB4VG9SZW0oMTkyKSxcbiAgICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgZmxleEdyb3c6IDAsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgIH0sXG4gICAgbGF5b3V0Q29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZyg0KSxcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGZsZXg6IDEsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgLy8gRml4IGZvciBmaXJlZm94IHNvIHRoZSBjb250ZW50IGRvZXNuJ3Qgb3ZlcmZsb3dcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgfSksXG4gIHsgbmFtZTogUGFnZUxheW91dFN0eWxlc0tleSB9XG4pO1xuXG5leHBvcnQgdHlwZSBQYWdlTGF5b3V0Q2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnZUxheW91dFByb3BzXG4gIGV4dGVuZHMgU3RhbmRhcmRQcm9wczxIVE1MRGl2RWxlbWVudCwgUGFnZUxheW91dENsYXNzZXM+IHtcbiAgYmFja2dyb3VuZEltYWdlPzogc3RyaW5nO1xuICBkaXNjbGFpbWVyPzogUmVhY3QuUmVhY3ROb2RlO1xuICBoZWFkZXJBY3Rpb25zPzogUGFnZUhlYWRlclByb3BzWydhY3Rpb25zJ107XG4gIGhlYWRlckFsaWduPzogUGFnZUhlYWRlclByb3BzWydhbGlnbiddO1xuICBoZWFkZXJDZW50ZXI/OiBQYWdlSGVhZGVyUHJvcHNbJ2NlbnRlciddO1xuICBoZWFkZXJDZW50ZXJDbGFzc05hbWU/OiBQYWdlSGVhZGVyUHJvcHNbJ2NlbnRlckNsYXNzTmFtZSddO1xuICBoZWFkZXJBY3Rpb25zQ2xhc3NOYW1lPzogUGFnZUhlYWRlclByb3BzWydhY3Rpb25zQ2xhc3NOYW1lJ107XG4gIHNpZGViYXI/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIHRpdGxlPzogUGFnZUhlYWRlclByb3BzWyd0aXRsZSddO1xuICB0YWJzPzogUmVhY3QuUmVhY3ROb2RlO1xuICBtYXhXaWR0aD86IGJvb2xlYW47XG4gIGFwcGx5QmFja2dyb3VuZENvdmVyPzogYm9vbGVhbjtcbiAgbGVmdD86IFBhZ2VIZWFkZXJQcm9wc1snbGVmdCddO1xuICBsZWZ0Q2xhc3NOYW1lPzogUGFnZUhlYWRlclByb3BzWydsZWZ0Q2xhc3NOYW1lJ107XG59XG5cbmludGVyZmFjZSBDb25kaXRpb25hbFdyYXBwZXJQcm9wcyB7XG4gIGNvbmRpdGlvbjogYm9vbGVhbjtcbiAgd3JhcHBlcjogYW55O1xuICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5jb25zdCBDb25kaXRpb25hbFdyYXBwZXI6IFJlYWN0LkZDPENvbmRpdGlvbmFsV3JhcHBlclByb3BzPiA9ICh7XG4gIGNvbmRpdGlvbixcbiAgd3JhcHBlcixcbiAgY2hpbGRyZW4sXG59KSA9PiAoY29uZGl0aW9uID8gd3JhcHBlcihjaGlsZHJlbikgOiBjaGlsZHJlbik7XG5cbmV4cG9ydCBjb25zdCBQYWdlTGF5b3V0ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgUGFnZUxheW91dFByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIGJhY2tncm91bmRJbWFnZSxcbiAgICAgIGhlYWRlckFsaWduID0gJ2NlbnRlcicsXG4gICAgICBoZWFkZXJDZW50ZXIsXG4gICAgICBoZWFkZXJDZW50ZXJDbGFzc05hbWUsXG4gICAgICBoZWFkZXJBY3Rpb25zQ2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGRpc2NsYWltZXIsXG4gICAgICBoZWFkZXJBY3Rpb25zLFxuICAgICAgc2lkZWJhcixcbiAgICAgIHRpdGxlLFxuICAgICAgdGFicyxcbiAgICAgIG1heFdpZHRoID0gdHJ1ZSxcbiAgICAgIGFwcGx5QmFja2dyb3VuZENvdmVyID0gZmFsc2UsXG4gICAgICBsZWZ0LFxuICAgICAgbGVmdENsYXNzTmFtZSxcbiAgICAgIC4uLnJvb3RQcm9wc1xuICAgIH0sXG4gICAgcmVmXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoeyBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5yb290LFxuICAgICAgICAgIG1heFdpZHRoICYmICFhcHBseUJhY2tncm91bmRDb3ZlciAmJiBjbGFzc2VzLm1heFdpZHRoLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApfVxuICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgPlxuICAgICAgICA8Q29uZGl0aW9uYWxXcmFwcGVyXG4gICAgICAgICAgY29uZGl0aW9uPXthcHBseUJhY2tncm91bmRDb3Zlcn1cbiAgICAgICAgICB3cmFwcGVyPXsoY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSkgPT4gKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYmFja2dyb3VuZENvdmVyfVxuICAgICAgICAgICAgICBzdHlsZT17XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlXG4gICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtiYWNrZ3JvdW5kSW1hZ2V9KWAsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPlxuICAgICAgICAgIDxQYWdlSGVhZGVyXG4gICAgICAgICAgICBhbGlnbj17aGVhZGVyQWxpZ259XG4gICAgICAgICAgICBjbGFzc05hbWU9e1xuICAgICAgICAgICAgICBhcHBseUJhY2tncm91bmRDb3ZlciA/IGNsYXNzZXMuaGVhZGVyQmFja2dyb3VuZFBhZGRpbmcgOiAnJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGl0bGU9e3RpdGxlfVxuICAgICAgICAgICAgY2VudGVyPXtoZWFkZXJDZW50ZXJ9XG4gICAgICAgICAgICBjZW50ZXJDbGFzc05hbWU9e2hlYWRlckNlbnRlckNsYXNzTmFtZX1cbiAgICAgICAgICAgIG1hcmdpbj1cIm5vbmVcIlxuICAgICAgICAgICAgYWN0aW9ucz17aGVhZGVyQWN0aW9uc31cbiAgICAgICAgICAgIGFjdGlvbnNDbGFzc05hbWU9e2hlYWRlckFjdGlvbnNDbGFzc05hbWV9XG4gICAgICAgICAgICBjb2xvcj17YXBwbHlCYWNrZ3JvdW5kQ292ZXIgPyAnaW52ZXJzZScgOiAnZGVmYXVsdCd9XG4gICAgICAgICAgICBsZWZ0PXtsZWZ0fVxuICAgICAgICAgICAgbGVmdENsYXNzTmFtZT17bGVmdENsYXNzTmFtZX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0NvbmRpdGlvbmFsV3JhcHBlcj5cblxuICAgICAgICB7ISFkaXNjbGFpbWVyICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmRpc2NsYWltZXJ9PntkaXNjbGFpbWVyfTwvZGl2Pn1cbiAgICAgICAgeyEhdGFicyAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy50YWJzfT57dGFic308L2Rpdj59XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMubGF5b3V0Q29udGFpbmVyfT5cbiAgICAgICAgICB7ISFzaWRlYmFyICYmIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLnNpZGViYXJ9PntzaWRlYmFyfTwvZGl2Pn1cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5jb250ZW50fT57Y2hpbGRyZW59PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==