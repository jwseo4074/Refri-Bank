"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.KeymapHelp = exports.useStyles = exports.KeymapHelpStylesKey = void 0;
var React = __importStar(require("react"));
var react_hotkeys_1 = require("react-hotkeys");
var styles_1 = require("../../styles");
var Button_1 = require("../Button");
var Chip_1 = require("../Chip");
var Modal_1 = require("../Modal");
var KEY_MAP = {
    SHOW_KEYMAP_HELP: 'shift+?',
};
var BASE_KEY_MAP_DOCS = [
    {
        sequences: ['shift+?'],
        description: 'Show keyboard shortcuts',
    },
    {
        sequences: ['['],
        description: 'Toggle sidebar',
    },
];
exports.KeymapHelpStylesKey = 'ChromaKeymapHelp';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {},
    sequence: {
        paddingLeft: theme.spacing(3.75),
    },
}); }, { name: exports.KeymapHelpStylesKey });
var KeymapHelp = function (_a) {
    var closeButtonText = _a.closeButtonText, keyMapDocs = _a.keyMapDocs, keyListenerTestId = _a.keyListenerTestId;
    var classes = (0, exports.useStyles)({});
    var _b = React.useState(false), isOpen = _b[0], setIsOpen = _b[1];
    var onClose = function () {
        setIsOpen(false);
    };
    var HANDLERS = {
        SHOW_KEYMAP_HELP: function () { return setIsOpen(true); },
    };
    var docs = __spreadArray([], BASE_KEY_MAP_DOCS, true);
    if (keyMapDocs) {
        keyMapDocs.forEach(function (x) { return docs.push(x); });
    }
    return (React.createElement(React.Fragment, null,
        React.createElement(react_hotkeys_1.GlobalHotKeys, { keyMap: KEY_MAP, handlers: HANDLERS },
            React.createElement("span", { "data-testid": keyListenerTestId })),
        React.createElement(Modal_1.Modal, { isOpen: isOpen, title: "Keyboard shortcuts", onDismiss: onClose, actions: React.createElement(Button_1.Button, { variant: "contained", onClick: onClose }, closeButtonText || 'Close') },
            React.createElement(React.Fragment, null,
                React.createElement("table", null,
                    React.createElement("tbody", null, docs.map(function (_a) {
                        var sequences = _a.sequences, description = _a.description;
                        var name = sequences.join('|');
                        return (React.createElement("tr", { key: name },
                            React.createElement("td", null, description),
                            React.createElement("td", { className: classes.sequence }, sequences.map(function (sequence) { return (React.createElement(Chip_1.Chip, { key: sequence, label: sequence })); }))));
                    })))))));
};
exports.KeymapHelp = KeymapHelp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiS2V5bWFwSGVscC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0tleW1hcEhlbHAvS2V5bWFwSGVscC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBK0I7QUFDL0IsK0NBQThDO0FBQzlDLHVDQUEwQztBQUUxQyxvQ0FBbUM7QUFDbkMsZ0NBQStCO0FBQy9CLGtDQUFpQztBQUVqQyxJQUFNLE9BQU8sR0FBRztJQUNkLGdCQUFnQixFQUFFLFNBQVM7Q0FDNUIsQ0FBQztBQUVGLElBQU0saUJBQWlCLEdBQW9CO0lBQ3pDO1FBQ0UsU0FBUyxFQUFFLENBQUMsU0FBUyxDQUFDO1FBQ3RCLFdBQVcsRUFBRSx5QkFBeUI7S0FDdkM7SUFDRDtRQUNFLFNBQVMsRUFBRSxDQUFDLEdBQUcsQ0FBQztRQUNoQixXQUFXLEVBQUUsZ0JBQWdCO0tBQzlCO0NBQ0YsQ0FBQztBQUVXLFFBQUEsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7QUFFekMsUUFBQSxTQUFTLEdBQUcsSUFBQSxtQkFBVSxFQUNqQyxVQUFDLEtBQUssSUFBSyxPQUFBLENBQUM7SUFDVixJQUFJLEVBQUUsRUFBRTtJQUNSLFFBQVEsRUFBRTtRQUNSLFdBQVcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztLQUNqQztDQUNGLENBQUMsRUFMUyxDQUtULEVBQ0YsRUFBRSxJQUFJLEVBQUUsMkJBQW1CLEVBQUUsQ0FDOUIsQ0FBQztBQW9CSyxJQUFNLFVBQVUsR0FBOEIsVUFBQyxFQUlyRDtRQUhDLGVBQWUscUJBQUEsRUFDZixVQUFVLGdCQUFBLEVBQ1YsaUJBQWlCLHVCQUFBO0lBRWpCLElBQU0sT0FBTyxHQUFHLElBQUEsaUJBQVMsRUFBQyxFQUFFLENBQUMsQ0FBQztJQUN4QixJQUFBLEtBQXNCLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQTFDLE1BQU0sUUFBQSxFQUFFLFNBQVMsUUFBeUIsQ0FBQztJQUNsRCxJQUFNLE9BQU8sR0FBRztRQUNkLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQixDQUFDLENBQUM7SUFFRixJQUFNLFFBQVEsR0FBRztRQUNmLGdCQUFnQixFQUFFLGNBQU0sT0FBQSxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQWYsQ0FBZTtLQUN4QyxDQUFDO0lBRUYsSUFBTSxJQUFJLHFCQUFPLGlCQUFpQixPQUFDLENBQUM7SUFDcEMsSUFBSSxVQUFVLEVBQUU7UUFDZCxVQUFVLENBQUMsT0FBTyxDQUFDLFVBQUMsQ0FBQyxJQUFLLE9BQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBWixDQUFZLENBQUMsQ0FBQztLQUN6QztJQUVELE9BQU8sQ0FDTDtRQUNFLG9CQUFDLDZCQUFhLElBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUTtZQUNoRCw2Q0FBbUIsaUJBQWlCLEdBQUksQ0FDMUI7UUFDaEIsb0JBQUMsYUFBSyxJQUNKLE1BQU0sRUFBRSxNQUFNLEVBQ2QsS0FBSyxFQUFDLG9CQUFvQixFQUMxQixTQUFTLEVBQUUsT0FBTyxFQUNsQixPQUFPLEVBQ0wsb0JBQUMsZUFBTSxJQUFDLE9BQU8sRUFBQyxXQUFXLEVBQUMsT0FBTyxFQUFFLE9BQU8sSUFDekMsZUFBZSxJQUFJLE9BQU8sQ0FDcEI7WUFHWDtnQkFDRTtvQkFDRSxtQ0FDRyxJQUFJLENBQUMsR0FBRyxDQUFDLFVBQUMsRUFBMEI7NEJBQXhCLFNBQVMsZUFBQSxFQUFFLFdBQVcsaUJBQUE7d0JBQ2pDLElBQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7d0JBQ2pDLE9BQU8sQ0FDTCw0QkFBSSxHQUFHLEVBQUUsSUFBSTs0QkFDWCxnQ0FBSyxXQUFXLENBQU07NEJBQ3RCLDRCQUFJLFNBQVMsRUFBRSxPQUFPLENBQUMsUUFBUSxJQUM1QixTQUFTLENBQUMsR0FBRyxDQUFDLFVBQUMsUUFBUSxJQUFLLE9BQUEsQ0FDM0Isb0JBQUMsV0FBSSxJQUFDLEdBQUcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsR0FBSSxDQUN6QyxFQUY0QixDQUU1QixDQUFDLENBQ0MsQ0FDRixDQUNOLENBQUM7b0JBQ0osQ0FBQyxDQUFDLENBQ0ksQ0FDRixDQUNQLENBQ0csQ0FDUCxDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUF6RFcsUUFBQSxVQUFVLGNBeURyQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdsb2JhbEhvdEtleXMgfSBmcm9tICdyZWFjdC1ob3RrZXlzJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0IHsgQ2hpcCB9IGZyb20gJy4uL0NoaXAnO1xuaW1wb3J0IHsgTW9kYWwgfSBmcm9tICcuLi9Nb2RhbCc7XG5cbmNvbnN0IEtFWV9NQVAgPSB7XG4gIFNIT1dfS0VZTUFQX0hFTFA6ICdzaGlmdCs/Jyxcbn07XG5cbmNvbnN0IEJBU0VfS0VZX01BUF9ET0NTOiBLZXlCaW5kaW5nRG9jW10gPSBbXG4gIHtcbiAgICBzZXF1ZW5jZXM6IFsnc2hpZnQrPyddLFxuICAgIGRlc2NyaXB0aW9uOiAnU2hvdyBrZXlib2FyZCBzaG9ydGN1dHMnLFxuICB9LFxuICB7XG4gICAgc2VxdWVuY2VzOiBbJ1snXSxcbiAgICBkZXNjcmlwdGlvbjogJ1RvZ2dsZSBzaWRlYmFyJyxcbiAgfSxcbl07XG5cbmV4cG9ydCBjb25zdCBLZXltYXBIZWxwU3R5bGVzS2V5ID0gJ0Nocm9tYUtleW1hcEhlbHAnO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHt9LFxuICAgIHNlcXVlbmNlOiB7XG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygzLjc1KSxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBLZXltYXBIZWxwU3R5bGVzS2V5IH1cbik7XG5cbmV4cG9ydCBpbnRlcmZhY2UgS2V5QmluZGluZ0RvYyB7XG4gIHNlcXVlbmNlczogc3RyaW5nW107XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIEtleW1hcEhlbHBDbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBLZXltYXBIZWxwUHJvcHMge1xuICAvKipcbiAgICogQWRkaXRpb25hbCBrZXkgbWFwIGRvY3MgdG8gZGlzcGxheS4gV2UgY2FuJ3QgdXNlIGdldEFwcGxpY2F0aW9uS2V5TWFwKClcbiAgICogYmVjYXVzZSBvZiBodHRwczovL2dpdGh1Yi5jb20vZ3JlZW5hMTMvcmVhY3QtaG90a2V5cy9pc3N1ZXMvMjI4XG4gICAqL1xuICBrZXlNYXBEb2NzPzogS2V5QmluZGluZ0RvY1tdO1xuICBjbG9zZUJ1dHRvblRleHQ/OiBzdHJpbmc7XG5cbiAga2V5TGlzdGVuZXJUZXN0SWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBLZXltYXBIZWxwOiBSZWFjdC5GQzxLZXltYXBIZWxwUHJvcHM+ID0gKHtcbiAgY2xvc2VCdXR0b25UZXh0LFxuICBrZXlNYXBEb2NzLFxuICBrZXlMaXN0ZW5lclRlc3RJZCxcbn0pID0+IHtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IG9uQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgfTtcblxuICBjb25zdCBIQU5ETEVSUyA9IHtcbiAgICBTSE9XX0tFWU1BUF9IRUxQOiAoKSA9PiBzZXRJc09wZW4odHJ1ZSksXG4gIH07XG5cbiAgY29uc3QgZG9jcyA9IFsuLi5CQVNFX0tFWV9NQVBfRE9DU107XG4gIGlmIChrZXlNYXBEb2NzKSB7XG4gICAga2V5TWFwRG9jcy5mb3JFYWNoKCh4KSA9PiBkb2NzLnB1c2goeCkpO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEdsb2JhbEhvdEtleXMga2V5TWFwPXtLRVlfTUFQfSBoYW5kbGVycz17SEFORExFUlN9PlxuICAgICAgICA8c3BhbiBkYXRhLXRlc3RpZD17a2V5TGlzdGVuZXJUZXN0SWR9IC8+XG4gICAgICA8L0dsb2JhbEhvdEtleXM+XG4gICAgICA8TW9kYWxcbiAgICAgICAgaXNPcGVuPXtpc09wZW59XG4gICAgICAgIHRpdGxlPVwiS2V5Ym9hcmQgc2hvcnRjdXRzXCJcbiAgICAgICAgb25EaXNtaXNzPXtvbkNsb3NlfVxuICAgICAgICBhY3Rpb25zPXtcbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJjb250YWluZWRcIiBvbkNsaWNrPXtvbkNsb3NlfT5cbiAgICAgICAgICAgIHtjbG9zZUJ1dHRvblRleHQgfHwgJ0Nsb3NlJ31cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICA8PlxuICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAge2RvY3MubWFwKCh7IHNlcXVlbmNlcywgZGVzY3JpcHRpb24gfSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBzZXF1ZW5jZXMuam9pbignfCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICA8dHIga2V5PXtuYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgPHRkPntkZXNjcmlwdGlvbn08L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPXtjbGFzc2VzLnNlcXVlbmNlfT5cbiAgICAgICAgICAgICAgICAgICAgICB7c2VxdWVuY2VzLm1hcCgoc2VxdWVuY2UpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGlwIGtleT17c2VxdWVuY2V9IGxhYmVsPXtzZXF1ZW5jZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgIDwvPlxuICAgICAgPC9Nb2RhbD5cbiAgICA8Lz5cbiAgKTtcbn07XG4iXX0=