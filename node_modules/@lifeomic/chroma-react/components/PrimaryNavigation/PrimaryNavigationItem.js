"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PrimaryNavigationItem = exports.useStyles = exports.PrimaryNavigationItemStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var index_1 = require("../../styles/index");
var LayoutManager_1 = require("../LayoutManager");
var Pill_1 = require("../Pill");
var Text_1 = require("../Text");
var Tooltip_1 = require("../Tooltip");
var common_1 = require("./_private/common");
var NavOrExternalLink_1 = require("./_private/NavOrExternalLink");
var framer_motion_1 = require("framer-motion");
exports.PrimaryNavigationItemStylesKey = 'ChromaPrimaryNavigationItem';
exports.useStyles = (0, index_1.makeStyles)(function (theme) { return ({
    root: {
        listStyle: 'none',
        padding: 0,
        margin: 0,
        position: 'relative',
    },
    link: {
        display: 'flex',
        alignItems: 'center',
        height: theme.pxToRem(47),
        color: 'inherit',
        textDecoration: 'none',
        transition: 'color 0.5s ease, opacity 0.5s ease',
        '&:hover': {
            color: 'var(--link-hover)',
            textDecoration: 'none',
            fallbacks: {
                color: 'inherit',
            },
        },
    },
    linkActive: {
        backgroundColor: 'var(--link-active-bg)',
        color: 'var(--link-active)',
        '&:hover': {
            color: 'var(--link-active)',
            opacity: 0.75,
        },
        fallbacks: {
            backgroundColor: theme.palette.action.active,
            color: theme.palette.primary[300],
        },
    },
    icon: {
        width: LayoutManager_1.sideBarWidthCollapsed,
        flexShrink: 0,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        outline: 'none',
    },
    label: {
        alignSelf: 'center',
        color: 'inherit',
        flex: 1,
        letterSpacing: 0.15,
        lineHeight: 'unset',
        overflowX: 'hidden',
        paddingRight: theme.spacing(2.25),
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
    },
    labelBeta: {
        maxWidth: 120,
        paddingRight: 0,
    },
    beta: {
        margin: theme.spacing(0.125, 1, 0),
        position: 'absolute',
        right: theme.spacing(4),
        transform: 'scale(0.75)',
    },
}); }, { name: exports.PrimaryNavigationItemStylesKey });
var text = {
    hide: { opacity: 0, x: 16, transition: { ease: 'easeIn' } },
    show: { opacity: 1, x: 0, transition: { ease: 'easeOut' } },
};
exports.PrimaryNavigationItem = React.forwardRef(function (_a, ref) {
    var exact = _a.exact, icon = _a.icon, label = _a.label, to = _a.to, className = _a.className, additionalClasses = _a.classes, beta = _a.beta, betaLabelText = _a.betaLabelText, rootProps = __rest(_a, ["exact", "icon", "label", "to", "className", "classes", "beta", "betaLabelText"]);
    var classes = (0, exports.useStyles)({ classes: additionalClasses });
    var isSidebarCollapsed = (0, LayoutManager_1.useLayoutManager)().isSidebarCollapsed;
    return (React.createElement("li", __assign({ ref: ref, className: (0, clsx_1.default)(classes.root, className) }, rootProps),
        React.createElement(NavOrExternalLink_1.NavOrExternalLink, { exact: exact, className: classes.link, activeClassName: classes.linkActive, to: to },
            isSidebarCollapsed ? (React.createElement(Tooltip_1.Tooltip, { title: label, placement: "right", gutter: -4 },
                React.createElement("div", { className: classes.icon }, icon))) : (React.createElement("div", { className: classes.icon }, icon)),
            React.createElement(framer_motion_1.motion.div, { variants: text },
                React.createElement(Text_1.Text, { size: "subbody", className: (0, clsx_1.default)(classes.label, beta && classes.labelBeta, className) }, label)),
            beta && !isSidebarCollapsed && (React.createElement(Pill_1.Pill, { variant: "highlight", label: betaLabelText, className: classes.beta, initial: common_1.BETA_INITIAL_TRANSITION, animate: common_1.BETA_ANIMATE_TRANSITION, exit: common_1.BETA_EXIT_TRANSITION })))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWFyeU5hdmlnYXRpb25JdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvUHJpbWFyeU5hdmlnYXRpb24vUHJpbWFyeU5hdmlnYXRpb25JdGVtLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4Q0FBd0I7QUFDeEIsMkNBQStCO0FBRS9CLDRDQUFnRDtBQUVoRCxrREFBMkU7QUFDM0UsZ0NBQStCO0FBQy9CLGdDQUErQjtBQUMvQixzQ0FBcUM7QUFDckMsNENBSTJCO0FBQzNCLGtFQUFpRTtBQUNqRSwrQ0FBdUM7QUFFMUIsUUFBQSw4QkFBOEIsR0FBRyw2QkFBNkIsQ0FBQztBQUUvRCxRQUFBLFNBQVMsR0FBRyxJQUFBLGtCQUFVLEVBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLE9BQU8sRUFBRSxDQUFDO1FBQ1YsTUFBTSxFQUFFLENBQUM7UUFDVCxRQUFRLEVBQUUsVUFBVTtLQUNyQjtJQUNELElBQUksRUFBRTtRQUNKLE9BQU8sRUFBRSxNQUFNO1FBQ2YsVUFBVSxFQUFFLFFBQVE7UUFDcEIsTUFBTSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3pCLEtBQUssRUFBRSxTQUFTO1FBQ2hCLGNBQWMsRUFBRSxNQUFNO1FBQ3RCLFVBQVUsRUFBRSxvQ0FBb0M7UUFDaEQsU0FBUyxFQUFFO1lBQ1QsS0FBSyxFQUFFLG1CQUFtQjtZQUMxQixjQUFjLEVBQUUsTUFBTTtZQUN0QixTQUFTLEVBQUU7Z0JBQ1QsS0FBSyxFQUFFLFNBQVM7YUFDakI7U0FDRjtLQUNGO0lBQ0QsVUFBVSxFQUFFO1FBQ1YsZUFBZSxFQUFFLHVCQUF1QjtRQUN4QyxLQUFLLEVBQUUsb0JBQW9CO1FBQzNCLFNBQVMsRUFB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QUFPLENBQUMsSUFBSSxJQUFHLElBQUksQ0FBTyxDQUNsQyxDQUNYLENBQUMsQ0FBQyxDQUFDLENBQ0YsNkJBQUssU0FBUyxFQUFFLE9BQU8sQ0FBQyxJQUFJLElBQUcsSUFBSSxDQUFPLENBQzNDO1lBQ0Qsb0JBQUMsc0JBQU0sQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFFLElBQUk7Z0JBQ3hCLG9CQUFDLFdBQUksSUFDSCxJQUFJLEVBQUMsU0FBUyxFQUNkLFNBQVMsRUFBRSxJQUFBLGNBQUksRUFDYixPQUFPLENBQUMsS0FBSyxFQUNiLElBQUksSUFBSSxPQUFPLENBQUMsU0FBUyxFQUN6QixTQUFTLENBQ1YsSUFFQSxLQUFLLENBQ0QsQ0FDSTtZQUNaLElBQUksSUFBSSxDQUFDLGtCQUFrQixJQUFJLENBQzlCLG9CQUFDLFdBQUksSUFDSCxPQUFPLEVBQUMsV0FBVyxFQUNuQixLQUFLLEVBQUUsYUFBYSxFQUNwQixTQUFTLEVBQUUsT0FBTyxDQUFDLElBQUksRUFDdkIsT0FBTyxFQUFFLGdDQUF1QixFQUNoQyxPQUFPLEVBQUUsZ0NBQXVCLEVBQ2hDLElBQUksRUFBRSw2QkFBb0IsR0FDMUIsQ0FDSCxDQUNpQixDQUNqQixDQUNOLENBQUM7QUFDSixDQUFDLENBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTmF2TGlua1Byb3BzIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzL2luZGV4JztcbmltcG9ydCB7IEdldENsYXNzZXMsIFN0YW5kYXJkUHJvcHMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgc2lkZUJhcldpZHRoQ29sbGFwc2VkLCB1c2VMYXlvdXRNYW5hZ2VyIH0gZnJvbSAnLi4vTGF5b3V0TWFuYWdlcic7XG5pbXBvcnQgeyBQaWxsIH0gZnJvbSAnLi4vUGlsbCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnLi4vVG9vbHRpcCc7XG5pbXBvcnQge1xuICBCRVRBX0lOSVRJQUxfVFJBTlNJVElPTixcbiAgQkVUQV9BTklNQVRFX1RSQU5TSVRJT04sXG4gIEJFVEFfRVhJVF9UUkFOU0lUSU9OLFxufSBmcm9tICcuL19wcml2YXRlL2NvbW1vbic7XG5pbXBvcnQgeyBOYXZPckV4dGVybmFsTGluayB9IGZyb20gJy4vX3ByaXZhdGUvTmF2T3JFeHRlcm5hbExpbmsnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5cbmV4cG9ydCBjb25zdCBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1TdHlsZXNLZXkgPSAnQ2hyb21hUHJpbWFyeU5hdmlnYXRpb25JdGVtJztcblxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoXG4gICh0aGVtZSkgPT4gKHtcbiAgICByb290OiB7XG4gICAgICBsaXN0U3R5bGU6ICdub25lJyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBtYXJnaW46IDAsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICB9LFxuICAgIGxpbms6IHtcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgaGVpZ2h0OiB0aGVtZS5weFRvUmVtKDQ3KSxcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgdHJhbnNpdGlvbjogJ2NvbG9yIDAuNXMgZWFzZSwgb3BhY2l0eSAwLjVzIGVhc2UnLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiAndmFyKC0tbGluay1ob3ZlciknLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICBmYWxsYmFja3M6IHtcbiAgICAgICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxpbmtBY3RpdmU6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLWxpbmstYWN0aXZlLWJnKScsXG4gICAgICBjb2xvcjogJ3ZhcigtLWxpbmstYWN0aXZlKScsXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgY29sb3I6ICd2YXIoLS1saW5rLWFjdGl2ZSknLFxuICAgICAgICBvcGFjaXR5OiAwLjc1LFxuICAgICAgfSxcbiAgICAgIGZhbGxiYWNrczoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZSxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeVszMDBdLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIHdpZHRoOiBzaWRlQmFyV2lkdGhDb2xsYXBzZWQsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgYWxpZ25TZWxmOiAnY2VudGVyJyxcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICBmbGV4OiAxLFxuICAgICAgbGV0dGVyU3BhY2luZzogMC4xNSxcbiAgICAgIGxpbmVIZWlnaHQ6ICd1bnNldCcsXG4gICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5zcGFjaW5nKDIuMjUpLFxuICAgICAgdGV4dE92ZXJmbG93OiAnZWxsaXBzaXMnLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgfSxcbiAgICBsYWJlbEJldGE6IHtcbiAgICAgIG1heFdpZHRoOiAxMjAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDAsXG4gICAgfSxcbiAgICBiZXRhOiB7XG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcoMC4xMjUsIDEsIDApLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICByaWdodDogdGhlbWUuc3BhY2luZyg0KSxcbiAgICAgIHRyYW5zZm9ybTogJ3NjYWxlKDAuNzUpJyxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1TdHlsZXNLZXkgfVxuKTtcblxuY29uc3QgdGV4dCA9IHtcbiAgaGlkZTogeyBvcGFjaXR5OiAwLCB4OiAxNiwgdHJhbnNpdGlvbjogeyBlYXNlOiAnZWFzZUluJyB9IH0sXG4gIHNob3c6IHsgb3BhY2l0eTogMSwgeDogMCwgdHJhbnNpdGlvbjogeyBlYXNlOiAnZWFzZU91dCcgfSB9LFxufTtcblxuZXhwb3J0IHR5cGUgUHJpbWFyeU5hdmlnYXRpb25JdGVtQ2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbWFyeU5hdmlnYXRpb25JdGVtUHJvcHNcbiAgZXh0ZW5kcyBTdGFuZGFyZFByb3BzPEhUTUxMSUVsZW1lbnQsIFByaW1hcnlOYXZpZ2F0aW9uSXRlbUNsYXNzZXM+LFxuICAgIFBpY2s8TmF2TGlua1Byb3BzLCAnZXhhY3QnIHwgJ3RvJz4ge1xuICBsYWJlbD86IHN0cmluZztcbiAgYmV0YT86IGJvb2xlYW47XG4gIGJldGFMYWJlbFRleHQ/OiBzdHJpbmc7XG4gIGljb24/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBQcmltYXJ5TmF2aWdhdGlvbkl0ZW0gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MTElFbGVtZW50LFxuICBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1Qcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIGV4YWN0LFxuICAgICAgaWNvbixcbiAgICAgIGxhYmVsLFxuICAgICAgdG8sXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyxcbiAgICAgIGJldGEsXG4gICAgICBiZXRhTGFiZWxUZXh0LFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7IGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzIH0pO1xuICAgIGNvbnN0IHsgaXNTaWRlYmFyQ29sbGFwc2VkIH0gPSB1c2VMYXlvdXRNYW5hZ2VyKCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGxpIHJlZj17cmVmfSBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpfSB7Li4ucm9vdFByb3BzfT5cbiAgICAgICAgPE5hdk9yRXh0ZXJuYWxMaW5rXG4gICAgICAgICAgZXhhY3Q9e2V4YWN0fVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5saW5rfVxuICAgICAgICAgIGFjdGl2ZUNsYXNzTmFtZT17Y2xhc3Nlcy5saW5rQWN0aXZlfVxuICAgICAgICAgIHRvPXt0b31cbiAgICAgICAgPlxuICAgICAgICAgIHtpc1NpZGViYXJDb2xsYXBzZWQgPyAoXG4gICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17bGFiZWx9IHBsYWNlbWVudD1cInJpZ2h0XCIgZ3V0dGVyPXstNH0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmljb259PntpY29ufTwvZGl2PlxuICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufT57aWNvbn08L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICAgIDxtb3Rpb24uZGl2IHZhcmlhbnRzPXt0ZXh0fT5cbiAgICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICAgIHNpemU9XCJzdWJib2R5XCJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICAgIGNsYXNzZXMubGFiZWwsXG4gICAgICAgICAgICAgICAgYmV0YSAmJiBjbGFzc2VzLmxhYmVsQmV0YSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICB7YmV0YSAmJiAhaXNTaWRlYmFyQ29sbGFwc2VkICYmIChcbiAgICAgICAgICAgIDxQaWxsXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJoaWdobGlnaHRcIlxuICAgICAgICAgICAgICBsYWJlbD17YmV0YUxhYmVsVGV4dH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmJldGF9XG4gICAgICAgICAgICAgIGluaXRpYWw9e0JFVEFfSU5JVElBTF9UUkFOU0lUSU9OfVxuICAgICAgICAgICAgICBhbmltYXRlPXtCRVRBX0FOSU1BVEVfVFJBTlNJVElPTn1cbiAgICAgICAgICAgICAgZXhpdD17QkVUQV9FWElUX1RSQU5TSVRJT059XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvTmF2T3JFeHRlcm5hbExpbms+XG4gICAgICA8L2xpPlxuICAgICk7XG4gIH1cbik7XG4iXX0=