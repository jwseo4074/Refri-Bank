"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var react_hotkeys_1 = require("react-hotkeys");
var chromicons_1 = require("@lifeomic/chromicons");
var styles_1 = require("../../styles");
var LayoutManager_1 = require("../LayoutManager");
var common_1 = require("./_private/common");
var framer_motion_1 = require("framer-motion");
var getTestProps_1 = require("../../testUtils/getTestProps");
var KEY_MAP = {
    TOGGLE_SIDE_BAR: '[',
};
exports.testIds = {
    toggleButton: 'primaryNavigation-toggleButton',
    headerRoot: 'primaryNavigation-headerRoot',
};
exports.PrimaryNavigationStylesKey = 'ChromaPrimaryNavigation';
exports.useStyles = styles_1.makeStyles(function (theme) { return ({
    root: {
        '--link-color': theme.palette.black[300],
        '--link-hover': theme.palette.black[50],
        '--link-active': theme.palette.primary[300],
        '--link-active-bg': theme.palette.action.active,
        '--link-size': '0.875rem',
        backgroundColor: theme.palette.grey.main,
        color: 'var(--link-color)',
        display: 'flex',
        paddingTop: theme.spacing(1.5),
        flexDirection: 'column',
        overflowX: 'hidden',
        overflowY: 'auto',
        width: '100%',
        fallbacks: {
            color: theme.palette.black[300],
        },
    },
    header: {
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'flex-end',
        height: theme.pxToRem(32),
        flex: '0 0 auto',
        marginTop: theme.spacing(0.5),
        marginBottom: theme.spacing(1.25),
    },
    headerContent: {
        flex: '1 1 auto',
        paddingLeft: theme.spacing(2.25),
        paddingRight: theme.spacing(2.25),
    },
    headerContentMin: {
        width: '100%',
        display: 'flex',
        justifyContent: 'center',
        paddingLeft: 0,
        paddingRight: 0,
    },
    headerContentHidden: {
        display: 'none',
    },
    toggleButton: {
        width: LayoutManager_1.sideBarWidthCollapsed,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        flex: '0 0 auto',
        opacity: 0.3,
    },
    navItems: {
        overflowY: 'auto',
        overflowX: 'hidden',
        flex: '1 1 100px',
        listStyle: 'none',
        padding: 0,
        margin: 0,
    },
    footer: {
        flex: '0 0 auto',
        marginTop: theme.spacing(2),
        marginBottom: theme.spacing(2),
        paddingLeft: theme.spacing(2.75),
        paddingRight: theme.spacing(2.75),
    },
    footToggle: {
        alignItems: 'flex-start',
        background: 'transparent none',
        border: 0,
        color: 'var(--link-color)',
        display: 'flex',
        fontFamily: theme.typography.fontFamily,
        fontSize: 'var(--link-size)',
        justifyContent: 'flex-start',
        letterSpacing: 0.15,
        padding: theme.spacing(1, 2.25, 2),
        textAlign: 'left',
        transition: 'color 0.5s ease',
        whiteSpace: 'nowrap',
        '&:hover': {
            color: 'var(--link-hover)',
            cursor: 'pointer',
        },
        '&[aria-checked=true]': {
            color: 'var(--link-active)',
        },
        '&:focus': {
            outline: 'none',
        },
    },
    footToggleContainer: {
        width: theme.pxToRem(24),
        height: theme.pxToRem(24),
    },
    toggleText: {
        display: 'inline-block',
        marginLeft: theme.spacing(2.25),
        position: 'relative',
        top: theme.spacing(0.25),
    },
}); }, {
    name: exports.PrimaryNavigationStylesKey,
});
var NAV_LIST_TRANSITION_VARIANTS = {
    hide: {},
    show: {
        transition: {
            staggerChildren: 0.04,
            delayChildren: 0.125,
        },
    },
};
var SHARED_TRANSITION_VARIANTS = {
    hide: { opacity: 0 },
    show: {
        opacity: 1,
        transition: {
            duration: 0.3,
        },
    },
};
exports.PrimaryNavigation = React.forwardRef(function (_a, ref) {
    var header = _a.header, headerMin = _a.headerMin, footer = _a.footer, children = _a.children, className = _a.className, toggleButtonText = _a.toggleButtonText, rootProps = __rest(_a, ["header", "headerMin", "footer", "children", "className", "toggleButtonText"]);
    var classes = exports.useStyles({});
    var _b = LayoutManager_1.useLayoutManager(), isSidebarCollapsed = _b.isSidebarCollapsed, toggleSidebarCollapsed = _b.toggleSidebarCollapsed, isSidebarCollapseDisabled = _b.isSidebarCollapseDisabled;
    var HANDLERS = {
        TOGGLE_SIDE_BAR: toggleSidebarCollapsed,
    };
    var showHeader = (headerMin && isSidebarCollapsed) || (header && !isSidebarCollapsed);
    return (React.createElement("nav", __assign({ ref: ref, className: clsx_1.default(classes.root, className), "aria-label": "Primary", role: "navigation" }, rootProps),
        showHeader && (React.createElement("div", __assign({ className: classes.header }, getTestProps_1.getTestProps(exports.testIds.headerRoot)),
            headerMin && isSidebarCollapsed && (React.createElement(framer_motion_1.motion.div, { "aria-label": "Navigation Header Section Collapsed", className: clsx_1.default(classes.headerContent, classes.headerContentMin), initial: { opacity: 0 }, animate: {
                    opacity: 1,
                    transition: { delay: 0.25, duration: 0.25 },
                } }, headerMin)),
            header && !isSidebarCollapsed && (React.createElement(framer_motion_1.motion.div, { "aria-label": "Navigation Header Section", className: clsx_1.default(classes.headerContent), initial: { opacity: 0 }, animate: {
                    opacity: 1,
                    transition: { delay: 0.2, duration: 0.25 },
                } }, header)))),
        React.createElement(framer_motion_1.motion.ul, { variants: NAV_LIST_TRANSITION_VARIANTS, animate: isSidebarCollapsed ? 'hide' : 'show', className: clsx_1.default(classes.navItems) }, children),
        !isSidebarCollapsed && !!footer && (React.createElement(framer_motion_1.motion.div, { initial: { opacity: 0 }, animate: { opacity: 1, transition: { duration: common_1.inDuration } }, exit: { opacity: 0, transition: { duration: common_1.outDuration } }, className: classes.footer }, footer)),
        !isSidebarCollapseDisabled && (React.createElement(react_hotkeys_1.GlobalHotKeys, { keyMap: KEY_MAP, handlers: HANDLERS },
            React.createElement("button", __assign({ className: classes.footToggle, onClick: toggleSidebarCollapsed, role: "checkbox", "aria-checked": isSidebarCollapsed }, getTestProps_1.getTestProps(exports.testIds.toggleButton)),
                React.createElement("span", { className: classes.footToggleContainer },
                    React.createElement(chromicons_1.Sidebar, { "aria-hidden": true })),
                React.createElement(framer_motion_1.motion.span, { className: classes.toggleText, animate: isSidebarCollapsed ? 'hide' : 'show', variants: SHARED_TRANSITION_VARIANTS }, toggleButtonText || 'Toggle Sidebar'))))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWFyeU5hdmlnYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9QcmltYXJ5TmF2aWdhdGlvbi9QcmltYXJ5TmF2aWdhdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDhDQUF3QjtBQUN4QiwyQ0FBK0I7QUFDL0IsK0NBQThDO0FBQzlDLG1EQUErQztBQUMvQyx1Q0FBMEM7QUFFMUMsa0RBQTJFO0FBQzNFLDRDQUE0RDtBQUM1RCwrQ0FBaUQ7QUFDakQsNkRBQTREO0FBRTVELElBQU0sT0FBTyxHQUFHO0lBQ2QsZUFBZSxFQUFFLEdBQUc7Q0FDckIsQ0FBQztBQUVXLFFBQUEsT0FBTyxHQUFHO0lBQ3JCLFlBQVksRUFBRSxnQ0FBZ0M7SUFDOUMsVUFBVSxFQUFFLDhCQUE4QjtDQUMzQyxDQUFDO0FBRVcsUUFBQSwwQkFBMEIsR0FBRyx5QkFBeUIsQ0FBQztBQUV2RCxRQUFBLFNBQVMsR0FBRyxtQkFBVSxDQUNqQyxVQUFDLEtBQUssSUFBSyxPQUFBLENBQUM7SUFDVixJQUFJLEVBQUU7UUFDSixjQUFjLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ3hDLGNBQWMsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7UUFDdkMsZUFBZSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUMzQyxrQkFBa0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNO1FBQy9DLGFBQWEsRUFBRSxVQUFVO1FBQ3pCLGVBQWUsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJO1FBQ3hDLEtBQUssRUFBRSxtQkFBbUI7UUFDMUIsT0FBTyxFQUFFLE1BQU07UUFDZixVQUFVLEVBQUUsS0FB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Q0FBQyxNQUFNLEVBQzdDLFFBQVEsRUFBRSwwQkFBMEIsSUFFbkMsZ0JBQWdCLElBQUksZ0JBQWdCLENBQ3pCLENBQ1AsQ0FDSyxDQUNqQixDQUNHLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHbG9iYWxIb3RLZXlzIH0gZnJvbSAncmVhY3QtaG90a2V5cyc7XG5pbXBvcnQgeyBTaWRlYmFyIH0gZnJvbSAnQGxpZmVvbWljL2Nocm9taWNvbnMnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJy4uLy4uL3N0eWxlcyc7XG5pbXBvcnQgeyBHZXRDbGFzc2VzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcbmltcG9ydCB7IHNpZGVCYXJXaWR0aENvbGxhcHNlZCwgdXNlTGF5b3V0TWFuYWdlciB9IGZyb20gJy4uL0xheW91dE1hbmFnZXInO1xuaW1wb3J0IHsgaW5EdXJhdGlvbiwgb3V0RHVyYXRpb24gfSBmcm9tICcuL19wcml2YXRlL2NvbW1vbic7XG5pbXBvcnQgeyBtb3Rpb24sIFZhcmlhbnRzIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBnZXRUZXN0UHJvcHMgfSBmcm9tICcuLi8uLi90ZXN0VXRpbHMvZ2V0VGVzdFByb3BzJztcblxuY29uc3QgS0VZX01BUCA9IHtcbiAgVE9HR0xFX1NJREVfQkFSOiAnWycsXG59O1xuXG5leHBvcnQgY29uc3QgdGVzdElkcyA9IHtcbiAgdG9nZ2xlQnV0dG9uOiAncHJpbWFyeU5hdmlnYXRpb24tdG9nZ2xlQnV0dG9uJyxcbiAgaGVhZGVyUm9vdDogJ3ByaW1hcnlOYXZpZ2F0aW9uLWhlYWRlclJvb3QnLFxufTtcblxuZXhwb3J0IGNvbnN0IFByaW1hcnlOYXZpZ2F0aW9uU3R5bGVzS2V5ID0gJ0Nocm9tYVByaW1hcnlOYXZpZ2F0aW9uJztcblxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoXG4gICh0aGVtZSkgPT4gKHtcbiAgICByb290OiB7XG4gICAgICAnLS1saW5rLWNvbG9yJzogdGhlbWUucGFsZXR0ZS5ibGFja1szMDBdLFxuICAgICAgJy0tbGluay1ob3Zlcic6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNTBdLFxuICAgICAgJy0tbGluay1hY3RpdmUnOiB0aGVtZS5wYWxldHRlLnByaW1hcnlbMzAwXSxcbiAgICAgICctLWxpbmstYWN0aXZlLWJnJzogdGhlbWUucGFsZXR0ZS5hY3Rpb24uYWN0aXZlLFxuICAgICAgJy0tbGluay1zaXplJzogJzAuODc1cmVtJyxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5Lm1haW4sXG4gICAgICBjb2xvcjogJ3ZhcigtLWxpbmstY29sb3IpJyxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLnNwYWNpbmcoMS41KSxcbiAgICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIGZhbGxiYWNrczoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5ibGFja1szMDBdLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGhlYWRlcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtZW5kJyxcbiAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSgzMiksXG4gICAgICBmbGV4OiAnMCAwIGF1dG8nLFxuICAgICAgbWFyZ2luVG9wOiB0aGVtZS5zcGFjaW5nKDAuNSksXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMS4yNSksXG4gICAgfSxcbiAgICBoZWFkZXJDb250ZW50OiB7XG4gICAgICBmbGV4OiAnMSAxIGF1dG8nLFxuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoMi4yNSksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMi4yNSksXG4gICAgfSxcbiAgICBoZWFkZXJDb250ZW50TWluOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDAsXG4gICAgfSxcbiAgICBoZWFkZXJDb250ZW50SGlkZGVuOiB7XG4gICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgfSxcbiAgICB0b2dnbGVCdXR0b246IHtcbiAgICAgIHdpZHRoOiBzaWRlQmFyV2lkdGhDb2xsYXBzZWQsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIGZsZXg6ICcwIDAgYXV0bycsXG4gICAgICBvcGFjaXR5OiAwLjMsXG4gICAgfSxcbiAgICBuYXZJdGVtczoge1xuICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgZmxleDogJzEgMSAxMDBweCcsXG4gICAgICBsaXN0U3R5bGU6ICdub25lJyxcbiAgICAgIHBhZGRpbmc6IDAsXG4gICAgICBtYXJnaW46IDAsXG4gICAgfSxcbiAgICBmb290ZXI6IHtcbiAgICAgIGZsZXg6ICcwIDAgYXV0bycsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygyLjc1KSxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygyLjc1KSxcbiAgICB9LFxuICAgIGZvb3RUb2dnbGU6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyxcbiAgICAgIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCBub25lJyxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGNvbG9yOiAndmFyKC0tbGluay1jb2xvciknLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZm9udEZhbWlseTogdGhlbWUudHlwb2dyYXBoeS5mb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6ICd2YXIoLS1saW5rLXNpemUpJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAwLjE1LFxuICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygxLCAyLjI1LCAyKSxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgdHJhbnNpdGlvbjogJ2NvbG9yIDAuNXMgZWFzZScsXG4gICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogJ3ZhcigtLWxpbmstaG92ZXIpJyxcbiAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICB9LFxuICAgICAgJyZbYXJpYS1jaGVja2VkPXRydWVdJzoge1xuICAgICAgICBjb2xvcjogJ3ZhcigtLWxpbmstYWN0aXZlKScsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBmb290VG9nZ2xlQ29udGFpbmVyOiB7XG4gICAgICB3aWR0aDogdGhlbWUucHhUb1JlbSgyNCksXG4gICAgICBoZWlnaHQ6IHRoZW1lLnB4VG9SZW0oMjQpLFxuICAgIH0sXG4gICAgdG9nZ2xlVGV4dDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5zcGFjaW5nKDIuMjUpLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0b3A6IHRoZW1lLnNwYWNpbmcoMC4yNSksXG4gICAgfSxcbiAgfSksXG4gIHtcbiAgICBuYW1lOiBQcmltYXJ5TmF2aWdhdGlvblN0eWxlc0tleSxcbiAgfVxuKTtcblxuY29uc3QgTkFWX0xJU1RfVFJBTlNJVElPTl9WQVJJQU5UUzogVmFyaWFudHMgPSB7XG4gIGhpZGU6IHt9LFxuICBzaG93OiB7XG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgc3RhZ2dlckNoaWxkcmVuOiAwLjA0LFxuICAgICAgZGVsYXlDaGlsZHJlbjogMC4xMjUsXG4gICAgfSxcbiAgfSxcbn07XG5cbmNvbnN0IFNIQVJFRF9UUkFOU0lUSU9OX1ZBUklBTlRTOiBWYXJpYW50cyA9IHtcbiAgaGlkZTogeyBvcGFjaXR5OiAwIH0sXG4gIHNob3c6IHtcbiAgICBvcGFjaXR5OiAxLFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIGR1cmF0aW9uOiAwLjMsXG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCB0eXBlIFByaW1hcnlOYXZpZ2F0aW9uQ2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJpbWFyeU5hdmlnYXRpb25Qcm9wc1xuICBleHRlbmRzIFJlYWN0LkRldGFpbGVkSFRNTFByb3BzPFxuICAgIFJlYWN0LkhUTUxBdHRyaWJ1dGVzPEhUTUxFbGVtZW50PixcbiAgICBIVE1MRWxlbWVudFxuICA+IHtcbiAgaGVhZGVyPzogUmVhY3QuUmVhY3ROb2RlO1xuICBoZWFkZXJNaW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGZvb3Rlcj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgdG9nZ2xlQnV0dG9uVGV4dD86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFByaW1hcnlOYXZpZ2F0aW9uID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTEVsZW1lbnQsXG4gIFByaW1hcnlOYXZpZ2F0aW9uUHJvcHNcbj4oXG4gIChcbiAgICB7XG4gICAgICBoZWFkZXIsXG4gICAgICBoZWFkZXJNaW4sXG4gICAgICBmb290ZXIsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHRvZ2dsZUJ1dHRvblRleHQsXG4gICAgICAuLi5yb290UHJvcHNcbiAgICB9LFxuICAgIHJlZlxuICApID0+IHtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHt9KTtcbiAgICBjb25zdCB7XG4gICAgICBpc1NpZGViYXJDb2xsYXBzZWQsXG4gICAgICB0b2dnbGVTaWRlYmFyQ29sbGFwc2VkLFxuICAgICAgaXNTaWRlYmFyQ29sbGFwc2VEaXNhYmxlZCxcbiAgICB9ID0gdXNlTGF5b3V0TWFuYWdlcigpO1xuXG4gICAgY29uc3QgSEFORExFUlMgPSB7XG4gICAgICBUT0dHTEVfU0lERV9CQVI6IHRvZ2dsZVNpZGViYXJDb2xsYXBzZWQsXG4gICAgfTtcblxuICAgIGNvbnN0IHNob3dIZWFkZXIgPVxuICAgICAgKGhlYWRlck1pbiAmJiBpc1NpZGViYXJDb2xsYXBzZWQpIHx8IChoZWFkZXIgJiYgIWlzU2lkZWJhckNvbGxhcHNlZCk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPG5hdlxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKX1cbiAgICAgICAgYXJpYS1sYWJlbD1cIlByaW1hcnlcIlxuICAgICAgICByb2xlPVwibmF2aWdhdGlvblwiXG4gICAgICAgIHsuLi5yb290UHJvcHN9XG4gICAgICA+XG4gICAgICAgIHsvKiBIZWFkZXIgd2l0aCBvcHRpb25hbCBoZWFkZXIgY29udGVudCAqL31cbiAgICAgICAge3Nob3dIZWFkZXIgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmhlYWRlcn0gey4uLmdldFRlc3RQcm9wcyh0ZXN0SWRzLmhlYWRlclJvb3QpfT5cbiAgICAgICAgICAgIHtoZWFkZXJNaW4gJiYgaXNTaWRlYmFyQ29sbGFwc2VkICYmIChcbiAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiTmF2aWdhdGlvbiBIZWFkZXIgU2VjdGlvbiBDb2xsYXBzZWRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXMuaGVhZGVyQ29udGVudCxcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXMuaGVhZGVyQ29udGVudE1pblxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICAgICAgYW5pbWF0ZT17e1xuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IHsgZGVsYXk6IDAuMjUsIGR1cmF0aW9uOiAwLjI1IH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJNaW59XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7aGVhZGVyICYmICFpc1NpZGViYXJDb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJOYXZpZ2F0aW9uIEhlYWRlciBTZWN0aW9uXCJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5oZWFkZXJDb250ZW50KX1cbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogeyBkZWxheTogMC4yLCBkdXJhdGlvbjogMC4yNSB9LFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aGVhZGVyfVxuICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBOYXYgaXRlbXMgYXJlIHJlbmRlcmVkIGFzIGNoaWxkcmVuIGluIGEgdWwgICovfVxuICAgICAgICA8bW90aW9uLnVsXG4gICAgICAgICAgdmFyaWFudHM9e05BVl9MSVNUX1RSQU5TSVRJT05fVkFSSUFOVFN9XG4gICAgICAgICAgYW5pbWF0ZT17aXNTaWRlYmFyQ29sbGFwc2VkID8gJ2hpZGUnIDogJ3Nob3cnfVxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLm5hdkl0ZW1zKX1cbiAgICAgICAgPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9tb3Rpb24udWw+XG5cbiAgICAgICAgey8qIE9wdGlvbmFsIGZvb3RlciBzZWN0aW9uICovfVxuICAgICAgICB7IWlzU2lkZWJhckNvbGxhcHNlZCAmJiAhIWZvb3RlciAmJiAoXG4gICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiBpbkR1cmF0aW9uIH0gfX1cbiAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgdHJhbnNpdGlvbjogeyBkdXJhdGlvbjogb3V0RHVyYXRpb24gfSB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmZvb3Rlcn1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7Zm9vdGVyfVxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogVmVyeSBib3R0b20gdG9nZ2xlIHNlY3Rpb24gKi99XG4gICAgICAgIHshaXNTaWRlYmFyQ29sbGFwc2VEaXNhYmxlZCAmJiAoXG4gICAgICAgICAgPEdsb2JhbEhvdEtleXMga2V5TWFwPXtLRVlfTUFQfSBoYW5kbGVycz17SEFORExFUlN9PlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZm9vdFRvZ2dsZX1cbiAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlU2lkZWJhckNvbGxhcHNlZH1cbiAgICAgICAgICAgICAgcm9sZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgYXJpYS1jaGVja2VkPXtpc1NpZGViYXJDb2xsYXBzZWR9XG4gICAgICAgICAgICAgIHsuLi5nZXRUZXN0UHJvcHModGVzdElkcy50b2dnbGVCdXR0b24pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NsYXNzZXMuZm9vdFRvZ2dsZUNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgPFNpZGViYXIgYXJpYS1oaWRkZW4gLz5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8bW90aW9uLnNwYW5cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMudG9nZ2xlVGV4dH1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXtpc1NpZGViYXJDb2xsYXBzZWQgPyAnaGlkZScgOiAnc2hvdyd9XG4gICAgICAgICAgICAgICAgdmFyaWFudHM9e1NIQVJFRF9UUkFOU0lUSU9OX1ZBUklBTlRTfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3RvZ2dsZUJ1dHRvblRleHQgfHwgJ1RvZ2dsZSBTaWRlYmFyJ31cbiAgICAgICAgICAgICAgPC9tb3Rpb24uc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvR2xvYmFsSG90S2V5cz5cbiAgICAgICAgKX1cbiAgICAgIDwvbmF2PlxuICAgICk7XG4gIH1cbik7XG4iXX0=