"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.PhoneNumberFormatField = exports.PhoneNumberFormatFieldStylesKey = void 0;
require("react-phone-number-input/style.css");
var React = __importStar(require("react"));
var TextField_1 = require("../TextField");
// @ts-ignore The flags module is not typed
var flags_1 = __importDefault(require("react-phone-number-input/flags"));
var react_phone_number_input_1 = __importDefault(require("react-phone-number-input"));
var styles_1 = require("../../styles");
var clsx_1 = __importDefault(require("clsx"));
exports.PhoneNumberFormatFieldStylesKey = 'ChromaPhoneNumberFormatField';
var useStyles = function (_a) {
    var about = _a.about, errorMessage = _a.errorMessage;
    return (0, styles_1.makeStyles)(function (theme) { return ({
        textField: {
            marginTop: theme.spacing(2),
            marginBottom: theme.spacing(1),
        },
        phoneInputRoot: {
            display: 'flex',
            width: '100%',
            position: 'relative',
            '& > .PhoneInputCountry': {
                position: 'absolute',
                bottom: theme.spacing(about || errorMessage ? 5.25 : 2.5),
                left: theme.spacing(1),
                '& .PhoneInputCountryIcon--border': {
                    boxShadow: 'unset',
                    backgroundColor: 'unset',
                },
            },
        },
        phoneInput: {
            '& > input': {
                paddingLeft: theme.spacing(6),
            },
        },
    }); }, { name: exports.PhoneNumberFormatFieldStylesKey })({});
};
var PhoneInputCompatibleChromaInput = React.forwardRef(function (props, ref) {
    var classes = useStyles({});
    var className = props.className, textFieldProps = __rest(props, ["className"]);
    return (React.createElement(TextField_1.TextField, __assign({ fullWidth: true, label: "Phone Number", helpMessage: props.about, ref: ref }, textFieldProps, { className: (0, clsx_1.default)(classes.phoneInput, classes.textField, className) })));
});
var PhoneNumberFormatField = function (_a) {
    var className = _a.className, props = __rest(_a, ["className"]);
    var value = props.value, onChange = props.onChange, errorMessage = props.errorMessage;
    var classes = useStyles(props);
    return (React.createElement(react_phone_number_input_1.default, __assign({ className: (0, clsx_1.default)(classes.phoneInputRoot, className), defaultCountry: "US", flags: flags_1.default }, props, { 
        // @ts-ignore defaultValue has type mismatch
        inputComponent: PhoneInputCompatibleChromaInput, value: value, onChange: onChange, error: errorMessage })));
};
exports.PhoneNumberFormatField = PhoneNumberFormatField;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGhvbmVOdW1iZXJGb3JtYXRGaWVsZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL051bWJlckZvcm1hdC9QaG9uZU51bWJlckZvcm1hdEZpZWxkLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw4Q0FBNEM7QUFDNUMsMkNBQStCO0FBQy9CLDBDQUF5RDtBQUN6RCwyQ0FBMkM7QUFDM0MseUVBQW1EO0FBQ25ELHNGQUF1RTtBQUN2RSx1Q0FBMEM7QUFDMUMsOENBQXdCO0FBR1gsUUFBQSwrQkFBK0IsR0FBRyw4QkFBOEIsQ0FBQztBQUU5RSxJQUFNLFNBQVMsR0FBRyxVQUFDLEVBTWxCO1FBTEMsS0FBSyxXQUFBLEVBQ0wsWUFBWSxrQkFBQTtJQUtaLE9BQUEsSUFBQSxtQkFBVSxFQUNSLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztRQUNWLFNBQVMsRUFBRTtZQUNULFNBQVMsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUMzQixZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDL0I7UUFDRCxjQUFjLEVBQUU7WUFDZCxPQUFPLEVBQUUsTUFBTTtZQUNmLEtBQUssRUFBRSxNQUFNO1lBQ2IsUUFBUSxFQUFFLFVBQVU7WUFDcEIsd0JBQXdCLEVBQUU7Z0JBQ3hCLFFBQVEsRUFBRSxVQUFVO2dCQUNwQixNQUFNLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztnQkFDekQsSUFBSSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN0QixrQ0FBa0MsRUFBRTtvQkFDbEMsU0FBUyxFQUFFLE9BQU87b0JBQ2xCLGVBQWUsRUFBRSxPQUFPO2lCQUN6QjthQUNGO1NBQ0Y7UUFDRCxVQUFVLEVBQUU7WUFDVixXQUFXLEVBQUU7Z0JBQ1gsV0FBVyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2FBQzlCO1NBQ0Y7S0FDRixDQUFDLEVBeEJTLENBd0JULEVBQ0YsRUFBRSxJQUFJLEVBQUUsdUNBQStCLEVBQUUsQ0FDMUMsQ0FBQyxFQUFFLENBQUM7QUEzQkwsQ0EyQkssQ0FBQztBQUlSLElBQU0sK0JBQStCLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FHdEQsVUFBQyxLQUFLLEVBQUUsR0FBRztJQUNYLElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0QixJQUFBLFNBQVMsR0FBd0IsS0FBSyxVQUE3QixFQUFLLGNBQWMsVUFBSyxLQUFLLEVBQXhDLGFBQWdDLENBQUYsQ0FBVztJQUMvQyxPQUFPLENBQ0wsb0JBQUMscUJBQVMsYUFDUixTQUFTLFFBQ1QsS0FBSyxFQUFDLGNBQWMsRUFDcEIsV0FBVyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQ3hCLEdBQUcsRUFBRSxHQUFHLElBQ0osY0FBYyxJQUNsQixTQUFTLEVBQUUsSUFBQSxjQUFJLEVBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxJQUNqRSxDQUNILENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQVlJLElBQU0sc0JBQXNCLEdBQTBDLFVBQUMsRUFHN0U7SUFGQyxJQUFBLFNBQVMsZUFBQSxFQUNOLEtBQUssY0FGb0UsYUFHN0UsQ0FEUztJQUVBLElBQUEsS0FBSyxHQUE2QixLQUFLLE1BQWxDLEVBQUUsUUFBUSxHQUFtQixLQUFLLFNBQXhCLEVBQUUsWUFBWSxHQUFLLEtBQUssYUFBVixDQUFXO0lBQ2hELElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxPQUFPLENBQ0wsb0JBQUMsa0NBQVUsYUFDVCxTQUFTLEVBQUUsSUFBQSxjQUFJLEVBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsRUFDbEQsY0FBYyxFQUFDLElBQUksRUFDbkIsS0FBSyxFQUFFLGVBQUssSUFDUixLQUFLO1FBQ1QsNENBQTRDO1FBQzVDLGNBQWMsRUFBRSwrQkFBK0IsRUFDL0MsS0FBSyxFQUFFLEtBQUssRUFDWixRQUFRLEVBQUUsUUFBUSxFQUNsQixLQUFLLEVBQUUsWUFBWSxJQUNuQixDQUNILENBQUM7QUFDSixDQUFDLENBQUM7QUFuQlcsUUFBQSxzQkFBc0IsMEJBbUJqQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAncmVhY3QtcGhvbmUtbnVtYmVyLWlucHV0L3N0eWxlLmNzcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUZXh0RmllbGRQcm9wcywgVGV4dEZpZWxkIH0gZnJvbSAnLi4vVGV4dEZpZWxkJztcbi8vIEB0cy1pZ25vcmUgVGhlIGZsYWdzIG1vZHVsZSBpcyBub3QgdHlwZWRcbmltcG9ydCBmbGFncyBmcm9tICdyZWFjdC1waG9uZS1udW1iZXItaW5wdXQvZmxhZ3MnO1xuaW1wb3J0IFBob25lSW5wdXQsIHsgUGhvbmVJbnB1dFByb3BzIH0gZnJvbSAncmVhY3QtcGhvbmUtbnVtYmVyLWlucHV0JztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyBHZXRDbGFzc2VzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcblxuZXhwb3J0IGNvbnN0IFBob25lTnVtYmVyRm9ybWF0RmllbGRTdHlsZXNLZXkgPSAnQ2hyb21hUGhvbmVOdW1iZXJGb3JtYXRGaWVsZCc7XG5cbmNvbnN0IHVzZVN0eWxlcyA9ICh7XG4gIGFib3V0LFxuICBlcnJvck1lc3NhZ2UsXG59OiB7XG4gIGFib3V0Pzogc3RyaW5nO1xuICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG59KSA9PlxuICBtYWtlU3R5bGVzKFxuICAgICh0aGVtZSkgPT4gKHtcbiAgICAgIHRleHRGaWVsZDoge1xuICAgICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIH0sXG4gICAgICBwaG9uZUlucHV0Um9vdDoge1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgICAnJiA+IC5QaG9uZUlucHV0Q291bnRyeSc6IHtcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICBib3R0b206IHRoZW1lLnNwYWNpbmcoYWJvdXQgfHwgZXJyb3JNZXNzYWdlID8gNS4yNSA6IDIuNSksXG4gICAgICAgICAgbGVmdDogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgICAgICAnJiAuUGhvbmVJbnB1dENvdW50cnlJY29uLS1ib3JkZXInOiB7XG4gICAgICAgICAgICBib3hTaGFkb3c6ICd1bnNldCcsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd1bnNldCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBwaG9uZUlucHV0OiB7XG4gICAgICAgICcmID4gaW5wdXQnOiB7XG4gICAgICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoNiksXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pLFxuICAgIHsgbmFtZTogUGhvbmVOdW1iZXJGb3JtYXRGaWVsZFN0eWxlc0tleSB9XG4gICkoe30pO1xuXG5leHBvcnQgdHlwZSBQaG9uZU51bWJlckZvcm1hdEZpZWxkQ2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmNvbnN0IFBob25lSW5wdXRDb21wYXRpYmxlQ2hyb21hSW5wdXQgPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MSW5wdXRFbGVtZW50LFxuICBPbWl0PFRleHRGaWVsZFByb3BzLCAnY29sb3InPlxuPigocHJvcHMsIHJlZikgPT4ge1xuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHt9KTtcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnRleHRGaWVsZFByb3BzIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8VGV4dEZpZWxkXG4gICAgICBmdWxsV2lkdGhcbiAgICAgIGxhYmVsPVwiUGhvbmUgTnVtYmVyXCJcbiAgICAgIGhlbHBNZXNzYWdlPXtwcm9wcy5hYm91dH1cbiAgICAgIHJlZj17cmVmfVxuICAgICAgey4uLnRleHRGaWVsZFByb3BzfVxuICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucGhvbmVJbnB1dCwgY2xhc3Nlcy50ZXh0RmllbGQsIGNsYXNzTmFtZSl9XG4gICAgLz5cbiAgKTtcbn0pO1xuXG5leHBvcnQgdHlwZSBQaG9uZU51bWJlckZvcm1hdEZpZWxkUHJvcHMgPSBPbWl0PFxuICBQaG9uZUlucHV0UHJvcHMsXG4gICd2YWx1ZScgfCAnb25DaGFuZ2UnXG4+ICYge1xuICBsYWJlbD86IHN0cmluZztcbiAgdmFsdWU6IHN0cmluZztcbiAgb25DaGFuZ2U6ICh2YWw6IHN0cmluZykgPT4gdm9pZDtcbiAgaGFzRXJyb3I/OiBib29sZWFuO1xuICBlcnJvck1lc3NhZ2U/OiBzdHJpbmc7XG59O1xuZXhwb3J0IGNvbnN0IFBob25lTnVtYmVyRm9ybWF0RmllbGQ6IFJlYWN0LkZDPFBob25lTnVtYmVyRm9ybWF0RmllbGRQcm9wcz4gPSAoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IHsgdmFsdWUsIG9uQ2hhbmdlLCBlcnJvck1lc3NhZ2UgfSA9IHByb3BzO1xuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHByb3BzKTtcbiAgcmV0dXJuIChcbiAgICA8UGhvbmVJbnB1dFxuICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucGhvbmVJbnB1dFJvb3QsIGNsYXNzTmFtZSl9XG4gICAgICBkZWZhdWx0Q291bnRyeT1cIlVTXCJcbiAgICAgIGZsYWdzPXtmbGFnc31cbiAgICAgIHsuLi5wcm9wc31cbiAgICAgIC8vIEB0cy1pZ25vcmUgZGVmYXVsdFZhbHVlIGhhcyB0eXBlIG1pc21hdGNoXG4gICAgICBpbnB1dENvbXBvbmVudD17UGhvbmVJbnB1dENvbXBhdGlibGVDaHJvbWFJbnB1dH1cbiAgICAgIHZhbHVlPXt2YWx1ZX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIGVycm9yPXtlcnJvck1lc3NhZ2V9XG4gICAgLz5cbiAgKTtcbn07XG4iXX0=