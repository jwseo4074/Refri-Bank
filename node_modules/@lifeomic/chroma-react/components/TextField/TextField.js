"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.TextField = exports.useStyles = exports.TextFieldStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var styles_1 = require("../../styles");
var forms_1 = require("../_private/forms");
var UniqueId_1 = require("../_private/UniqueId");
var Tooltip_1 = require("../Tooltip");
exports.TextFieldStylesKey = 'ChromaTextField';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {},
    label: {
        alignItems: 'center',
        color: theme.palette.black[800],
        display: 'flex',
        fontSize: theme.pxToRem(14),
        fontWeight: theme.typography.fontWeightBold,
        marginBottom: theme.spacing(1),
        '&:empty': {
            marginBottom: theme.spacing(0),
        },
    },
    labelIcon: {
        marginLeft: theme.spacing(0.75),
        color: theme.palette.primary.main,
    },
    labelIconInverse: {
        mixBlendMode: 'screen',
    },
    labelSecondary: {
        color: theme.palette.text.hint,
        fontSize: theme.pxToRem(11),
        display: 'inline-block',
        margin: theme.spacing(0, 0.75),
    },
    labelInverse: {
        color: theme.palette.common.white,
        '&$labelSecondary': {
            opacity: 0.9,
        },
    },
    inputContainer: {
        position: 'relative',
        minWidth: theme.pxToRem(180),
        width: 'fit-content',
    },
    inputContainerFullWidth: {
        width: '100%',
        '& $inputHasAdornment': {
            maxWidth: 'unset',
        },
    },
    input: {
        backgroundColor: 'rgba(132, 137, 166, 0.15)',
        border: "1px solid transparent",
        borderRadius: theme.pxToRem(4),
        color: theme.palette.text.primary,
        fontFamily: theme.typography.fontFamily,
        fontSize: theme.pxToRem(14),
        minWidth: theme.pxToRem(180),
        lineHeight: 1.25,
        paddingBottom: theme.spacing(1),
        paddingLeft: theme.spacing(1.25),
        paddingRight: theme.spacing(1.25),
        paddingTop: theme.spacing(1),
        transition: 'border 0.25s ease',
        '&:focus': {
            outline: 'none',
            backgroundColor: 'rgba(255, 255, 255, 0.5)',
            border: "1px solid rgba(132, 137, 166, 0.45)",
        },
        '&:disabled': {
            cursor: 'not-allowed',
            opacity: 0.625,
        },
        '&:read-only': {
            cursor: 'not-allowed',
            opacity: 0.9,
            '&:focus': {
                backgroundColor: 'rgba(132, 137, 166, 0.15)',
                border: "1px solid transparent",
            },
        },
        '&::-webkit-input-placeholder': {
            color: theme.palette.black[400],
        },
        '&::-moz-placeholder': {
            color: theme.palette.black[400],
        },
        '&:-ms-input-placeholder': {
            color: theme.palette.black[400],
        },
        '&:-moz-placeholder': {
            color: theme.palette.black[400],
        },
    },
    inputHasAdornment: {
        maxWidth: theme.pxToRem(152),
    },
    inputInverse: {
        backgroundColor: 'rgba(230, 231, 237, 0.1)',
        color: theme.palette.common.white,
        '&:focus': {
            backgroundColor: 'rgba(230, 231, 237, 0.1)',
            border: "1px solid rgba(230, 231, 237, 0.55)",
        },
        '&:read-only': {
            opacity: 1,
            '&:focus': {
                backgroundColor: 'rgba(230, 231, 237, 0.1)',
            },
        },
        '&::-webkit-input-placeholder': {
            color: 'rgba(255, 255, 255, 0.8)',
        },
        '&::-moz-placeholder': {
            color: 'rgba(255, 255, 255, 0.8)',
        },
        '&:-ms-input-placeholder': {
            color: 'rgba(255, 255, 255, 0.8)',
        },
        '&:-moz-placeholder': {
            color: 'rgba(255, 255, 255, 0.8)',
        },
    },
    inputStartAdornment: {
        paddingLeft: theme.spacing(4.25),
    },
    inputEndAdornment: {
        paddingRight: theme.spacing(4.25),
    },
    adornment: {
        display: 'flex',
        position: 'absolute',
        '& a, & button': {
            padding: 0,
        },
        '& svg': {
            height: theme.pxToRem(20),
            width: theme.pxToRem(20),
            '&, & a, & button': {
                color: theme.palette.black[500],
            },
        },
    },
    adornmentInverse: {
        '& a, & button, & svg': {
            color: theme.palette.common.white,
        },
    },
    startAdornment: {
        bottom: 8,
        left: 10,
        top: 8,
    },
    endAdornment: {
        bottom: 8,
        right: 10,
        top: 8,
    },
    hasTrailer: {
        marginBottom: theme.spacing(0.5),
    },
    inputError: {
        backgroundColor: 'rgba(230, 231, 237, 0.1)',
        border: "1px solid ".concat(theme.palette.error.main),
        '&:focus': {
            border: "1px solid ".concat(theme.palette.error.main),
        },
    },
    inputErrorInverse: {
        border: "1px solid ".concat(theme.palette.error[700]),
    },
    inputFullWidth: {
        width: '100%',
    },
    trailerMessage: {
        marginTop: theme.spacing(0.875),
        marginLeft: 0,
    },
    errorMessage: {
        color: theme.palette.error.main,
        fontSize: theme.typography.caption.fontSize,
        fontWeight: theme.typography.fontWeightBold,
    },
    errorMessageInverse: {
        mixBlendMode: 'color-dodge',
    },
    helpMessage: {
        fontSize: theme.typography.caption.fontSize,
        color: theme.palette.text.hint,
    },
    helpMessageInverse: {
        color: theme.palette.common.white,
    },
    tooltipContainer: {
        display: 'flex',
        outline: 'none',
    },
}); }, { name: exports.TextFieldStylesKey });
exports.TextField = React.forwardRef(function (_a, ref) {
    var _b;
    var ariaLabel = _a["aria-label"], className = _a.className, _c = _a.color, color = _c === void 0 ? 'default' : _c, errorMessage = _a.errorMessage, fullWidth = _a.fullWidth, hasError = _a.hasError, helpMessage = _a.helpMessage, Icon = _a.icon, id = _a.id, label = _a.label, name = _a.name, secondaryLabel = _a.secondaryLabel, tooltipMessage = _a.tooltipMessage, startAdornment = _a.startAdornment, endAdornment = _a.endAdornment, rootProps = __rest(_a, ['aria-label', "className", "color", "errorMessage", "fullWidth", "hasError", "helpMessage", "icon", "id", "label", "name", "secondaryLabel", "tooltipMessage", "startAdornment", "endAdornment"]);
    var classes = (0, exports.useStyles)({});
    var uniqueId = React.useState(function () { return id || name || (0, UniqueId_1.generateUniqueId)('textField-'); })[0];
    if (!label && !ariaLabel && process.env.NODE_ENV === 'development') {
        throw new Error('If a "label" is not provided to TextField, please provide "aria-label".');
    }
    return (React.createElement("div", { className: (0, clsx_1.default)(classes.root, className) },
        label && (React.createElement("label", { className: (0, clsx_1.default)(classes.label, color === 'inverse' && classes.labelInverse), htmlFor: uniqueId },
            label,
            !!Icon && tooltipMessage && (React.createElement(Tooltip_1.Tooltip, { title: tooltipMessage },
                React.createElement("span", { className: classes.tooltipContainer },
                    React.createElement(Icon, { className: (0, clsx_1.default)(classes.labelIcon, color === 'inverse' && classes.labelIconInverse), width: 16, height: 16, role: "img", "aria-hidden": true })))),
            secondaryLabel && (React.createElement("span", { className: (0, clsx_1.default)(classes.labelSecondary, color === 'inverse' && classes.labelInverse) }, secondaryLabel)))),
        React.createElement("div", { className: (0, clsx_1.default)(classes.inputContainer, fullWidth && classes.inputContainerFullWidth) },
            startAdornment && (React.createElement("span", { className: (0, clsx_1.default)(classes.adornment, color === 'inverse' && classes.adornmentInverse, classes.startAdornment) }, startAdornment)),
            React.createElement("input", __assign({ "aria-describedby": (0, forms_1.buildDescribedBy)({
                    hasError: hasError,
                    hasHelpMessage: !!helpMessage,
                    uniqueId: uniqueId,
                }), "aria-label": ariaLabel, ref: ref, className: (0, clsx_1.default)(classes.input, startAdornment || endAdornment
                    ? classes.inputHasAdornment
                    : undefined, startAdornment && classes.inputStartAdornment, endAdornment && classes.inputEndAdornment, fullWidth && classes.inputFullWidth, hasError && classes.inputError, hasError && color === 'inverse' && classes.inputErrorInverse, (_b = {},
                    _b[classes.inputInverse] = color === 'inverse',
                    _b)), type: "text", id: uniqueId, name: name }, rootProps)),
            endAdornment && (React.createElement("span", { className: (0, clsx_1.default)(classes.adornment, color === 'inverse' && classes.adornmentInverse, classes.endAdornment) }, endAdornment))),
        helpMessage && (React.createElement(forms_1.FormHelpMessage, { color: color, className: (0, clsx_1.default)(classes.trailerMessage, classes.helpMessage, color === 'inverse' && classes.helpMessageInverse), rootElementId: uniqueId, describedById: (0, forms_1.helpFor)(uniqueId) }, helpMessage)),
        hasError && errorMessage && (React.createElement(forms_1.FormErrorMessage, { color: color, className: (0, clsx_1.default)(classes.trailerMessage), rootElementId: uniqueId, describedById: (0, forms_1.errorFor)(uniqueId) }, errorMessage))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGV4dEZpZWxkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVGV4dEZpZWxkL1RleHRGaWVsZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUMvQix1Q0FBMEM7QUFFMUMsMkNBTzJCO0FBQzNCLGlEQUF3RDtBQUN4RCxzQ0FBcUM7QUFFeEIsUUFBQSxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztBQUV2QyxRQUFBLFNBQVMsR0FBRyxJQUFBLG1CQUFVLEVBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRSxFQUFFO0lBQ1IsS0FBSyxFQUFFO1FBQ0wsVUFBVSxFQUFFLFFBQVE7UUFDcEIsS0FBSyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUMvQixPQUFPLEVBQUUsTUFBTTtRQUNmLFFBQVEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUMzQixVQUFVLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxjQUFjO1FBQzNDLFlBQVksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUM5QixTQUFTLEVBQUU7WUFDVCxZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7U0FDL0I7S0FDRjtJQUNELFNBQVMsRUFBRTtRQUNULFVBQVUsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMvQixLQUFLLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSTtLQUNsQztJQUNELGdCQUFnQixFQUFFO1FBQ2hCLFlBQVksRUFBRSxRQUFRO0tBQ3ZCO0lBQ0QsY0FBYyxFQUFFO1FBQ2QsS0FBSyxFQUFFLEtBQUssQ0FBQyxP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SUFFL0IsV0FBVyxDQUNJLENBQ25CO1FBQ0EsUUFBUSxJQUFJLFlBQVksSUFBSSxDQUMzQixvQkFBQyx3QkFBZ0IsSUFDZixLQUFLLEVBQUUsS0FBSyxFQUNaLFNBQVMsRUFBRSxJQUFBLGNBQUksRUFBQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQ3ZDLGFBQWEsRUFBRSxRQUFRLEVBQ3ZCLGFBQWEsRUFBRSxJQUFBLGdCQUFRLEVBQUMsUUFBUSxDQUFDLElBRWhDLFlBQVksQ0FDSSxDQUNwQixDQUNHLENBQ1AsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHtcbiAgQmFzZUZvcm1FbGVtZW50LFxuICBidWlsZERlc2NyaWJlZEJ5LFxuICBlcnJvckZvcixcbiAgRm9ybUVycm9yTWVzc2FnZSxcbiAgRm9ybUhlbHBNZXNzYWdlLFxuICBoZWxwRm9yLFxufSBmcm9tICcuLi9fcHJpdmF0ZS9mb3Jtcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlkIH0gZnJvbSAnLi4vX3ByaXZhdGUvVW5pcXVlSWQnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4uL1Rvb2x0aXAnO1xuXG5leHBvcnQgY29uc3QgVGV4dEZpZWxkU3R5bGVzS2V5ID0gJ0Nocm9tYVRleHRGaWVsZCc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge30sXG4gICAgbGFiZWw6IHtcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuYmxhY2tbODAwXSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZvbnRTaXplOiB0aGVtZS5weFRvUmVtKDE0KSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodEJvbGQsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICAnJjplbXB0eSc6IHtcbiAgICAgICAgbWFyZ2luQm90dG9tOiB0aGVtZS5zcGFjaW5nKDApLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGxhYmVsSWNvbjoge1xuICAgICAgbWFyZ2luTGVmdDogdGhlbWUuc3BhY2luZygwLjc1KSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICB9LFxuICAgIGxhYmVsSWNvbkludmVyc2U6IHtcbiAgICAgIG1peEJsZW5kTW9kZTogJ3NjcmVlbicsXG4gICAgfSxcbiAgICBsYWJlbFNlY29uZGFyeToge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUudGV4dC5oaW50LFxuICAgICAgZm9udFNpemU6IHRoZW1lLnB4VG9SZW0oMTEpLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBtYXJnaW46IHRoZW1lLnNwYWNpbmcoMCwgMC43NSksXG4gICAgfSxcbiAgICBsYWJlbEludmVyc2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmJGxhYmVsU2Vjb25kYXJ5Jzoge1xuICAgICAgICBvcGFjaXR5OiAwLjksXG4gICAgICB9LFxuICAgIH0sXG4gICAgaW5wdXRDb250YWluZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgbWluV2lkdGg6IHRoZW1lLnB4VG9SZW0oMTgwKSxcbiAgICAgIHdpZHRoOiAnZml0LWNvbnRlbnQnLFxuICAgIH0sXG4gICAgaW5wdXRDb250YWluZXJGdWxsV2lkdGg6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAnJiAkaW5wdXRIYXNBZG9ybm1lbnQnOiB7XG4gICAgICAgIG1heFdpZHRoOiAndW5zZXQnLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGlucHV0OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDEzMiwgMTM3LCAxNjYsIDAuMTUpJyxcbiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLnB4VG9SZW0oNCksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnByaW1hcnksXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhlbWUucHhUb1JlbSgxNCksXG4gICAgICBtaW5XaWR0aDogdGhlbWUucHhUb1JlbSgxODApLFxuICAgICAgbGluZUhlaWdodDogMS4yNSxcbiAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygxLjI1KSxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygxLjI1KSxcbiAgICAgIHBhZGRpbmdUb3A6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICB0cmFuc2l0aW9uOiAnYm9yZGVyIDAuMjVzIGVhc2UnLFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpJyxcbiAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkIHJnYmEoMTMyLCAxMzcsIDE2NiwgMC40NSlgLFxuICAgICAgfSxcbiAgICAgICcmOmRpc2FibGVkJzoge1xuICAgICAgICBjdXJzb3I6ICdub3QtYWxsb3dlZCcsXG4gICAgICAgIG9wYWNpdHk6IDAuNjI1LFxuICAgICAgfSxcbiAgICAgICcmOnJlYWQtb25seSc6IHtcbiAgICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuICAgICAgICBvcGFjaXR5OiAwLjksXG4gICAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMTMyLCAxMzcsIDE2NiwgMC4xNSknLFxuICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgJyY6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmJsYWNrWzQwMF0sXG4gICAgICB9LFxuICAgICAgJyY6Oi1tb3otcGxhY2Vob2xkZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmJsYWNrWzQwMF0sXG4gICAgICB9LFxuICAgICAgJyY6LW1zLWlucHV0LXBsYWNlaG9sZGVyJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5ibGFja1s0MDBdLFxuICAgICAgfSxcbiAgICAgICcmOi1tb3otcGxhY2Vob2xkZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmJsYWNrWzQwMF0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgaW5wdXRIYXNBZG9ybm1lbnQ6IHtcbiAgICAgIG1heFdpZHRoOiB0aGVtZS5weFRvUmVtKDE1MiksXG4gICAgfSxcbiAgICBpbnB1dEludmVyc2U6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMjMwLCAyMzEsIDIzNywgMC4xKScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyMzAsIDIzMSwgMjM3LCAwLjEpJyxcbiAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkIHJnYmEoMjMwLCAyMzEsIDIzNywgMC41NSlgLFxuICAgICAgfSxcbiAgICAgICcmOnJlYWQtb25seSc6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyMzAsIDIzMSwgMjM3LCAwLjEpJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAnJjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlcic6IHtcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknLFxuICAgICAgfSxcbiAgICAgICcmOjotbW96LXBsYWNlaG9sZGVyJzoge1xuICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC44KScsXG4gICAgICB9LFxuICAgICAgJyY6LW1zLWlucHV0LXBsYWNlaG9sZGVyJzoge1xuICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC44KScsXG4gICAgICB9LFxuICAgICAgJyY6LW1vei1wbGFjZWhvbGRlcic6IHtcbiAgICAgICAgY29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOCknLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGlucHV0U3RhcnRBZG9ybm1lbnQ6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDQuMjUpLFxuICAgIH0sXG4gICAgaW5wdXRFbmRBZG9ybm1lbnQ6IHtcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZyg0LjI1KSxcbiAgICB9LFxuICAgIGFkb3JubWVudDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAnJiBhLCAmIGJ1dHRvbic6IHtcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgIH0sXG4gICAgICAnJiBzdmcnOiB7XG4gICAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSgyMCksXG4gICAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDIwKSxcbiAgICAgICAgJyYsICYgYSwgJiBidXR0b24nOiB7XG4gICAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNTAwXSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBhZG9ybm1lbnRJbnZlcnNlOiB7XG4gICAgICAnJiBhLCAmIGJ1dHRvbiwgJiBzdmcnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBzdGFydEFkb3JubWVudDoge1xuICAgICAgYm90dG9tOiA4LFxuICAgICAgbGVmdDogMTAsXG4gICAgICB0b3A6IDgsXG4gICAgfSxcbiAgICBlbmRBZG9ybm1lbnQ6IHtcbiAgICAgIGJvdHRvbTogOCxcbiAgICAgIHJpZ2h0OiAxMCxcbiAgICAgIHRvcDogOCxcbiAgICB9LFxuICAgIGhhc1RyYWlsZXI6IHtcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygwLjUpLFxuICAgIH0sXG4gICAgaW5wdXRFcnJvcjoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSgyMzAsIDIzMSwgMjM3LCAwLjEpJyxcbiAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuZXJyb3IubWFpbn1gLFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuZXJyb3IubWFpbn1gLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGlucHV0RXJyb3JJbnZlcnNlOiB7XG4gICAgICBib3JkZXI6IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLmVycm9yWzcwMF19YCxcbiAgICB9LFxuICAgIGlucHV0RnVsbFdpZHRoOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH0sXG4gICAgdHJhaWxlck1lc3NhZ2U6IHtcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygwLjg3NSksXG4gICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgIH0sXG4gICAgZXJyb3JNZXNzYWdlOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5lcnJvci5tYWluLFxuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuY2FwdGlvbi5mb250U2l6ZSxcbiAgICAgIGZvbnRXZWlnaHQ6IHRoZW1lLnR5cG9ncmFwaHkuZm9udFdlaWdodEJvbGQsXG4gICAgfSxcbiAgICBlcnJvck1lc3NhZ2VJbnZlcnNlOiB7XG4gICAgICBtaXhCbGVuZE1vZGU6ICdjb2xvci1kb2RnZScsXG4gICAgfSxcbiAgICBoZWxwTWVzc2FnZToge1xuICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuY2FwdGlvbi5mb250U2l6ZSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQuaGludCxcbiAgICB9LFxuICAgIGhlbHBNZXNzYWdlSW52ZXJzZToge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgIH0sXG4gICAgdG9vbHRpcENvbnRhaW5lcjoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgIH0sXG4gIH0pLFxuICB7IG5hbWU6IFRleHRGaWVsZFN0eWxlc0tleSB9XG4pO1xuXG5leHBvcnQgdHlwZSBUZXh0RmllbGRDbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBUZXh0RmllbGRQcm9wc1xuICBleHRlbmRzIFJlYWN0LkNvbXBvbmVudFByb3BzV2l0aG91dFJlZjwnaW5wdXQnPiB7XG4gIGNvbG9yPzogQmFzZUZvcm1FbGVtZW50Wydjb2xvciddO1xuICBlcnJvck1lc3NhZ2U/OiBCYXNlRm9ybUVsZW1lbnRbJ2Vycm9yTWVzc2FnZSddO1xuICBmdWxsV2lkdGg/OiBib29sZWFuO1xuICBoYXNFcnJvcj86IEJhc2VGb3JtRWxlbWVudFsnaGFzRXJyb3InXTtcbiAgaGVscE1lc3NhZ2U/OiBCYXNlRm9ybUVsZW1lbnRbJ2hlbHBNZXNzYWdlJ107XG4gIGljb24/OiBSZWFjdC5Db21wb25lbnRUeXBlPFJlYWN0LlNWR1Byb3BzPFNWR1NWR0VsZW1lbnQ+PjtcbiAgbGFiZWw/OiBCYXNlRm9ybUVsZW1lbnRbJ2xhYmVsJ107XG4gIHNlY29uZGFyeUxhYmVsPzogc3RyaW5nO1xuICB0b29sdGlwTWVzc2FnZT86IHN0cmluZztcbiAgLy8gQWRvcm5tZW50IFJlY29tbWVuZGVkIGNvbXBvbmVudHM6XG4gIC8vIEljb24sIEljb25CdXR0b24sIG9yIEljb25CdXR0b25MaW5rXG4gIHN0YXJ0QWRvcm5tZW50PzogUmVhY3QuUmVhY3ROb2RlO1xuICBlbmRBZG9ybm1lbnQ/OiBSZWFjdC5SZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBUZXh0RmllbGQgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxJbnB1dEVsZW1lbnQsIFRleHRGaWVsZFByb3BzPihcbiAgKFxuICAgIHtcbiAgICAgIFsnYXJpYS1sYWJlbCddOiBhcmlhTGFiZWwsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBjb2xvciA9ICdkZWZhdWx0JyxcbiAgICAgIGVycm9yTWVzc2FnZSxcbiAgICAgIGZ1bGxXaWR0aCxcbiAgICAgIGhhc0Vycm9yLFxuICAgICAgaGVscE1lc3NhZ2UsXG4gICAgICBpY29uOiBJY29uLFxuICAgICAgaWQsXG4gICAgICBsYWJlbCxcbiAgICAgIG5hbWUsXG4gICAgICBzZWNvbmRhcnlMYWJlbCxcbiAgICAgIHRvb2x0aXBNZXNzYWdlLFxuICAgICAgc3RhcnRBZG9ybm1lbnQsXG4gICAgICBlbmRBZG9ybm1lbnQsXG4gICAgICAuLi5yb290UHJvcHNcbiAgICB9LFxuICAgIHJlZlxuICApID0+IHtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHt9KTtcblxuICAgIGNvbnN0IFt1bmlxdWVJZF0gPSBSZWFjdC51c2VTdGF0ZTxzdHJpbmc+KFxuICAgICAgKCkgPT4gaWQgfHwgbmFtZSB8fCBnZW5lcmF0ZVVuaXF1ZUlkKCd0ZXh0RmllbGQtJylcbiAgICApO1xuXG4gICAgaWYgKCFsYWJlbCAmJiAhYXJpYUxhYmVsICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdJZiBhIFwibGFiZWxcIiBpcyBub3QgcHJvdmlkZWQgdG8gVGV4dEZpZWxkLCBwbGVhc2UgcHJvdmlkZSBcImFyaWEtbGFiZWxcIi4nXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSl9PlxuICAgICAgICB7bGFiZWwgJiYgKFxuICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICBjbGFzc2VzLmxhYmVsLFxuICAgICAgICAgICAgICBjb2xvciA9PT0gJ2ludmVyc2UnICYmIGNsYXNzZXMubGFiZWxJbnZlcnNlXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgaHRtbEZvcj17dW5pcXVlSWR9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgeyEhSWNvbiAmJiB0b29sdGlwTWVzc2FnZSAmJiAoXG4gICAgICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXt0b29sdGlwTWVzc2FnZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbGFzc2VzLnRvb2x0aXBDb250YWluZXJ9PlxuICAgICAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMubGFiZWxJY29uLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID09PSAnaW52ZXJzZScgJiYgY2xhc3Nlcy5sYWJlbEljb25JbnZlcnNlXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoPXsxNn1cbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxNn1cbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cImltZ1wiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtaGlkZGVuXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzZWNvbmRhcnlMYWJlbCAmJiAoXG4gICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5sYWJlbFNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgIGNvbG9yID09PSAnaW52ZXJzZScgJiYgY2xhc3Nlcy5sYWJlbEludmVyc2VcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3NlY29uZGFyeUxhYmVsfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgIGNsYXNzZXMuaW5wdXRDb250YWluZXIsXG4gICAgICAgICAgICBmdWxsV2lkdGggJiYgY2xhc3Nlcy5pbnB1dENvbnRhaW5lckZ1bGxXaWR0aFxuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICB7c3RhcnRBZG9ybm1lbnQgJiYgKFxuICAgICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICAgIGNsYXNzZXMuYWRvcm5tZW50LFxuICAgICAgICAgICAgICAgIGNvbG9yID09PSAnaW52ZXJzZScgJiYgY2xhc3Nlcy5hZG9ybm1lbnRJbnZlcnNlLFxuICAgICAgICAgICAgICAgIGNsYXNzZXMuc3RhcnRBZG9ybm1lbnRcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3N0YXJ0QWRvcm5tZW50fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PXtidWlsZERlc2NyaWJlZEJ5KHtcbiAgICAgICAgICAgICAgaGFzRXJyb3IsXG4gICAgICAgICAgICAgIGhhc0hlbHBNZXNzYWdlOiAhIWhlbHBNZXNzYWdlLFxuICAgICAgICAgICAgICB1bmlxdWVJZCxcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgYXJpYS1sYWJlbD17YXJpYUxhYmVsfVxuICAgICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgICAgIGNsYXNzZXMuaW5wdXQsXG4gICAgICAgICAgICAgIHN0YXJ0QWRvcm5tZW50IHx8IGVuZEFkb3JubWVudFxuICAgICAgICAgICAgICAgID8gY2xhc3Nlcy5pbnB1dEhhc0Fkb3JubWVudFxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBzdGFydEFkb3JubWVudCAmJiBjbGFzc2VzLmlucHV0U3RhcnRBZG9ybm1lbnQsXG4gICAgICAgICAgICAgIGVuZEFkb3JubWVudCAmJiBjbGFzc2VzLmlucHV0RW5kQWRvcm5tZW50LFxuICAgICAgICAgICAgICBmdWxsV2lkdGggJiYgY2xhc3Nlcy5pbnB1dEZ1bGxXaWR0aCxcbiAgICAgICAgICAgICAgaGFzRXJyb3IgJiYgY2xhc3Nlcy5pbnB1dEVycm9yLFxuICAgICAgICAgICAgICBoYXNFcnJvciAmJiBjb2xvciA9PT0gJ2ludmVyc2UnICYmIGNsYXNzZXMuaW5wdXRFcnJvckludmVyc2UsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBbY2xhc3Nlcy5pbnB1dEludmVyc2VdOiBjb2xvciA9PT0gJ2ludmVyc2UnLFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgaWQ9e3VuaXF1ZUlkfVxuICAgICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICAgIHsuLi5yb290UHJvcHN9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7ZW5kQWRvcm5tZW50ICYmIChcbiAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgICBjbGFzc2VzLmFkb3JubWVudCxcbiAgICAgICAgICAgICAgICBjb2xvciA9PT0gJ2ludmVyc2UnICYmIGNsYXNzZXMuYWRvcm5tZW50SW52ZXJzZSxcbiAgICAgICAgICAgICAgICBjbGFzc2VzLmVuZEFkb3JubWVudFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZW5kQWRvcm5tZW50fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7aGVscE1lc3NhZ2UgJiYgKFxuICAgICAgICAgIDxGb3JtSGVscE1lc3NhZ2VcbiAgICAgICAgICAgIGNvbG9yPXtjb2xvcn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgY2xhc3Nlcy50cmFpbGVyTWVzc2FnZSxcbiAgICAgICAgICAgICAgY2xhc3Nlcy5oZWxwTWVzc2FnZSxcbiAgICAgICAgICAgICAgY29sb3IgPT09ICdpbnZlcnNlJyAmJiBjbGFzc2VzLmhlbHBNZXNzYWdlSW52ZXJzZVxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHJvb3RFbGVtZW50SWQ9e3VuaXF1ZUlkfVxuICAgICAgICAgICAgZGVzY3JpYmVkQnlJZD17aGVscEZvcih1bmlxdWVJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2hlbHBNZXNzYWdlfVxuICAgICAgICAgIDwvRm9ybUhlbHBNZXNzYWdlPlxuICAgICAgICApfVxuICAgICAgICB7aGFzRXJyb3IgJiYgZXJyb3JNZXNzYWdlICYmIChcbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZVxuICAgICAgICAgICAgY29sb3I9e2NvbG9yfVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMudHJhaWxlck1lc3NhZ2UpfVxuICAgICAgICAgICAgcm9vdEVsZW1lbnRJZD17dW5pcXVlSWR9XG4gICAgICAgICAgICBkZXNjcmliZWRCeUlkPXtlcnJvckZvcih1bmlxdWVJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4pO1xuIl19