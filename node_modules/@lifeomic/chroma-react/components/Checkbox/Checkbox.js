"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Checkbox = exports.useStyles = exports.CheckboxStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var styles_1 = require("../../styles");
var forms_1 = require("../_private/forms");
var UniqueId_1 = require("../_private/UniqueId");
var Text_1 = require("../Text");
var framer_motion_1 = require("framer-motion");
require("focus-visible");
var screenreaderOnly_1 = require("../../styles/screenreaderOnly");
exports.CheckboxStylesKey = 'ChromaCheckbox';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {
        // All values that are animated to/from need to be specified as css variables for the
        // framer-motion library to handle the animations correctly (no mix of hex/rgb + variables)
        '--checkbox-primary': theme.palette.primary.main,
        '--checkbox-emphasis': theme.palette.primary[900],
        '--checkbox-secondary': theme.palette.graphite[100],
        '--checkbox-secondary-emphasis': theme.palette.graphite[900],
        '--checkbox-error': theme.palette.error[900],
        '--checkbox-inverse': theme.palette.common.white,
        '--tick-primary': theme.palette.common.white,
        '--tick-disabled': theme.palette.black[400],
        display: 'flex',
        flexFlow: 'column',
        position: 'relative',
        '& > p': {
            marginLeft: theme.pxToRem(29),
        },
    },
    input: {
        cursor: 'pointer',
        height: theme.pxToRem(16),
        left: 0,
        opacity: 0,
        position: 'absolute',
        transition: '0.35s ease-in',
        top: 0,
        width: theme.pxToRem(16),
        '&:disabled, &:disabled + $labelContainer, &:disabled + $labelContainer *': {
            cursor: 'not-allowed',
        },
        '&:focus.focus-visible + $labelContainer $box': {
            stroke: theme.palette.primary.main,
            strokeOpacity: 0.5,
            strokeWidth: 2.5,
            transition: '0.35s ease-out',
        },
    },
    inputInverse: {
        '&:focus.focus-visible + $labelContainer $box': {
            stroke: theme.palette.common.white,
        },
    },
    labelContainer: {
        flex: 1,
        zIndex: 2,
    },
    label: {
        cursor: 'pointer',
        display: 'inline-flex',
        marginBottom: 0,
        verticalAlign: 'top',
        '& p': {
            lineHeight: 1.25,
            marginTop: theme.spacing(0.25),
            marginLeft: theme.spacing(1),
        },
    },
    labelInverse: {
        color: theme.palette.common.white,
    },
    svg: {
        minWidth: theme.pxToRem(21),
        minHeight: theme.pxToRem(21),
        zIndex: 2,
    },
    box: {},
    srOnly: __assign({}, screenreaderOnly_1.screenreaderOnlyStyles),
}); }, { name: exports.CheckboxStylesKey });
var getBoxVariants = function (_a) {
    var disabled = _a.disabled, hasError = _a.hasError, color = _a.color;
    if (disabled && color === 'default') {
        return disabledDefaultBoxVariants;
    }
    if (disabled && color === 'inverse') {
        return disabledInverseBoxVariants;
    }
    if (hasError && color === 'default') {
        return defaultHasErrorBoxVariants;
    }
    if (hasError && color === 'inverse') {
        return inverseHasErrorBoxVariants;
    }
    if (color === 'inverse') {
        return boxInverseVariants;
    }
    return boxVariants;
};
var getTickVariants = function (_a) {
    var disabled = _a.disabled, color = _a.color, indeterminate = _a.indeterminate;
    if (disabled && color === 'inverse') {
        return disabledInverseTickVariants;
    }
    if (disabled && indeterminate) {
        return indeterminateDisabledTickVariants;
    }
    if (disabled) {
        return disabledDefaultTickVariants;
    }
    if (indeterminate) {
        return indeterminateDefaultTickVariants;
    }
    return tickVariants;
};
var tickVariants = {
    pressed: function (isChecked) { return ({
        pathLength: isChecked ? 0.85 : 0.2,
    }); },
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 1,
    },
    unchecked: { pathLength: 0 },
};
var disabledDefaultTickVariants = {
    checked: {
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
        pathLength: 1,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
};
var disabledInverseTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 0.65,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 0.65,
    },
};
var indeterminateDefaultTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-primary)',
    },
};
var indeterminateDisabledTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
};
var checkedBox = {
    fill: 'var(--checkbox-primary)',
    fillOpacity: 1,
    stroke: 'var(--checkbox-primary)',
    strokeWidth: 0,
};
var hoverBox = {
    strokeOpacity: 1,
    strokeWidth: 2,
};
var pressedBox = {
    fill: 'var(--checkbox-emphasis)',
    fillOpacity: 1,
    scale: 0.9,
    stroke: 'var(--checkbox-emphasis)',
};
var errorUncheckedBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.25,
    stroke: 'var(--checkbox-error)',
    strokeOpacity: 1,
    strokeWidth: 1,
};
var disabledBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.5,
    strokeWidth: 0,
};
var disabledInverseBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.1,
    stroke: 'var(--checkbox-secondary)',
    strokeOpacity: 0.25,
    strokeWidth: 1,
};
var inverseBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.1,
    stroke: 'var(--checkbox-secondary)',
    strokeOpacity: 0.55,
    strokeWidth: 1,
};
var boxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-primary)' }),
    pressed: pressedBox,
    checked: checkedBox,
    unchecked: {
        fill: 'var(--checkbox-secondary-emphasis)',
        fillOpacity: 0.15,
        stroke: 'var(--checkbox-primary)',
    },
};
var boxInverseVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-inverse)' }),
    pressed: pressedBox,
    checked: inverseBox,
    unchecked: inverseBox,
};
var disabledDefaultBoxVariants = {
    checked: disabledBox,
    unchecked: disabledBox,
};
var disabledInverseBoxVariants = {
    checked: disabledInverseBox,
    unchecked: disabledInverseBox,
};
var defaultHasErrorBoxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-error)' }),
    pressed: pressedBox,
    checked: checkedBox,
    unchecked: errorUncheckedBox,
};
var inverseHasErrorBoxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-error)' }),
    pressed: pressedBox,
    checked: inverseBox,
    unchecked: errorUncheckedBox,
};
exports.Checkbox = React.forwardRef(function (_a, ref) {
    var _b;
    var ariaLabel = _a["aria-label"], checked = _a.checked, className = _a.className, additionalClasses = _a.classes, _c = _a.color, color = _c === void 0 ? 'default' : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, errorMessage = _a.errorMessage, hasError = _a.hasError, helpMessage = _a.helpMessage, _e = _a.indeterminate, indeterminate = _e === void 0 ? false : _e, id = _a.id, label = _a.label, name = _a.name, rootProps = __rest(_a, ['aria-label', "checked", "className", "classes", "color", "disabled", "errorMessage", "hasError", "helpMessage", "indeterminate", "id", "label", "name"]);
    var classes = (0, exports.useStyles)({ classes: additionalClasses });
    var uniqueId = React.useState(function () { return id || name || (0, UniqueId_1.generateUniqueId)('checkbox-'); })[0];
    var pathLength = (0, framer_motion_1.useMotionValue)(0);
    var opacity = (0, framer_motion_1.useTransform)(pathLength, [0.05, 0.15], [0, 1]);
    if (!label && !ariaLabel && process.env.NODE_ENV === 'development') {
        throw new Error('If a "label" is not provided to Checkbox, please provide "aria-label".');
    }
    var variant = [
        checked ? 'checked' : 'unchecked',
        disabled ? 'disabled' : 'enabled',
    ];
    return (React.createElement(framer_motion_1.motion.div, { className: (0, clsx_1.default)(classes.root, className), animate: variant, initial: false, whileHover: "hover", whileTap: "pressed" },
        React.createElement("input", __assign({ "aria-describedby": (0, forms_1.buildDescribedBy)({
                hasError: hasError,
                hasHelpMessage: !!helpMessage,
                uniqueId: uniqueId,
            }), "aria-checked": checked && !indeterminate
                ? 'true'
                : !checked && !indeterminate
                    ? 'false'
                    : !checked && indeterminate
                        ? 'mixed'
                        : 'false', className: (0, clsx_1.default)(classes.input, (_b = {},
                _b[classes.inputInverse] = color === 'inverse',
                _b)), ref: ref, type: "checkbox", id: uniqueId, name: name, checked: checked, disabled: disabled, tabIndex: 0 }, rootProps)),
        React.createElement("div", { className: classes.labelContainer },
            React.createElement(framer_motion_1.motion.label, { className: classes.label, htmlFor: uniqueId, animate: variant, whileHover: "hover", whileTap: "pressed" },
                React.createElement(framer_motion_1.motion.svg, { className: classes.svg, width: "21", height: "21", viewBox: "0 0 21 21" },
                    React.createElement(framer_motion_1.motion.path, { className: classes.box, d: "M1,5.524A4.523,4.523,0,0,1,5.524,1h9.952A4.523,4.523,0,0,1,20,5.524v9.952A4.523,4.523,0,0,1,15.476,20H5.524A4.523,4.523,0,0,1,1,15.476Z", fill: "transparent", stroke: "var(--checkbox-secondary-emphasis)", strokeOpacity: "0", strokeMiterlimit: "10", strokeWidth: "2", variants: getBoxVariants({
                            disabled: disabled,
                            hasError: hasError,
                            color: color,
                        }) }),
                    indeterminate && disabled ? (React.createElement(framer_motion_1.motion.path, { d: "M6.5,10.458h8", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                            disabled: disabled,
                            indeterminate: indeterminate,
                            color: color,
                        }) })) : indeterminate ? (React.createElement(React.Fragment, null,
                        React.createElement(framer_motion_1.motion.path, { d: "M10.5,10.458h-4", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                                disabled: disabled,
                                indeterminate: indeterminate,
                                color: color,
                            }) }),
                        React.createElement(framer_motion_1.motion.path, { d: "M10.5,10.458h4", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                                disabled: disabled,
                                indeterminate: indeterminate,
                                color: color,
                            }) }))) : (React.createElement(framer_motion_1.motion.path, { d: "M5.761,11.962l2.187,2.187,7.291-7.3", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeOpacity: "1", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({ disabled: disabled, indeterminate: indeterminate, color: color }) }))),
                React.createElement(Text_1.Text, { size: "subbody", className: (0, clsx_1.default)(color === 'inverse' ? classes.labelInverse : undefined, !label && ariaLabel && classes.srOnly) }, label || ariaLabel))),
        helpMessage && (React.createElement(forms_1.FormHelpMessage, { color: color, rootElementId: uniqueId, describedById: (0, forms_1.helpFor)(uniqueId) }, helpMessage)),
        hasError && (React.createElement(forms_1.FormErrorMessage, { color: color, rootElementId: uniqueId, describedById: (0, forms_1.errorFor)(uniqueId) }, errorMessage))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hlY2tib3guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9DaGVja2JveC9DaGVja2JveC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUMvQix1Q0FBMEM7QUFFMUMsMkNBTzJCO0FBQzNCLGlEQUF3RDtBQUN4RCxnQ0FBK0I7QUFDL0IsK0NBQXFFO0FBQ3JFLHlCQUF1QjtBQUN2QixrRUFBdUU7QUFFMUQsUUFBQSxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztBQUVyQyxRQUFBLFNBQVMsR0FBRyxJQUFBLG1CQUFVLEVBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLHFGQUFxRjtRQUNyRiwyRkFBMkY7UUFDM0Ysb0JBQW9CLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSTtRQUNoRCxxQkFBcUIsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDakQsc0JBQXNCLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO1FBQ25ELCtCQUErQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQztRQUM1RCxrQkFBa0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7UUFDNUMsb0JBQW9CLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSztRQUNoRCxnQkFBZ0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQzVDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUMzQyxPQUFPLEVB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Q0FBcUMsRUFDdkMsSUFBSSxFQUFDLGFBQWEsRUFDbEIsV0FBVyxFQUFDLE1BQU0sRUFDbEIsTUFBTSxFQUFDLFNBQVMsRUFDaEIsYUFBYSxFQUFDLEdBQUcsRUFDakIsYUFBYSxFQUFDLE9BQU8sRUFDckIsY0FBYyxFQUFDLE9BQU8sRUFDdEIsS0FBSyxFQUFFLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFDOUIsTUFBTSxFQUFFLE9BQU8sRUFDZixRQUFRLEVBQUUsZUFBZSxDQUFDLEVBQUUsUUFBUSxVQUFBLEVBQUUsYUFBYSxlQUFBLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQyxHQUM3RCxDQUNILENBQ1U7Z0JBQ2Isb0JBQUMsV0FBSSxJQUNILElBQUksRUFBQyxTQUFTLEVBQ2QsU0FBUyxFQUFFLElBQUEsY0FBSSxFQUNiLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDdEQsQ0FBQyxLQUFLLElBQUksU0FBUyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQ3RDLElBRUEsS0FBSyxJQUFJLFNBQVMsQ0FDZCxDQUNNLENBQ1g7UUFDTCxXQUFXLElBQUksQ0FDZCxvQkFBQyx1QkFBZSxJQUNkLEtBQUssRUFBRSxLQUFLLEVBQ1osYUFBYSxFQUFFLFFBQVEsRUFDdkIsYUFBYSxFQUFFLElBQUEsZUFBTyxFQUFDLFFBQVEsQ0FBQyxJQUUvQixXQUFXLENBQ0ksQ0FDbkI7UUFDQSxRQUFRLElBQUksQ0FDWCxvQkFBQyx3QkFBZ0IsSUFDZixLQUFLLEVBQUUsS0FBSyxFQUNaLGFBQWEsRUFBRSxRQUFRLEVBQ3ZCLGFBQWEsRUFBRSxJQUFBLGdCQUFRLEVBQUMsUUFBUSxDQUFDLElBRWhDLFlBQVksQ0FDSSxDQUNwQixDQUNVLENBQ2QsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMsIENsYXNzT3ZlcnJpZGVzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcbmltcG9ydCB7XG4gIEJhc2VGb3JtRWxlbWVudFdpdGhOb2RlTGFiZWwsXG4gIGJ1aWxkRGVzY3JpYmVkQnksXG4gIGVycm9yRm9yLFxuICBGb3JtRXJyb3JNZXNzYWdlLFxuICBGb3JtSGVscE1lc3NhZ2UsXG4gIGhlbHBGb3IsXG59IGZyb20gJy4uL19wcml2YXRlL2Zvcm1zJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pcXVlSWQgfSBmcm9tICcuLi9fcHJpdmF0ZS9VbmlxdWVJZCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBtb3Rpb24sIHVzZU1vdGlvblZhbHVlLCB1c2VUcmFuc2Zvcm0gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCAnZm9jdXMtdmlzaWJsZSc7XG5pbXBvcnQgeyBzY3JlZW5yZWFkZXJPbmx5U3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzL3NjcmVlbnJlYWRlck9ubHknO1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hTdHlsZXNLZXkgPSAnQ2hyb21hQ2hlY2tib3gnO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgIC8vIEFsbCB2YWx1ZXMgdGhhdCBhcmUgYW5pbWF0ZWQgdG8vZnJvbSBuZWVkIHRvIGJlIHNwZWNpZmllZCBhcyBjc3MgdmFyaWFibGVzIGZvciB0aGVcbiAgICAgIC8vIGZyYW1lci1tb3Rpb24gbGlicmFyeSB0byBoYW5kbGUgdGhlIGFuaW1hdGlvbnMgY29ycmVjdGx5IChubyBtaXggb2YgaGV4L3JnYiArIHZhcmlhYmxlcylcbiAgICAgICctLWNoZWNrYm94LXByaW1hcnknOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICctLWNoZWNrYm94LWVtcGhhc2lzJzogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICAnLS1jaGVja2JveC1zZWNvbmRhcnknOiB0aGVtZS5wYWxldHRlLmdyYXBoaXRlWzEwMF0sXG4gICAgICAnLS1jaGVja2JveC1zZWNvbmRhcnktZW1waGFzaXMnOiB0aGVtZS5wYWxldHRlLmdyYXBoaXRlWzkwMF0sXG4gICAgICAnLS1jaGVja2JveC1lcnJvcic6IHRoZW1lLnBhbGV0dGUuZXJyb3JbOTAwXSxcbiAgICAgICctLWNoZWNrYm94LWludmVyc2UnOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICctLXRpY2stcHJpbWFyeSc6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgJy0tdGljay1kaXNhYmxlZCc6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNDAwXSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhGbG93OiAnY29sdW1uJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgJyYgPiBwJzoge1xuICAgICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5weFRvUmVtKDI5KSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpbnB1dDoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBoZWlnaHQ6IHRoZW1lLnB4VG9SZW0oMTYpLFxuICAgICAgbGVmdDogMCxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRyYW5zaXRpb246ICcwLjM1cyBlYXNlLWluJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDE2KSxcbiAgICAgICcmOmRpc2FibGVkLCAmOmRpc2FibGVkICsgJGxhYmVsQ29udGFpbmVyLCAmOmRpc2FibGVkICsgJGxhYmVsQ29udGFpbmVyIConOiB7XG4gICAgICAgIGN1cnNvcjogJ25vdC1hbGxvd2VkJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlICsgJGxhYmVsQ29udGFpbmVyICRib3gnOiB7XG4gICAgICAgIHN0cm9rZTogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDIuNSxcbiAgICAgICAgdHJhbnNpdGlvbjogJzAuMzVzIGVhc2Utb3V0JyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpbnB1dEludmVyc2U6IHtcbiAgICAgICcmOmZvY3VzLmZvY3VzLXZpc2libGUgKyAkbGFiZWxDb250YWluZXIgJGJveCc6IHtcbiAgICAgICAgc3Ryb2tlOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYWJlbENvbnRhaW5lcjoge1xuICAgICAgZmxleDogMSxcbiAgICAgIHpJbmRleDogMixcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICBtYXJnaW5Cb3R0b206IDAsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgICcmIHAnOiB7XG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuMjUsXG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygwLjI1KSxcbiAgICAgICAgbWFyZ2luTGVmdDogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYWJlbEludmVyc2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICB9LFxuICAgIHN2Zzoge1xuICAgICAgbWluV2lkdGg6IHRoZW1lLnB4VG9SZW0oMjEpLFxuICAgICAgbWluSGVpZ2h0OiB0aGVtZS5weFRvUmVtKDIxKSxcbiAgICAgIHpJbmRleDogMixcbiAgICB9LFxuICAgIGJveDoge30sXG4gICAgc3JPbmx5OiB7XG4gICAgICAuLi5zY3JlZW5yZWFkZXJPbmx5U3R5bGVzLFxuICAgIH0sXG4gIH0pLFxuICB7IG5hbWU6IENoZWNrYm94U3R5bGVzS2V5IH1cbik7XG5cbmNvbnN0IGdldEJveFZhcmlhbnRzID0gKHtcbiAgZGlzYWJsZWQsXG4gIGhhc0Vycm9yLFxuICBjb2xvcixcbn06IHtcbiAgZGlzYWJsZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGhhc0Vycm9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb2xvcjogc3RyaW5nO1xufSkgPT4ge1xuICBpZiAoZGlzYWJsZWQgJiYgY29sb3IgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBkaXNhYmxlZERlZmF1bHRCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoZGlzYWJsZWQgJiYgY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBkaXNhYmxlZEludmVyc2VCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoaGFzRXJyb3IgJiYgY29sb3IgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBkZWZhdWx0SGFzRXJyb3JCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoaGFzRXJyb3IgJiYgY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBpbnZlcnNlSGFzRXJyb3JCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBib3hJbnZlcnNlVmFyaWFudHM7XG4gIH1cbiAgcmV0dXJuIGJveFZhcmlhbnRzO1xufTtcblxuY29uc3QgZ2V0VGlja1ZhcmlhbnRzID0gKHtcbiAgZGlzYWJsZWQsXG4gIGNvbG9yLFxuICBpbmRldGVybWluYXRlLFxufToge1xuICBkaXNhYmxlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgaW5kZXRlcm1pbmF0ZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgY29sb3I6IHN0cmluZztcbn0pID0+IHtcbiAgaWYgKGRpc2FibGVkICYmIGNvbG9yID09PSAnaW52ZXJzZScpIHtcbiAgICByZXR1cm4gZGlzYWJsZWRJbnZlcnNlVGlja1ZhcmlhbnRzO1xuICB9XG4gIGlmIChkaXNhYmxlZCAmJiBpbmRldGVybWluYXRlKSB7XG4gICAgcmV0dXJuIGluZGV0ZXJtaW5hdGVEaXNhYmxlZFRpY2tWYXJpYW50cztcbiAgfVxuICBpZiAoZGlzYWJsZWQpIHtcbiAgICByZXR1cm4gZGlzYWJsZWREZWZhdWx0VGlja1ZhcmlhbnRzO1xuICB9XG4gIGlmIChpbmRldGVybWluYXRlKSB7XG4gICAgcmV0dXJuIGluZGV0ZXJtaW5hdGVEZWZhdWx0VGlja1ZhcmlhbnRzO1xuICB9XG4gIHJldHVybiB0aWNrVmFyaWFudHM7XG59O1xuXG5jb25zdCB0aWNrVmFyaWFudHMgPSB7XG4gIHByZXNzZWQ6IChpc0NoZWNrZWQ6IGJvb2xlYW4pID0+ICh7XG4gICAgcGF0aExlbmd0aDogaXNDaGVja2VkID8gMC44NSA6IDAuMixcbiAgfSksXG4gIGNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stcHJpbWFyeSknLFxuICAgIHN0cm9rZU9wYWNpdHk6IDEsXG4gIH0sXG4gIHVuY2hlY2tlZDogeyBwYXRoTGVuZ3RoOiAwIH0sXG59O1xuXG5jb25zdCBkaXNhYmxlZERlZmF1bHRUaWNrVmFyaWFudHMgPSB7XG4gIGNoZWNrZWQ6IHtcbiAgICBzdHJva2U6ICd2YXIoLS10aWNrLWRpc2FibGVkKScsXG4gICAgc3Ryb2tlT3BhY2l0eTogMC42NSxcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxufTtcblxuY29uc3QgZGlzYWJsZWRJbnZlcnNlVGlja1ZhcmlhbnRzID0ge1xuICBjaGVja2VkOiB7XG4gICAgcGF0aExlbmd0aDogMSxcbiAgICBzdHJva2U6ICd2YXIoLS10aWNrLXByaW1hcnkpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stcHJpbWFyeSknLFxuICAgIHN0cm9rZU9wYWNpdHk6IDAuNjUsXG4gIH0sXG59O1xuXG5jb25zdCBpbmRldGVybWluYXRlRGVmYXVsdFRpY2tWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDoge1xuICAgIHBhdGhMZW5ndGg6IDEsXG4gICAgc3Ryb2tlOiAndmFyKC0tdGljay1wcmltYXJ5KScsXG4gIH0sXG4gIHVuY2hlY2tlZDoge1xuICAgIHBhdGhMZW5ndGg6IDAsXG4gICAgc3Ryb2tlOiAndmFyKC0tdGljay1wcmltYXJ5KScsXG4gIH0sXG59O1xuXG5jb25zdCBpbmRldGVybWluYXRlRGlzYWJsZWRUaWNrVmFyaWFudHMgPSB7XG4gIGNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxufTtcblxuY29uc3QgY2hlY2tlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgZmlsbE9wYWNpdHk6IDEsXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgc3Ryb2tlV2lkdGg6IDAsXG59O1xuXG5jb25zdCBob3ZlckJveCA9IHtcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgc3Ryb2tlV2lkdGg6IDIsXG59O1xuXG5jb25zdCBwcmVzc2VkQm94ID0ge1xuICBmaWxsOiAndmFyKC0tY2hlY2tib3gtZW1waGFzaXMpJyxcbiAgZmlsbE9wYWNpdHk6IDEsXG4gIHNjYWxlOiAwLjksXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LWVtcGhhc2lzKScsXG59O1xuXG5jb25zdCBlcnJvclVuY2hlY2tlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC4yNSxcbiAgc3Ryb2tlOiAndmFyKC0tY2hlY2tib3gtZXJyb3IpJyxcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgc3Ryb2tlV2lkdGg6IDEsXG59O1xuXG5jb25zdCBkaXNhYmxlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC41LFxuICBzdHJva2VXaWR0aDogMCxcbn07XG5cbmNvbnN0IGRpc2FibGVkSW52ZXJzZUJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC4xLFxuICBzdHJva2U6ICd2YXIoLS1jaGVja2JveC1zZWNvbmRhcnkpJyxcbiAgc3Ryb2tlT3BhY2l0eTogMC4yNSxcbiAgc3Ryb2tlV2lkdGg6IDEsXG59O1xuXG5jb25zdCBpbnZlcnNlQm94ID0ge1xuICBmaWxsOiAndmFyKC0tY2hlY2tib3gtc2Vjb25kYXJ5KScsXG4gIGZpbGxPcGFjaXR5OiAwLjEsXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBzdHJva2VPcGFjaXR5OiAwLjU1LFxuICBzdHJva2VXaWR0aDogMSxcbn07XG5cbmNvbnN0IGJveFZhcmlhbnRzID0ge1xuICBob3Zlcjoge1xuICAgIC4uLmhvdmVyQm94LFxuICAgIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgfSxcbiAgcHJlc3NlZDogcHJlc3NlZEJveCxcbiAgY2hlY2tlZDogY2hlY2tlZEJveCxcbiAgdW5jaGVja2VkOiB7XG4gICAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeS1lbXBoYXNpcyknLFxuICAgIGZpbGxPcGFjaXR5OiAwLjE1LFxuICAgIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgfSxcbn07XG5cbmNvbnN0IGJveEludmVyc2VWYXJpYW50cyA9IHtcbiAgaG92ZXI6IHsgLi4uaG92ZXJCb3gsIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LWludmVyc2UpJyB9LFxuICBwcmVzc2VkOiBwcmVzc2VkQm94LFxuICBjaGVja2VkOiBpbnZlcnNlQm94LFxuICB1bmNoZWNrZWQ6IGludmVyc2VCb3gsXG59O1xuXG5jb25zdCBkaXNhYmxlZERlZmF1bHRCb3hWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDogZGlzYWJsZWRCb3gsXG4gIHVuY2hlY2tlZDogZGlzYWJsZWRCb3gsXG59O1xuXG5jb25zdCBkaXNhYmxlZEludmVyc2VCb3hWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDogZGlzYWJsZWRJbnZlcnNlQm94LFxuICB1bmNoZWNrZWQ6IGRpc2FibGVkSW52ZXJzZUJveCxcbn07XG5cbmNvbnN0IGRlZmF1bHRIYXNFcnJvckJveFZhcmlhbnRzID0ge1xuICBob3ZlcjogeyAuLi5ob3ZlckJveCwgc3Ryb2tlOiAndmFyKC0tY2hlY2tib3gtZXJyb3IpJyB9LFxuICBwcmVzc2VkOiBwcmVzc2VkQm94LFxuICBjaGVja2VkOiBjaGVja2VkQm94LFxuICB1bmNoZWNrZWQ6IGVycm9yVW5jaGVja2VkQm94LFxufTtcblxuY29uc3QgaW52ZXJzZUhhc0Vycm9yQm94VmFyaWFudHMgPSB7XG4gIGhvdmVyOiB7IC4uLmhvdmVyQm94LCBzdHJva2U6ICd2YXIoLS1jaGVja2JveC1lcnJvciknIH0sXG4gIHByZXNzZWQ6IHByZXNzZWRCb3gsXG4gIGNoZWNrZWQ6IGludmVyc2VCb3gsXG4gIHVuY2hlY2tlZDogZXJyb3JVbmNoZWNrZWRCb3gsXG59O1xuXG5leHBvcnQgdHlwZSBDaGVja2JveENsYXNzZXMgPSBHZXRDbGFzc2VzPHR5cGVvZiB1c2VTdHlsZXM+O1xuXG5leHBvcnQgdHlwZSBDaGVja2JveFByb3BzID0gQmFzZUZvcm1FbGVtZW50V2l0aE5vZGVMYWJlbCAmXG4gIENsYXNzT3ZlcnJpZGVzPENoZWNrYm94Q2xhc3Nlcz4gJiB7IGluZGV0ZXJtaW5hdGU/OiBib29sZWFuIH07XG5cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgQ2hlY2tib3hQcm9wcz4oXG4gIChcbiAgICB7XG4gICAgICBbJ2FyaWEtbGFiZWwnXTogYXJpYUxhYmVsLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzLFxuICAgICAgY29sb3IgPSAnZGVmYXVsdCcsXG4gICAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgaGFzRXJyb3IsXG4gICAgICBoZWxwTWVzc2FnZSxcbiAgICAgIGluZGV0ZXJtaW5hdGUgPSBmYWxzZSxcbiAgICAgIGlkLFxuICAgICAgbGFiZWwsXG4gICAgICBuYW1lLFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7IGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzIH0pO1xuXG4gICAgY29uc3QgW3VuaXF1ZUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oXG4gICAgICAoKSA9PiBpZCB8fCBuYW1lIHx8IGdlbmVyYXRlVW5pcXVlSWQoJ2NoZWNrYm94LScpXG4gICAgKTtcblxuICAgIGNvbnN0IHBhdGhMZW5ndGggPSB1c2VNb3Rpb25WYWx1ZSgwKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gdXNlVHJhbnNmb3JtKHBhdGhMZW5ndGgsIFswLjA1LCAwLjE1XSwgWzAsIDFdKTtcblxuICAgIGlmICghbGFiZWwgJiYgIWFyaWFMYWJlbCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgYSBcImxhYmVsXCIgaXMgbm90IHByb3ZpZGVkIHRvIENoZWNrYm94LCBwbGVhc2UgcHJvdmlkZSBcImFyaWEtbGFiZWxcIi4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHZhcmlhbnQgPSBbXG4gICAgICBjaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcsXG4gICAgICBkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnZW5hYmxlZCcsXG4gICAgXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpfVxuICAgICAgICBhbmltYXRlPXt2YXJpYW50fVxuICAgICAgICBpbml0aWFsPXtmYWxzZX1cbiAgICAgICAgd2hpbGVIb3Zlcj1cImhvdmVyXCJcbiAgICAgICAgd2hpbGVUYXA9XCJwcmVzc2VkXCJcbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17YnVpbGREZXNjcmliZWRCeSh7XG4gICAgICAgICAgICBoYXNFcnJvcixcbiAgICAgICAgICAgIGhhc0hlbHBNZXNzYWdlOiAhIWhlbHBNZXNzYWdlLFxuICAgICAgICAgICAgdW5pcXVlSWQsXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgYXJpYS1jaGVja2VkPXtcbiAgICAgICAgICAgIGNoZWNrZWQgJiYgIWluZGV0ZXJtaW5hdGVcbiAgICAgICAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgICAgICAgOiAhY2hlY2tlZCAmJiAhaW5kZXRlcm1pbmF0ZVxuICAgICAgICAgICAgICA/ICdmYWxzZSdcbiAgICAgICAgICAgICAgOiAhY2hlY2tlZCAmJiBpbmRldGVybWluYXRlXG4gICAgICAgICAgICAgID8gJ21peGVkJ1xuICAgICAgICAgICAgICA6ICdmYWxzZSdcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMuaW5wdXQsIHtcbiAgICAgICAgICAgIFtjbGFzc2VzLmlucHV0SW52ZXJzZV06IGNvbG9yID09PSAnaW52ZXJzZScsXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBpZD17dW5pcXVlSWR9XG4gICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5sYWJlbENvbnRhaW5lcn0+XG4gICAgICAgICAgPG1vdGlvbi5sYWJlbFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmxhYmVsfVxuICAgICAgICAgICAgaHRtbEZvcj17dW5pcXVlSWR9XG4gICAgICAgICAgICBhbmltYXRlPXt2YXJpYW50fVxuICAgICAgICAgICAgd2hpbGVIb3Zlcj1cImhvdmVyXCJcbiAgICAgICAgICAgIHdoaWxlVGFwPVwicHJlc3NlZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1vdGlvbi5zdmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnN2Z31cbiAgICAgICAgICAgICAgd2lkdGg9XCIyMVwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjIxXCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyMSAyMVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5ib3h9XG4gICAgICAgICAgICAgICAgZD1cIk0xLDUuNTI0QTQuNTIzLDQuNTIzLDAsMCwxLDUuNTI0LDFoOS45NTJBNC41MjMsNC41MjMsMCwwLDEsMjAsNS41MjR2OS45NTJBNC41MjMsNC41MjMsMCwwLDEsMTUuNDc2LDIwSDUuNTI0QTQuNTIzLDQuNTIzLDAsMCwxLDEsMTUuNDc2WlwiXG4gICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICBzdHJva2U9XCJ2YXIoLS1jaGVja2JveC1zZWNvbmRhcnktZW1waGFzaXMpXCJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5PVwiMFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTWl0ZXJsaW1pdD1cIjEwXCJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgIHZhcmlhbnRzPXtnZXRCb3hWYXJpYW50cyh7XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIGhhc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtpbmRldGVybWluYXRlICYmIGRpc2FibGVkID8gKFxuICAgICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgICAgZD1cIk02LjUsMTAuNDU4aDhcIlxuICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMi4yNVwiXG4gICAgICAgICAgICAgICAgICBzdHJva2U9XCIjRkZGRkZGXCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhdGhMZW5ndGgsIG9wYWNpdHkgfX1cbiAgICAgICAgICAgICAgICAgIGN1c3RvbT17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnRzPXtnZXRUaWNrVmFyaWFudHMoe1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApIDogaW5kZXRlcm1pbmF0ZSA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPG1vdGlvbi5wYXRoXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNMTAuNSwxMC40NThoLTRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjIuMjVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjRkZGRkZGXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhdGhMZW5ndGgsIG9wYWNpdHkgfX1cbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50cz17Z2V0VGlja1ZhcmlhbnRzKHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8bW90aW9uLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMC41LDEwLjQ1OGg0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyLjI1XCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGRkZGRlwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYXRoTGVuZ3RoLCBvcGFjaXR5IH19XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbT17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudHM9e2dldFRpY2tWYXJpYW50cyh7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgICAgZD1cIk01Ljc2MSwxMS45NjJsMi4xODcsMi4xODcsNy4yOTEtNy4zXCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjIuMjVcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGRkZGRlwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5PVwiMVwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYXRoTGVuZ3RoLCBvcGFjaXR5IH19XG4gICAgICAgICAgICAgICAgICBjdXN0b209e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICB2YXJpYW50cz17Z2V0VGlja1ZhcmlhbnRzKHsgZGlzYWJsZWQsIGluZGV0ZXJtaW5hdGUsIGNvbG9yIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5zdmc+XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBzaXplPVwic3ViYm9keVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgICBjb2xvciA9PT0gJ2ludmVyc2UnID8gY2xhc3Nlcy5sYWJlbEludmVyc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgIWxhYmVsICYmIGFyaWFMYWJlbCAmJiBjbGFzc2VzLnNyT25seVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bGFiZWwgfHwgYXJpYUxhYmVsfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIDwvbW90aW9uLmxhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2hlbHBNZXNzYWdlICYmIChcbiAgICAgICAgICA8Rm9ybUhlbHBNZXNzYWdlXG4gICAgICAgICAgICBjb2xvcj17Y29sb3J9XG4gICAgICAgICAgICByb290RWxlbWVudElkPXt1bmlxdWVJZH1cbiAgICAgICAgICAgIGRlc2NyaWJlZEJ5SWQ9e2hlbHBGb3IodW5pcXVlSWQpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtoZWxwTWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1IZWxwTWVzc2FnZT5cbiAgICAgICAgKX1cbiAgICAgICAge2hhc0Vycm9yICYmIChcbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZVxuICAgICAgICAgICAgY29sb3I9e2NvbG9yfVxuICAgICAgICAgICAgcm9vdEVsZW1lbnRJZD17dW5pcXVlSWR9XG4gICAgICAgICAgICBkZXNjcmliZWRCeUlkPXtlcnJvckZvcih1bmlxdWVJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgICl9XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==