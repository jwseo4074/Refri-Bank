"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Box = exports.useStyles = exports.BoxStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var styles_1 = require("../../styles");
var utils_1 = require("../../utils");
var colorOptions_1 = __importDefault(require("./colorOptions"));
exports.BoxStylesKey = 'ChromaBox';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) {
    var stringOrThemeSpacing = function (value) {
        if (typeof value === 'string')
            return value;
        if (typeof value === 'number')
            return theme.spacing(value);
    };
    var stringOrThemeSpacingGap = function (value) {
        if (typeof value === 'string')
            return value;
        if (typeof value === 'number')
            return theme.spacing(value) + 'px';
    };
    var stringOrThemeColor = function (value) {
        if (!value)
            return;
        var palette = theme.palette;
        var valueParts = value.split('.');
        if (valueParts.length > 1) {
            if (colorOptions_1.default.includes(value)) {
                return palette[valueParts[0]][valueParts[1]];
            }
            else {
                (0, utils_1.warning)(true, "Box color property ".concat(value, " is invalid"));
            }
        }
        return value;
    };
    return {
        root: { display: 'flex' },
        alignBaseline: { alignItems: 'baseline' },
        alignCenter: { alignItems: 'center' },
        alignStart: { alignItems: 'start' },
        flexChildren: {
            '& > *': {
                flex: 1,
            },
        },
        flexWrap: { flexWrap: 'wrap' },
        alignFlexStart: { alignItems: 'flex-start' },
        alignEnd: { alignItems: 'end' },
        alignFlexEnd: { alignItems: 'flex-end' },
        directionRow: { flexDirection: 'row' },
        directionColumn: { flexDirection: 'column' },
        justifyStart: { justifyContent: 'flex-start' },
        justifyEnd: { justifyContent: 'flex-end' },
        justifyEvenly: { justifyContent: 'space-evenly' },
        justifyBetween: { justifyContent: 'space-between' },
        justifyCenter: { justifyContent: 'center' },
        height: { height: function (_a) {
                var height = _a.height;
                return stringOrThemeSpacing(height);
            } },
        width: { width: function (_a) {
                var width = _a.width;
                return stringOrThemeSpacing(width);
            } },
        fullWidth: { width: '100%' },
        fullHeight: { height: '100%' },
        margin: { margin: function (_a) {
                var margin = _a.margin;
                return stringOrThemeSpacing(margin);
            } },
        marginLeft: {
            marginLeft: function (_a) {
                var marginLeft = _a.marginLeft;
                return stringOrThemeSpacing(marginLeft);
            },
        },
        marginRight: {
            marginRight: function (_a) {
                var marginRight = _a.marginRight;
                return stringOrThemeSpacing(marginRight);
            },
        },
        marginTop: {
            marginTop: function (_a) {
                var marginTop = _a.marginTop;
                return stringOrThemeSpacing(marginTop);
            },
        },
        marginBottom: {
            marginBottom: function (_a) {
                var marginBottom = _a.marginBottom;
                return stringOrThemeSpacing(marginBottom);
            },
        },
        marginX: {
            marginLeft: function (_a) {
                var marginX = _a.marginX;
                return stringOrThemeSpacing(marginX);
            },
            marginRight: function (_a) {
                var marginX = _a.marginX;
                return stringOrThemeSpacing(marginX);
            },
        },
        marginY: {
            marginTop: function (_a) {
                var marginY = _a.marginY;
                return stringOrThemeSpacing(marginY);
            },
            marginBottom: function (_a) {
                var marginY = _a.marginY;
                return stringOrThemeSpacing(marginY);
            },
        },
        padding: { padding: function (_a) {
                var padding = _a.padding;
                return stringOrThemeSpacing(padding);
            } },
        paddingLeft: {
            paddingLeft: function (_a) {
                var paddingLeft = _a.paddingLeft;
                return stringOrThemeSpacing(paddingLeft);
            },
        },
        paddingRight: {
            paddingRight: function (_a) {
                var paddingRight = _a.paddingRight;
                return stringOrThemeSpacing(paddingRight);
            },
        },
        paddingTop: {
            paddingTop: function (_a) {
                var paddingTop = _a.paddingTop;
                return stringOrThemeSpacing(paddingTop);
            },
        },
        paddingBottom: {
            paddingBottom: function (_a) {
                var paddingBottom = _a.paddingBottom;
                return stringOrThemeSpacing(paddingBottom);
            },
        },
        paddingX: {
            paddingLeft: function (_a) {
                var paddingX = _a.paddingX;
                return stringOrThemeSpacing(paddingX);
            },
            paddingRight: function (_a) {
                var paddingX = _a.paddingX;
                return stringOrThemeSpacing(paddingX);
            },
        },
        paddingY: {
            paddingTop: function (_a) {
                var paddingY = _a.paddingY;
                return stringOrThemeSpacing(paddingY);
            },
            paddingBottom: function (_a) {
                var paddingY = _a.paddingY;
                return stringOrThemeSpacing(paddingY);
            },
        },
        gap: {
            gap: function (_a) {
                var gap = _a.gap;
                return stringOrThemeSpacingGap(gap);
            },
        },
        borderRadius: { borderRadius: theme.shape.borderRadius },
        color: { color: function (_a) {
                var color = _a.color;
                return stringOrThemeColor(color);
            } },
        bgColor: {
            backgroundColor: function (_a) {
                var bgColor = _a.bgColor;
                return stringOrThemeColor(bgColor);
            },
        },
    };
}, { name: exports.BoxStylesKey });
exports.Box = React.forwardRef(function (props, ref) {
    var _a, _b, _c, _d, _e;
    var children = props.children, align = props.align, direction = props.direction, flexChildren = props.flexChildren, flexWrap = props.flexWrap, gap = props.gap, justify = props.justify, height = props.height, width = props.width, fullHeight = props.fullHeight, fullWidth = props.fullWidth, margin = props.margin, marginTop = props.marginTop, marginBottom = props.marginBottom, marginLeft = props.marginLeft, marginRight = props.marginRight, marginY = props.marginY, marginX = props.marginX, padding = props.padding, paddingTop = props.paddingTop, paddingBottom = props.paddingBottom, paddingLeft = props.paddingLeft, paddingRight = props.paddingRight, paddingY = props.paddingY, paddingX = props.paddingX, borderRadius = props.borderRadius, color = props.color, bgColor = props.bgColor, className = props.className, rootProps = __rest(props, ["children", "align", "direction", "flexChildren", "flexWrap", "gap", "justify", "height", "width", "fullHeight", "fullWidth", "margin", "marginTop", "marginBottom", "marginLeft", "marginRight", "marginY", "marginX", "padding", "paddingTop", "paddingBottom", "paddingLeft", "paddingRight", "paddingY", "paddingX", "borderRadius", "color", "bgColor", "className"]);
    var classes = (0, exports.useStyles)(props);
    return (React.createElement("div", __assign({ ref: ref, className: (0, clsx_1.default)(classes.root, (_a = {},
            _a[classes.flexChildren] = flexChildren,
            _a), (_b = {},
            _b[classes.flexWrap] = flexWrap,
            _b), (_c = {},
            _c[classes.directionRow] = direction === 'row',
            _c[classes.directionColumn] = direction === 'column',
            _c), (_d = {},
            _d[classes.alignBaseline] = align === 'baseline',
            _d[classes.alignCenter] = align === 'center',
            _d[classes.alignStart] = align === 'start',
            _d[classes.alignFlexStart] = align === 'flex-start',
            _d[classes.alignEnd] = align === 'end',
            _d[classes.alignFlexEnd] = align === 'flex-end',
            _d), (_e = {},
            _e[classes.justifyBetween] = justify === 'space-between',
            _e[classes.justifyEnd] = justify === 'flex-end',
            _e[classes.justifyEvenly] = justify === 'space-evenly',
            _e[classes.justifyStart] = justify === 'flex-start',
            _e[classes.justifyCenter] = justify === 'center',
            _e), height && classes.height, width && classes.width, fullWidth && classes.fullWidth, fullHeight && classes.fullHeight, gap && classes.gap, margin && classes.margin, marginTop && classes.marginTop, marginBottom && classes.marginBottom, marginLeft && classes.marginLeft, marginRight && classes.marginRight, marginX && classes.marginX, marginY && classes.marginY, padding && classes.padding, paddingTop && classes.paddingTop, paddingBottom && classes.paddingBottom, paddingLeft && classes.paddingLeft, paddingRight && classes.paddingRight, paddingX && classes.paddingX, paddingY && classes.paddingY, borderRadius && classes.borderRadius, color && classes.color, bgColor && classes.bgColor, className) }, rootProps), children));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQm94LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvQm94L0JveC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUMvQix1Q0FBMEM7QUFFMUMscUNBQXNDO0FBQ3RDLGdFQUEwQztBQUU3QixRQUFBLFlBQVksR0FBRyxXQUFXLENBQUM7QUFxRDNCLFFBQUEsU0FBUyxHQUFHLElBQUEsbUJBQVUsRUFDakMsVUFBQyxLQUFLO0lBQ0osSUFBTSxvQkFBb0IsR0FBRyxVQUFDLEtBQWtDO1FBQzlELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtZQUFFLE9BQU8sS0FBSyxDQUFDO1FBQzVDLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtZQUFFLE9BQU8sS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RCxDQUFDLENBQUM7SUFFRixJQUFNLHVCQUF1QixHQUFHLFVBQUMsS0FBa0M7UUFDakUsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDNUMsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksQ0FBQztJQUNwRSxDQUFDLENBQUM7SUFFRixJQUFNLGtCQUFrQixHQUFHLFVBQUMsS0FBYztRQUN4QyxJQUFJLENBQUMsS0FBSztZQUFFLE9BQU87UUFDbkIsSUFBTSxPQUFPLEdBQVEsS0FBSyxDQUFDLE9BQU8sQ0FBQztRQUVuQyxJQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLElBQUksVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDekIsSUFBSSxzQkFBWSxDQUFDLFFB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LFlBQVksSUFBSSxPQUFPLENBQUMsWUFBWSxFQUNwQyxVQUFVLElBQUksT0FBTyxDQUFDLFVBQVUsRUFDaEMsV0FBVyxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQ2xDLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxFQUMxQixPQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sRUFDMUIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQzFCLFVBQVUsSUFBSSxPQUFPLENBQUMsVUFBVSxFQUNoQyxhQUFhLElBQUksT0FBTyxDQUFDLGFBQWEsRUFDdEMsV0FBVyxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQ2xDLFlBQVksSUFBSSxPQUFPLENBQUMsWUFBWSxFQUNwQyxRQUFRLElBQUksT0FBTyxDQUFDLFFBQVEsRUFDNUIsUUFBUSxJQUFJLE9BQU8sQ0FBQyxRQUFRLEVBQzVCLFlBQVksSUFBSSxPQUFPLENBQUMsWUFBWSxFQUNwQyxLQUFLLElBQUksT0FBTyxDQUFDLEtBQUssRUFDdEIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLEVBQzFCLFNBQVMsQ0FDVixJQUNHLFNBQVMsR0FFWixRQUFRLENBQ0wsQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyB3YXJuaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMnO1xuaW1wb3J0IGNvbG9yT3B0aW9ucyBmcm9tICcuL2NvbG9yT3B0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCBCb3hTdHlsZXNLZXkgPSAnQ2hyb21hQm94JztcblxuZXhwb3J0IHR5cGUgQm94Q2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm94UHJvcHNcbiAgZXh0ZW5kcyBSZWFjdC5EZXRhaWxlZEhUTUxQcm9wczxcbiAgICBSZWFjdC5IVE1MQXR0cmlidXRlczxIVE1MRGl2RWxlbWVudD4sXG4gICAgSFRNTERpdkVsZW1lbnRcbiAgPiB7XG4gIHJlZj86IFJlYWN0LlJlZjxIVE1MRGl2RWxlbWVudD47XG4gIGNoaWxkcmVuPzogUmVhY3QuUmVhY3ROb2RlO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGZsZXhDaGlsZHJlbj86IGJvb2xlYW47XG4gIGZsZXhXcmFwPzogYm9vbGVhbjtcbiAgYWxpZ24/OlxuICAgIHwgJ3N0cmV0Y2gnXG4gICAgfCAnYmFzZWxpbmUnXG4gICAgfCAnY2VudGVyJ1xuICAgIHwgJ3N0YXJ0J1xuICAgIHwgJ2ZsZXgtc3RhcnQnXG4gICAgfCAnZW5kJ1xuICAgIHwgJ2ZsZXgtZW5kJztcbiAgZGlyZWN0aW9uPzogJ3JvdycgfCAnY29sdW1uJztcbiAganVzdGlmeT86XG4gICAgfCAnY2VudGVyJ1xuICAgIHwgJ2ZsZXgtc3RhcnQnXG4gICAgfCAnc3BhY2UtYmV0d2VlbidcbiAgICB8ICdzcGFjZS1ldmVubHknXG4gICAgfCAnZmxleC1lbmQnO1xuICBoZWlnaHQ/OiBudW1iZXIgfCBzdHJpbmc7XG4gIHdpZHRoPzogbnVtYmVyIHwgc3RyaW5nO1xuICBmdWxsSGVpZ2h0PzogYm9vbGVhbjtcbiAgZnVsbFdpZHRoPzogYm9vbGVhbjtcbiAgZ2FwPzogbnVtYmVyIHwgc3RyaW5nO1xuICBtYXJnaW4/OiBudW1iZXIgfCBzdHJpbmc7XG4gIG1hcmdpblRvcD86IG51bWJlciB8IHN0cmluZztcbiAgbWFyZ2luQm90dG9tPzogbnVtYmVyIHwgc3RyaW5nO1xuICBtYXJnaW5MZWZ0PzogbnVtYmVyIHwgc3RyaW5nO1xuICBtYXJnaW5SaWdodD86IG51bWJlciB8IHN0cmluZztcbiAgbWFyZ2luWD86IG51bWJlciB8IHN0cmluZztcbiAgbWFyZ2luWT86IG51bWJlciB8IHN0cmluZztcbiAgcGFkZGluZz86IG51bWJlciB8IHN0cmluZztcbiAgcGFkZGluZ1RvcD86IG51bWJlciB8IHN0cmluZztcbiAgcGFkZGluZ0JvdHRvbT86IG51bWJlciB8IHN0cmluZztcbiAgcGFkZGluZ0xlZnQ/OiBudW1iZXIgfCBzdHJpbmc7XG4gIHBhZGRpbmdSaWdodD86IG51bWJlciB8IHN0cmluZztcbiAgcGFkZGluZ1g/OiBudW1iZXIgfCBzdHJpbmc7XG4gIHBhZGRpbmdZPzogbnVtYmVyIHwgc3RyaW5nO1xuICBib3JkZXJSYWRpdXM/OiBib29sZWFuO1xuICBjb2xvcj86IHN0cmluZztcbiAgYmdDb2xvcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXM8Qm94UHJvcHM+KFxuICAodGhlbWUpID0+IHtcbiAgICBjb25zdCBzdHJpbmdPclRoZW1lU3BhY2luZyA9ICh2YWx1ZTogc3RyaW5nIHwgbnVtYmVyIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykgcmV0dXJuIHZhbHVlO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHJldHVybiB0aGVtZS5zcGFjaW5nKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RyaW5nT3JUaGVtZVNwYWNpbmdHYXAgPSAodmFsdWU6IHN0cmluZyB8IG51bWJlciB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSByZXR1cm4gdGhlbWUuc3BhY2luZyh2YWx1ZSkgKyAncHgnO1xuICAgIH07XG5cbiAgICBjb25zdCBzdHJpbmdPclRoZW1lQ29sb3IgPSAodmFsdWU/OiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICAgIGNvbnN0IHBhbGV0dGU6IGFueSA9IHRoZW1lLnBhbGV0dGU7XG5cbiAgICAgIGNvbnN0IHZhbHVlUGFydHMgPSB2YWx1ZS5zcGxpdCgnLicpO1xuICAgICAgaWYgKHZhbHVlUGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICBpZiAoY29sb3JPcHRpb25zLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwYWxldHRlW3ZhbHVlUGFydHNbMF1dW3ZhbHVlUGFydHNbMV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm5pbmcodHJ1ZSwgYEJveCBjb2xvciBwcm9wZXJ0eSAke3ZhbHVlfSBpcyBpbnZhbGlkYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgcm9vdDogeyBkaXNwbGF5OiAnZmxleCcgfSxcbiAgICAgIGFsaWduQmFzZWxpbmU6IHsgYWxpZ25JdGVtczogJ2Jhc2VsaW5lJyB9LFxuICAgICAgYWxpZ25DZW50ZXI6IHsgYWxpZ25JdGVtczogJ2NlbnRlcicgfSxcbiAgICAgIGFsaWduU3RhcnQ6IHsgYWxpZ25JdGVtczogJ3N0YXJ0JyB9LFxuICAgICAgZmxleENoaWxkcmVuOiB7XG4gICAgICAgICcmID4gKic6IHtcbiAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGZsZXhXcmFwOiB7IGZsZXhXcmFwOiAnd3JhcCcgfSxcbiAgICAgIGFsaWduRmxleFN0YXJ0OiB7IGFsaWduSXRlbXM6ICdmbGV4LXN0YXJ0JyB9LFxuICAgICAgYWxpZ25FbmQ6IHsgYWxpZ25JdGVtczogJ2VuZCcgfSxcbiAgICAgIGFsaWduRmxleEVuZDogeyBhbGlnbkl0ZW1zOiAnZmxleC1lbmQnIH0sXG4gICAgICBkaXJlY3Rpb25Sb3c6IHsgZmxleERpcmVjdGlvbjogJ3JvdycgfSxcbiAgICAgIGRpcmVjdGlvbkNvbHVtbjogeyBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9LFxuICAgICAganVzdGlmeVN0YXJ0OiB7IGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcgfSxcbiAgICAgIGp1c3RpZnlFbmQ6IHsganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcgfSxcbiAgICAgIGp1c3RpZnlFdmVubHk6IHsganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1ldmVubHknIH0sXG4gICAgICBqdXN0aWZ5QmV0d2VlbjogeyBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nIH0sXG4gICAgICBqdXN0aWZ5Q2VudGVyOiB7IGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyB9LFxuICAgICAgaGVpZ2h0OiB7IGhlaWdodDogKHsgaGVpZ2h0IH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKGhlaWdodCkgfSxcbiAgICAgIHdpZHRoOiB7IHdpZHRoOiAoeyB3aWR0aCB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyh3aWR0aCkgfSxcbiAgICAgIGZ1bGxXaWR0aDogeyB3aWR0aDogJzEwMCUnIH0sXG4gICAgICBmdWxsSGVpZ2h0OiB7IGhlaWdodDogJzEwMCUnIH0sXG4gICAgICBtYXJnaW46IHsgbWFyZ2luOiAoeyBtYXJnaW4gfSkgPT4gc3RyaW5nT3JUaGVtZVNwYWNpbmcobWFyZ2luKSB9LFxuICAgICAgbWFyZ2luTGVmdDoge1xuICAgICAgICBtYXJnaW5MZWZ0OiAoeyBtYXJnaW5MZWZ0IH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKG1hcmdpbkxlZnQpLFxuICAgICAgfSxcbiAgICAgIG1hcmdpblJpZ2h0OiB7XG4gICAgICAgIG1hcmdpblJpZ2h0OiAoeyBtYXJnaW5SaWdodCB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhtYXJnaW5SaWdodCksXG4gICAgICB9LFxuICAgICAgbWFyZ2luVG9wOiB7XG4gICAgICAgIG1hcmdpblRvcDogKHsgbWFyZ2luVG9wIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKG1hcmdpblRvcCksXG4gICAgICB9LFxuICAgICAgbWFyZ2luQm90dG9tOiB7XG4gICAgICAgIG1hcmdpbkJvdHRvbTogKHsgbWFyZ2luQm90dG9tIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKG1hcmdpbkJvdHRvbSksXG4gICAgICB9LFxuICAgICAgbWFyZ2luWDoge1xuICAgICAgICBtYXJnaW5MZWZ0OiAoeyBtYXJnaW5YIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKG1hcmdpblgpLFxuICAgICAgICBtYXJnaW5SaWdodDogKHsgbWFyZ2luWCB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhtYXJnaW5YKSxcbiAgICAgIH0sXG4gICAgICBtYXJnaW5ZOiB7XG4gICAgICAgIG1hcmdpblRvcDogKHsgbWFyZ2luWSB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhtYXJnaW5ZKSxcbiAgICAgICAgbWFyZ2luQm90dG9tOiAoeyBtYXJnaW5ZIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKG1hcmdpblkpLFxuICAgICAgfSxcbiAgICAgIHBhZGRpbmc6IHsgcGFkZGluZzogKHsgcGFkZGluZyB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhwYWRkaW5nKSB9LFxuICAgICAgcGFkZGluZ0xlZnQ6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICh7IHBhZGRpbmdMZWZ0IH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKHBhZGRpbmdMZWZ0KSxcbiAgICAgIH0sXG4gICAgICBwYWRkaW5nUmlnaHQ6IHtcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAoeyBwYWRkaW5nUmlnaHQgfSkgPT4gc3RyaW5nT3JUaGVtZVNwYWNpbmcocGFkZGluZ1JpZ2h0KSxcbiAgICAgIH0sXG4gICAgICBwYWRkaW5nVG9wOiB7XG4gICAgICAgIHBhZGRpbmdUb3A6ICh7IHBhZGRpbmdUb3AgfSkgPT4gc3RyaW5nT3JUaGVtZVNwYWNpbmcocGFkZGluZ1RvcCksXG4gICAgICB9LFxuICAgICAgcGFkZGluZ0JvdHRvbToge1xuICAgICAgICBwYWRkaW5nQm90dG9tOiAoeyBwYWRkaW5nQm90dG9tIH0pID0+XG4gICAgICAgICAgc3RyaW5nT3JUaGVtZVNwYWNpbmcocGFkZGluZ0JvdHRvbSksXG4gICAgICB9LFxuICAgICAgcGFkZGluZ1g6IHtcbiAgICAgICAgcGFkZGluZ0xlZnQ6ICh7IHBhZGRpbmdYIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nKHBhZGRpbmdYKSxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAoeyBwYWRkaW5nWCB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhwYWRkaW5nWCksXG4gICAgICB9LFxuICAgICAgcGFkZGluZ1k6IHtcbiAgICAgICAgcGFkZGluZ1RvcDogKHsgcGFkZGluZ1kgfSkgPT4gc3RyaW5nT3JUaGVtZVNwYWNpbmcocGFkZGluZ1kpLFxuICAgICAgICBwYWRkaW5nQm90dG9tOiAoeyBwYWRkaW5nWSB9KSA9PiBzdHJpbmdPclRoZW1lU3BhY2luZyhwYWRkaW5nWSksXG4gICAgICB9LFxuICAgICAgZ2FwOiB7XG4gICAgICAgIGdhcDogKHsgZ2FwIH0pID0+IHN0cmluZ09yVGhlbWVTcGFjaW5nR2FwKGdhcCksXG4gICAgICB9LFxuICAgICAgYm9yZGVyUmFkaXVzOiB7IGJvcmRlclJhZGl1czogdGhlbWUuc2hhcGUuYm9yZGVyUmFkaXVzIH0sXG4gICAgICBjb2xvcjogeyBjb2xvcjogKHsgY29sb3IgfSkgPT4gc3RyaW5nT3JUaGVtZUNvbG9yKGNvbG9yKSB9LFxuICAgICAgYmdDb2xvcjoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICh7IGJnQ29sb3IgfSkgPT4gc3RyaW5nT3JUaGVtZUNvbG9yKGJnQ29sb3IpLFxuICAgICAgfSxcbiAgICB9O1xuICB9LFxuICB7IG5hbWU6IEJveFN0eWxlc0tleSB9XG4pO1xuXG5leHBvcnQgY29uc3QgQm94ID0gUmVhY3QuZm9yd2FyZFJlZjxIVE1MRGl2RWxlbWVudCwgQm94UHJvcHM+KChwcm9wcywgcmVmKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBhbGlnbixcbiAgICBkaXJlY3Rpb24sXG4gICAgZmxleENoaWxkcmVuLFxuICAgIGZsZXhXcmFwLFxuICAgIGdhcCxcbiAgICBqdXN0aWZ5LFxuICAgIGhlaWdodCxcbiAgICB3aWR0aCxcbiAgICBmdWxsSGVpZ2h0LFxuICAgIGZ1bGxXaWR0aCxcbiAgICBtYXJnaW4sXG4gICAgbWFyZ2luVG9wLFxuICAgIG1hcmdpbkJvdHRvbSxcbiAgICBtYXJnaW5MZWZ0LFxuICAgIG1hcmdpblJpZ2h0LFxuICAgIG1hcmdpblksXG4gICAgbWFyZ2luWCxcbiAgICBwYWRkaW5nLFxuICAgIHBhZGRpbmdUb3AsXG4gICAgcGFkZGluZ0JvdHRvbSxcbiAgICBwYWRkaW5nTGVmdCxcbiAgICBwYWRkaW5nUmlnaHQsXG4gICAgcGFkZGluZ1ksXG4gICAgcGFkZGluZ1gsXG4gICAgYm9yZGVyUmFkaXVzLFxuICAgIGNvbG9yLFxuICAgIGJnQ29sb3IsXG4gICAgY2xhc3NOYW1lLFxuICAgIC4uLnJvb3RQcm9wc1xuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyhwcm9wcyk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e3JlZn1cbiAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgY2xhc3Nlcy5yb290LFxuICAgICAgICB7XG4gICAgICAgICAgW2NsYXNzZXMuZmxleENoaWxkcmVuXTogZmxleENoaWxkcmVuLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgW2NsYXNzZXMuZmxleFdyYXBdOiBmbGV4V3JhcCxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFtjbGFzc2VzLmRpcmVjdGlvblJvd106IGRpcmVjdGlvbiA9PT0gJ3JvdycsXG4gICAgICAgICAgW2NsYXNzZXMuZGlyZWN0aW9uQ29sdW1uXTogZGlyZWN0aW9uID09PSAnY29sdW1uJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFtjbGFzc2VzLmFsaWduQmFzZWxpbmVdOiBhbGlnbiA9PT0gJ2Jhc2VsaW5lJyxcbiAgICAgICAgICBbY2xhc3Nlcy5hbGlnbkNlbnRlcl06IGFsaWduID09PSAnY2VudGVyJyxcbiAgICAgICAgICBbY2xhc3Nlcy5hbGlnblN0YXJ0XTogYWxpZ24gPT09ICdzdGFydCcsXG4gICAgICAgICAgW2NsYXNzZXMuYWxpZ25GbGV4U3RhcnRdOiBhbGlnbiA9PT0gJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgIFtjbGFzc2VzLmFsaWduRW5kXTogYWxpZ24gPT09ICdlbmQnLFxuICAgICAgICAgIFtjbGFzc2VzLmFsaWduRmxleEVuZF06IGFsaWduID09PSAnZmxleC1lbmQnLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgW2NsYXNzZXMuanVzdGlmeUJldHdlZW5dOiBqdXN0aWZ5ID09PSAnc3BhY2UtYmV0d2VlbicsXG4gICAgICAgICAgW2NsYXNzZXMuanVzdGlmeUVuZF06IGp1c3RpZnkgPT09ICdmbGV4LWVuZCcsXG4gICAgICAgICAgW2NsYXNzZXMuanVzdGlmeUV2ZW5seV06IGp1c3RpZnkgPT09ICdzcGFjZS1ldmVubHknLFxuICAgICAgICAgIFtjbGFzc2VzLmp1c3RpZnlTdGFydF06IGp1c3RpZnkgPT09ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICBbY2xhc3Nlcy5qdXN0aWZ5Q2VudGVyXToganVzdGlmeSA9PT0gJ2NlbnRlcicsXG4gICAgICAgIH0sXG4gICAgICAgIGhlaWdodCAmJiBjbGFzc2VzLmhlaWdodCxcbiAgICAgICAgd2lkdGggJiYgY2xhc3Nlcy53aWR0aCxcbiAgICAgICAgZnVsbFdpZHRoICYmIGNsYXNzZXMuZnVsbFdpZHRoLFxuICAgICAgICBmdWxsSGVpZ2h0ICYmIGNsYXNzZXMuZnVsbEhlaWdodCxcbiAgICAgICAgZ2FwICYmIGNsYXNzZXMuZ2FwLFxuICAgICAgICBtYXJnaW4gJiYgY2xhc3Nlcy5tYXJnaW4sXG4gICAgICAgIG1hcmdpblRvcCAmJiBjbGFzc2VzLm1hcmdpblRvcCxcbiAgICAgICAgbWFyZ2luQm90dG9tICYmIGNsYXNzZXMubWFyZ2luQm90dG9tLFxuICAgICAgICBtYXJnaW5MZWZ0ICYmIGNsYXNzZXMubWFyZ2luTGVmdCxcbiAgICAgICAgbWFyZ2luUmlnaHQgJiYgY2xhc3Nlcy5tYXJnaW5SaWdodCxcbiAgICAgICAgbWFyZ2luWCAmJiBjbGFzc2VzLm1hcmdpblgsXG4gICAgICAgIG1hcmdpblkgJiYgY2xhc3Nlcy5tYXJnaW5ZLFxuICAgICAgICBwYWRkaW5nICYmIGNsYXNzZXMucGFkZGluZyxcbiAgICAgICAgcGFkZGluZ1RvcCAmJiBjbGFzc2VzLnBhZGRpbmdUb3AsXG4gICAgICAgIHBhZGRpbmdCb3R0b20gJiYgY2xhc3Nlcy5wYWRkaW5nQm90dG9tLFxuICAgICAgICBwYWRkaW5nTGVmdCAmJiBjbGFzc2VzLnBhZGRpbmdMZWZ0LFxuICAgICAgICBwYWRkaW5nUmlnaHQgJiYgY2xhc3Nlcy5wYWRkaW5nUmlnaHQsXG4gICAgICAgIHBhZGRpbmdYICYmIGNsYXNzZXMucGFkZGluZ1gsXG4gICAgICAgIHBhZGRpbmdZICYmIGNsYXNzZXMucGFkZGluZ1ksXG4gICAgICAgIGJvcmRlclJhZGl1cyAmJiBjbGFzc2VzLmJvcmRlclJhZGl1cyxcbiAgICAgICAgY29sb3IgJiYgY2xhc3Nlcy5jb2xvcixcbiAgICAgICAgYmdDb2xvciAmJiBjbGFzc2VzLmJnQ29sb3IsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKX1cbiAgICAgIHsuLi5yb290UHJvcHN9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xufSk7XG4iXX0=