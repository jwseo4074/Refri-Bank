"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ButtonLink = exports.useStyles = exports.ButtonLinkStylesKey = void 0;
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
var styles_1 = require("../../styles");
var LinkOrExternalLink_1 = require("../_private/LinkOrExternalLink");
require("focus-visible");
exports.ButtonLinkStylesKey = 'ChromaButtonLink';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {
        background: theme.palette.primary.main,
        border: "".concat(theme.pxToRem(1), " solid transparent"),
        borderRadius: theme.pxToRem(4),
        color: theme.palette.common.white,
        cursor: 'pointer',
        display: 'inline-block',
        whiteSpace: 'nowrap',
        fontFamily: theme.typography.fontFamily,
        fontSize: theme.typography.button.fontSize,
        fontWeight: theme.typography.fontWeightBold,
        letterSpacing: theme.pxToRem(0.5),
        lineHeight: theme.pxToRem(19),
        margin: 0,
        maxHeight: theme.pxToRem(35),
        minWidth: theme.pxToRem(64),
        outline: 'none',
        overflow: 'hidden',
        paddingBottom: theme.pxToRem(7),
        paddingLeft: theme.pxToRem(11),
        paddingRight: theme.pxToRem(11),
        paddingTop: theme.pxToRem(7),
        position: 'relative',
        textAlign: 'center',
        textDecoration: 'none',
        textOverflow: 'ellipsis',
        transition: 'background-color 0.25s ease, color 0.25s ease, opacity 0.25s ease',
        userSelect: 'none',
        verticalAlign: 'middle',
        '&:hover, &:focus': {
            textDecoration: 'none',
            color: theme.palette.common.white,
            backgroundColor: theme.palette.primary[900],
            outline: 'none',
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisible,
        },
    },
    containedInverse: {
        backgroundColor: theme.palette.common.white,
        color: theme.palette.primary.main,
        '&:hover': {
            backgroundColor: theme.palette.common.white,
            color: theme.palette.primary.main,
            opacity: 0.85,
        },
        '&:focus': {
            backgroundColor: theme.palette.common.white,
            color: theme.palette.primary.main,
            opacity: 0.75,
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    outlined: {
        backgroundColor: 'transparent',
        borderColor: theme.palette.primary.main,
        color: theme.palette.primary.main,
        transition: 'border 0.25s ease, color 0.25s ease',
        '&:hover, &:focus': {
            backgroundColor: 'transparent',
            borderColor: theme.palette.primary[900],
            color: theme.palette.primary[900],
        },
    },
    outlinedInverse: {
        borderColor: theme.palette.common.white,
        color: theme.palette.common.white,
        '&:hover': {
            color: theme.palette.common.white,
            opacity: 0.85,
            borderColor: 'rgba(255, 255, 255, 0.85)',
        },
        '&:focus': {
            color: theme.palette.common.white,
            opacity: 0.75,
            borderColor: 'rgba(255, 255, 255, 0.75)',
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    text: {
        backgroundColor: 'transparent',
        color: theme.palette.primary.main,
        transition: 'color 0.25s ease',
        '&:hover, &:focus': {
            backgroundColor: 'transparent',
            color: theme.palette.primary[900],
        },
    },
    textInverse: {
        color: theme.palette.common.white,
        '&:hover': {
            color: theme.palette.common.white,
            opacity: 0.85,
        },
        '&:focus': {
            color: theme.palette.common.white,
            opacity: 0.75,
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    containedNegative: {
        backgroundColor: theme.palette.negative.main,
        color: theme.palette.common.white,
        '&:hover': {
            backgroundColor: theme.palette.negative.dark,
        },
        '&:disabled, &[disabled]': {
            backgroundColor: theme.palette.negative.main,
            color: theme.palette.common.white,
        },
    },
    containedPositive: {
        backgroundColor: theme.palette.positive.main,
        color: theme.palette.common.white,
        '&:hover': {
            backgroundColor: theme.palette.positive.dark,
        },
        '&:disabled, &[disabled]': {
            backgroundColor: theme.palette.positive.main,
            color: theme.palette.common.white,
        },
    },
    outlinedNegative: {
        borderColor: theme.palette.negative.main,
        color: theme.palette.negative.main,
        '&:hover': {
            borderColor: theme.palette.negative.dark,
            color: theme.palette.negative.dark,
        },
        '&:disabled, &[disabled]': {
            borderColor: theme.palette.negative.main,
            color: theme.palette.negative.main,
        },
    },
    outlinedPositive: {
        borderColor: theme.palette.positive.main,
        color: theme.palette.positive.main,
        '&:hover': {
            borderColor: theme.palette.positive.dark,
            color: theme.palette.positive.dark,
        },
        '&:disabled, &[disabled]': {
            borderColor: theme.palette.positive.main,
            color: theme.palette.positive.main,
        },
    },
    textNegative: {
        color: theme.palette.negative.main,
        '&:hover': {
            color: theme.palette.negative.dark,
        },
        '&:disabled': {
            color: theme.palette.negative.main,
        },
    },
    textPositive: {
        color: theme.palette.positive.main,
        '&:hover': {
            color: theme.palette.positive.dark,
        },
        '&:disabled': {
            color: theme.palette.positive.main,
        },
    },
    fullWidth: {
        width: '100%',
    },
    icon: {
        height: theme.spacing(2),
        marginRight: theme.spacing(1),
        position: 'relative',
        top: theme.pxToRem(-1),
        verticalAlign: 'middle',
        width: theme.spacing(2),
    },
    trailingIcon: {
        marginRight: 0,
        marginLeft: theme.spacing(1),
    },
    disabled: {
        opacity: 0.44,
        pointerEvents: 'none',
    },
    disabledContained: {
        opacity: 0.44,
        pointerEvents: 'none',
    },
    disabledInverse: {
        opacity: 0.44,
        pointerEvents: 'none',
    },
    disabledContainedInverse: {
        color: theme.palette.text.secondary,
        opacity: 0.44,
        pointerEvents: 'none',
    },
}); }, { name: exports.ButtonLinkStylesKey });
exports.ButtonLink = React.forwardRef(function (_a, ref) {
    var _b, _c, _d, _e;
    var className = _a.className, children = _a.children, color = _a.color, disabled = _a.disabled, fullWidth = _a.fullWidth, Icon = _a.icon, rel = _a.rel, target = _a.target, to = _a.to, TrailingIcon = _a.trailingIcon, variant = _a.variant, rootProps = __rest(_a, ["className", "children", "color", "disabled", "fullWidth", "icon", "rel", "target", "to", "trailingIcon", "variant"]);
    var classes = (0, exports.useStyles)({});
    variant = variant || 'contained';
    return (React.createElement(LinkOrExternalLink_1.LinkOrExternalLink, __assign({ disabled: disabled, innerRef: ref, target: target, rel: rel, className: (0, clsx_1.default)(classes.root, (_b = {},
            _b[classes.outlined] = variant === 'outlined',
            _b[classes.text] = variant === 'text',
            _b), (_c = {},
            _c[classes.containedInverse] = variant === 'contained' && color === 'inverse',
            _c[classes.outlinedInverse] = variant === 'outlined' && color === 'inverse',
            _c[classes.textInverse] = variant === 'text' && color === 'inverse',
            _c[classes.containedNegative] = variant === 'contained' && color === 'negative',
            _c[classes.outlinedNegative] = variant === 'outlined' && color === 'negative',
            _c[classes.textNegative] = variant === 'text' && color === 'negative',
            _c[classes.containedPositive] = variant === 'contained' && color === 'positive',
            _c[classes.outlinedPositive] = variant === 'outlined' && color === 'positive',
            _c[classes.textPositive] = variant === 'text' && color === 'positive',
            _c), fullWidth && classes.fullWidth, disabled &&
            color !== 'inverse' && (_d = {},
            _d[classes.disabled] = variant === 'text' || variant === 'outlined',
            _d[classes.disabledContained] = variant === 'contained',
            _d), disabled &&
            color === 'inverse' && (_e = {},
            _e[classes.disabledInverse] = variant === 'text' || variant === 'outlined',
            _e[classes.disabledContainedInverse] = variant === 'contained',
            _e), className), to: to }, rootProps),
        !!Icon && React.createElement(Icon, { role: "img", "aria-hidden": true, className: classes.icon }),
        children,
        !!TrailingIcon && (React.createElement(TrailingIcon, { role: "img", "aria-hidden": true, className: (0, clsx_1.default)(classes.icon, classes.trailingIcon) }))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnV0dG9uTGluay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0J1dHRvbkxpbmsvQnV0dG9uTGluay50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUUvQix1Q0FBMEM7QUFFMUMscUVBQW9FO0FBRXBFLHlCQUF1QjtBQUVWLFFBQUEsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7QUFFekMsUUFBQSxTQUFTLEdBQUcsSUFBQSxtQkFBVSxFQUNqQyxVQUFDLEtBQUssSUFBSyxPQUFBLENBQUM7SUFDVixJQUFJLEVBQUU7UUFDSixVQUFVLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSTtRQUN0QyxNQUFNLEVBQUUsVUFBRyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyx1QkFBb0I7UUFDL0MsWUFBWSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzlCLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ2pDLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE9BQU8sRUFBRSxjQUFjO1FBQ3ZCLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVU7UUFDdkMsUUFBUSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFFBQVE7UUFDMUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsY0FBYztRQUMzQyxhQUFhLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7UUFDakMsVUFBVSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQzdCLE1BQU0sRUFBRSxDQUFDO1FBQ1QsU0FBUyxFQUFFLEtBQUss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QU0sSUFBSSxPQUFPLEtBQUssVUFBVTtZQUNoRSxHQUFDLE9BQU8sQ0FBQyxpQkFBaUIsSUFBRyxPQUFPLEtBQUssV0FBVztlQUNyRCxFQUNILFFBQVE7WUFDTixLQUFLLEtBQUssU0FBUztZQUNqQixHQUFDLE9BQU8sQ0FBQyxlQUFlLElBQ3RCLE9BQU8sS0FBSyxNQUFNLElBQUksT0FBTyxLQUFLLFVBQVU7WUFDOUMsR0FBQyxPQUFPLENBQUMsd0JBQXdCLElBQUcsT0FBTyxLQUFLLFdBQVc7ZUFDNUQsRUFDSCxTQUFTLENBQ1YsRUFDRCxFQUFFLEVBQUUsRUFBRSxJQUNGLFNBQVM7UUFFWixDQUFDLENBQUMsSUFBSSxJQUFJLG9CQUFDLElBQUksSUFBQyxJQUFJLEVBQUMsS0FBSyx1QkFBYSxTQUFTLEVBQUUsT0FBTyxDQUFDLElBQUksR0FBSTtRQUNsRSxRQUFRO1FBQ1IsQ0FBQyxDQUFDLFlBQVksSUFBSSxDQUNqQixvQkFBQyxZQUFZLElBQ1gsSUFBSSxFQUFDLEtBQUssdUJBRVYsU0FBUyxFQUFFLElBQUEsY0FBSSxFQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUNuRCxDQUNILENBQ2tCLENBQ3RCLENBQUM7QUFDSixDQUFDLENBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGlua1Byb3BzIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgTGlua09yRXh0ZXJuYWxMaW5rIH0gZnJvbSAnLi4vX3ByaXZhdGUvTGlua09yRXh0ZXJuYWxMaW5rJztcbmltcG9ydCB7IEJ1dHRvblByb3BzIH0gZnJvbSAnLi4vQnV0dG9uJztcbmltcG9ydCAnZm9jdXMtdmlzaWJsZSc7XG5cbmV4cG9ydCBjb25zdCBCdXR0b25MaW5rU3R5bGVzS2V5ID0gJ0Nocm9tYUJ1dHRvbkxpbmsnO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgYm9yZGVyOiBgJHt0aGVtZS5weFRvUmVtKDEpfSBzb2xpZCB0cmFuc3BhcmVudGAsXG4gICAgICBib3JkZXJSYWRpdXM6IHRoZW1lLnB4VG9SZW0oNCksXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5idXR0b24uZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRCb2xkLFxuICAgICAgbGV0dGVyU3BhY2luZzogdGhlbWUucHhUb1JlbSgwLjUpLFxuICAgICAgbGluZUhlaWdodDogdGhlbWUucHhUb1JlbSgxOSksXG4gICAgICBtYXJnaW46IDAsXG4gICAgICBtYXhIZWlnaHQ6IHRoZW1lLnB4VG9SZW0oMzUpLFxuICAgICAgbWluV2lkdGg6IHRoZW1lLnB4VG9SZW0oNjQpLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUucHhUb1JlbSg3KSxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5weFRvUmVtKDExKSxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUucHhUb1JlbSgxMSksXG4gICAgICBwYWRkaW5nVG9wOiB0aGVtZS5weFRvUmVtKDcpLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHRyYW5zaXRpb246XG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yIDAuMjVzIGVhc2UsIGNvbG9yIDAuMjVzIGVhc2UsIG9wYWNpdHkgMC4yNXMgZWFzZScsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MuZm9jdXNWaXNpYmxlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbnRhaW5lZEludmVyc2U6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBvcGFjaXR5OiAwLjg1LFxuICAgICAgfSxcbiAgICAgICcmOmZvY3VzJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIG9wYWNpdHk6IDAuNzUsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMuZm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5ib3hTaGFkb3dzLmZvY3VzVmlzaWJsZUludmVyc2UsXG4gICAgICB9LFxuICAgIH0sXG4gICAgb3V0bGluZWQ6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIHRyYW5zaXRpb246ICdib3JkZXIgMC4yNXMgZWFzZSwgY29sb3IgMC4yNXMgZWFzZScsXG4gICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBib3JkZXJDb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnlbOTAwXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBvdXRsaW5lZEludmVyc2U6IHtcbiAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIG9wYWNpdHk6IDAuODUsXG4gICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KScsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgb3BhY2l0eTogMC43NSxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MuZm9jdXNWaXNpYmxlSW52ZXJzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICB0cmFuc2l0aW9uOiAnY29sb3IgMC4yNXMgZWFzZScsXG4gICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdGV4dEludmVyc2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIG9wYWNpdHk6IDAuODUsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgb3BhY2l0eTogMC43NSxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MuZm9jdXNWaXNpYmxlSW52ZXJzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjb250YWluZWROZWdhdGl2ZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLm1haW4sXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLmRhcmssXG4gICAgICB9LFxuICAgICAgJyY6ZGlzYWJsZWQsICZbZGlzYWJsZWRdJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUubmVnYXRpdmUubWFpbixcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbnRhaW5lZFBvc2l0aXZlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucG9zaXRpdmUubWFpbixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucG9zaXRpdmUuZGFyayxcbiAgICAgIH0sXG4gICAgICAnJjpkaXNhYmxlZCwgJltkaXNhYmxlZF0nOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5wb3NpdGl2ZS5tYWluLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICB9LFxuICAgIH0sXG4gICAgb3V0bGluZWROZWdhdGl2ZToge1xuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLnBhbGV0dGUubmVnYXRpdmUubWFpbixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLm1haW4sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLnBhbGV0dGUubmVnYXRpdmUuZGFyayxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUubmVnYXRpdmUuZGFyayxcbiAgICAgIH0sXG4gICAgICAnJjpkaXNhYmxlZCwgJltkaXNhYmxlZF0nOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLm1haW4sXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLm1haW4sXG4gICAgICB9LFxuICAgIH0sXG4gICAgb3V0bGluZWRQb3NpdGl2ZToge1xuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLnBhbGV0dGUucG9zaXRpdmUubWFpbixcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnBvc2l0aXZlLm1haW4sXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLnBhbGV0dGUucG9zaXRpdmUuZGFyayxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucG9zaXRpdmUuZGFyayxcbiAgICAgIH0sXG4gICAgICAnJjpkaXNhYmxlZCwgJltkaXNhYmxlZF0nOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLnBvc2l0aXZlLm1haW4sXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnBvc2l0aXZlLm1haW4sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdGV4dE5lZ2F0aXZlOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5uZWdhdGl2ZS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLmRhcmssXG4gICAgICB9LFxuICAgICAgJyY6ZGlzYWJsZWQnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLm5lZ2F0aXZlLm1haW4sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdGV4dFBvc2l0aXZlOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wb3NpdGl2ZS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnBvc2l0aXZlLmRhcmssXG4gICAgICB9LFxuICAgICAgJyY6ZGlzYWJsZWQnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnBvc2l0aXZlLm1haW4sXG4gICAgICB9LFxuICAgIH0sXG4gICAgZnVsbFdpZHRoOiB7XG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgaGVpZ2h0OiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRvcDogdGhlbWUucHhUb1JlbSgtMSksXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgIHdpZHRoOiB0aGVtZS5zcGFjaW5nKDIpLFxuICAgIH0sXG4gICAgdHJhaWxpbmdJY29uOiB7XG4gICAgICBtYXJnaW5SaWdodDogMCxcbiAgICAgIG1hcmdpbkxlZnQ6IHRoZW1lLnNwYWNpbmcoMSksXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgb3BhY2l0eTogMC40NCxcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICB9LFxuICAgIGRpc2FibGVkQ29udGFpbmVkOiB7XG4gICAgICBvcGFjaXR5OiAwLjQ0LFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIH0sXG4gICAgZGlzYWJsZWRJbnZlcnNlOiB7XG4gICAgICBvcGFjaXR5OiAwLjQ0LFxuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgIH0sXG4gICAgZGlzYWJsZWRDb250YWluZWRJbnZlcnNlOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeSxcbiAgICAgIG9wYWNpdHk6IDAuNDQsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgfSxcbiAgfSksXG4gIHsgbmFtZTogQnV0dG9uTGlua1N0eWxlc0tleSB9XG4pO1xuXG5leHBvcnQgdHlwZSBCdXR0b25MaW5rQ2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQnV0dG9uTGlua1Byb3BzIGV4dGVuZHMgTGlua1Byb3BzIHtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGNvbG9yPzogQnV0dG9uUHJvcHNbJ2NvbG9yJ107XG4gIGRpc2FibGVkPzogQnV0dG9uUHJvcHNbJ2Rpc2FibGVkJ107XG4gIGZ1bGxXaWR0aD86IEJ1dHRvblByb3BzWydmdWxsV2lkdGgnXTtcbiAgaWNvbj86IEJ1dHRvblByb3BzWydpY29uJ107XG4gIHRyYWlsaW5nSWNvbj86IFJlYWN0LkNvbXBvbmVudFR5cGU8UmVhY3QuU1ZHUHJvcHM8U1ZHU1ZHRWxlbWVudD4+O1xuICB2YXJpYW50PzogQnV0dG9uUHJvcHNbJ3ZhcmlhbnQnXTtcbn1cblxuZXhwb3J0IGNvbnN0IEJ1dHRvbkxpbmsgPSBSZWFjdC5mb3J3YXJkUmVmPEhUTUxBbmNob3JFbGVtZW50LCBCdXR0b25MaW5rUHJvcHM+KFxuICAoXG4gICAge1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBjb2xvcixcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZnVsbFdpZHRoLFxuICAgICAgaWNvbjogSWNvbixcbiAgICAgIHJlbCxcbiAgICAgIHRhcmdldCxcbiAgICAgIHRvLFxuICAgICAgdHJhaWxpbmdJY29uOiBUcmFpbGluZ0ljb24sXG4gICAgICB2YXJpYW50LFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG5cbiAgICB2YXJpYW50ID0gdmFyaWFudCB8fCAnY29udGFpbmVkJztcblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua09yRXh0ZXJuYWxMaW5rXG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgaW5uZXJSZWY9e3JlZn1cbiAgICAgICAgdGFyZ2V0PXt0YXJnZXR9XG4gICAgICAgIHJlbD17cmVsfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5yb290LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFtjbGFzc2VzLm91dGxpbmVkXTogdmFyaWFudCA9PT0gJ291dGxpbmVkJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLnRleHRdOiB2YXJpYW50ID09PSAndGV4dCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBbY2xhc3Nlcy5jb250YWluZWRJbnZlcnNlXTpcbiAgICAgICAgICAgICAgdmFyaWFudCA9PT0gJ2NvbnRhaW5lZCcgJiYgY29sb3IgPT09ICdpbnZlcnNlJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLm91dGxpbmVkSW52ZXJzZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdvdXRsaW5lZCcgJiYgY29sb3IgPT09ICdpbnZlcnNlJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLnRleHRJbnZlcnNlXTogdmFyaWFudCA9PT0gJ3RleHQnICYmIGNvbG9yID09PSAnaW52ZXJzZScsXG4gICAgICAgICAgICBbY2xhc3Nlcy5jb250YWluZWROZWdhdGl2ZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdjb250YWluZWQnICYmIGNvbG9yID09PSAnbmVnYXRpdmUnLFxuICAgICAgICAgICAgW2NsYXNzZXMub3V0bGluZWROZWdhdGl2ZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdvdXRsaW5lZCcgJiYgY29sb3IgPT09ICduZWdhdGl2ZScsXG4gICAgICAgICAgICBbY2xhc3Nlcy50ZXh0TmVnYXRpdmVdOiB2YXJpYW50ID09PSAndGV4dCcgJiYgY29sb3IgPT09ICduZWdhdGl2ZScsXG4gICAgICAgICAgICBbY2xhc3Nlcy5jb250YWluZWRQb3NpdGl2ZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdjb250YWluZWQnICYmIGNvbG9yID09PSAncG9zaXRpdmUnLFxuICAgICAgICAgICAgW2NsYXNzZXMub3V0bGluZWRQb3NpdGl2ZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdvdXRsaW5lZCcgJiYgY29sb3IgPT09ICdwb3NpdGl2ZScsXG4gICAgICAgICAgICBbY2xhc3Nlcy50ZXh0UG9zaXRpdmVdOiB2YXJpYW50ID09PSAndGV4dCcgJiYgY29sb3IgPT09ICdwb3NpdGl2ZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdWxsV2lkdGggJiYgY2xhc3Nlcy5mdWxsV2lkdGgsXG4gICAgICAgICAgZGlzYWJsZWQgJiZcbiAgICAgICAgICAgIGNvbG9yICE9PSAnaW52ZXJzZScgJiYge1xuICAgICAgICAgICAgICBbY2xhc3Nlcy5kaXNhYmxlZF06IHZhcmlhbnQgPT09ICd0ZXh0JyB8fCB2YXJpYW50ID09PSAnb3V0bGluZWQnLFxuICAgICAgICAgICAgICBbY2xhc3Nlcy5kaXNhYmxlZENvbnRhaW5lZF06IHZhcmlhbnQgPT09ICdjb250YWluZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBkaXNhYmxlZCAmJlxuICAgICAgICAgICAgY29sb3IgPT09ICdpbnZlcnNlJyAmJiB7XG4gICAgICAgICAgICAgIFtjbGFzc2VzLmRpc2FibGVkSW52ZXJzZV06XG4gICAgICAgICAgICAgICAgdmFyaWFudCA9PT0gJ3RleHQnIHx8IHZhcmlhbnQgPT09ICdvdXRsaW5lZCcsXG4gICAgICAgICAgICAgIFtjbGFzc2VzLmRpc2FibGVkQ29udGFpbmVkSW52ZXJzZV06IHZhcmlhbnQgPT09ICdjb250YWluZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgdG89e3RvfVxuICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgPlxuICAgICAgICB7ISFJY29uICYmIDxJY29uIHJvbGU9XCJpbWdcIiBhcmlhLWhpZGRlbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgeyEhVHJhaWxpbmdJY29uICYmIChcbiAgICAgICAgICA8VHJhaWxpbmdJY29uXG4gICAgICAgICAgICByb2xlPVwiaW1nXCJcbiAgICAgICAgICAgIGFyaWEtaGlkZGVuXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5pY29uLCBjbGFzc2VzLnRyYWlsaW5nSWNvbil9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvTGlua09yRXh0ZXJuYWxMaW5rPlxuICAgICk7XG4gIH1cbik7XG4iXX0=