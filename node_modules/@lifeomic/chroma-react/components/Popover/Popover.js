"use strict";
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Popover = exports.useStyles = exports.PopoverStylesKey = void 0;
var ConditionalWrapper_1 = require("../_private/ConditionalWrapper");
var styles_1 = require("../../styles");
var framer_motion_1 = require("framer-motion");
var Portal_1 = require("reakit/Portal");
var Text_1 = require("../Text");
var Popover_1 = require("reakit/Popover");
var clsx_1 = __importDefault(require("clsx"));
var React = __importStar(require("react"));
exports.PopoverStylesKey = 'ChromaPopover';
exports.useStyles = (0, styles_1.makeStyles)(function (theme) { return ({
    root: {
        background: theme.palette.common.white,
        color: theme.palette.text.primary,
        borderRadius: theme.pxToRem(10),
        boxShadow: theme.boxShadows.popover,
        minWidth: theme.pxToRem(224),
        overflow: 'hidden',
        zIndex: 40,
        '&:focus': {
            outline: 'none',
        },
    },
    title: {
        paddingTop: theme.spacing(2),
        paddingLeft: theme.spacing(2.5),
        paddingRight: theme.spacing(2.5),
    },
}); }, { name: exports.PopoverStylesKey });
var Popover = function (_a) {
    var ariaLabel = _a["aria-label"], anchorElement = _a.anchorElement, children = _a.children, className = _a.className, gutter = _a.gutter, _b = _a.placement, placement = _b === void 0 ? 'bottom' : _b, title = _a.title, _c = _a.usePortal, usePortal = _c === void 0 ? false : _c, unstable_offset = _a.unstable_offset, rootProps = __rest(_a, ['aria-label', "anchorElement", "children", "className", "gutter", "placement", "title", "usePortal", "unstable_offset"]);
    var classes = (0, exports.useStyles)({});
    var shouldReduceMotion = (0, framer_motion_1.useReducedMotion)();
    var popover = (0, Popover_1.usePopoverState)({ placement: placement, gutter: gutter, unstable_offset: unstable_offset });
    return (React.createElement(React.Fragment, null,
        React.createElement(Popover_1.PopoverDisclosure, __assign({}, popover, anchorElement.props), function (disclosureProps) {
            return React.cloneElement(React.Children.only(anchorElement), disclosureProps);
        }),
        React.createElement(ConditionalWrapper_1.ConditionalWrapper, { condition: usePortal, wrapper: function (children) { return React.createElement(Portal_1.Portal, null, children); } },
            React.createElement(Popover_1.Popover, __assign({}, popover, { "aria-label": ariaLabel, as: framer_motion_1.motion.div, className: (0, clsx_1.default)(classes.root, className), "aria-hidden": popover.visible ? undefined : 'true', animate: popover.visible
                    ? shouldReduceMotion
                        ? { opacity: 1 }
                        : {
                            opacity: 1,
                            transition: { duration: 0.3 },
                        }
                    : shouldReduceMotion
                        ? { opacity: 0 }
                        : {
                            opacity: 0,
                            transition: { duration: 0.1 },
                        } }, rootProps),
                !!title && (React.createElement(Text_1.Text, { className: classes.title, weight: "bold", size: "subbody" }, title)),
                typeof children === 'function'
                    ? children({ popover: popover })
                    : children))));
};
exports.Popover = Popover;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9wb3Zlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1BvcG92ZXIvUG9wb3Zlci50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUVBQW9FO0FBRXBFLHVDQUEwQztBQUMxQywrQ0FBeUQ7QUFDekQsd0NBQXVDO0FBQ3ZDLGdDQUErQjtBQUMvQiwwQ0FNd0I7QUFDeEIsOENBQXdCO0FBQ3hCLDJDQUErQjtBQUVsQixRQUFBLGdCQUFnQixHQUFHLGVBQWUsQ0FBQztBQUVuQyxRQUFBLFNBQVMsR0FBRyxJQUFBLG1CQUFVLEVBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLFVBQVUsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ3RDLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPO1FBQ2pDLFlBQVksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUMvQixTQUFTLEVBQUUsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPO1FBQ25DLFFBQVEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUM1QixRQUFRLEVBQUUsUUFBUTtRQUNsQixNQUFNLEVBQUUsRUFBRTtRQUNWLFNBQVMsRUFBRTtZQUNULE9BQU8sRUFBRSxNQUFNO1NBQ2hCO0tBQ0Y7SUFDRCxLQUFLLEVBQUU7UUFDTCxVQUFVLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFDNUIsV0FBVyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQy9CLFlBQVksRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztLQUNqQztDQUNGLENBQUMsRUFsQlMsQ0FrQlQsRUFDRixFQUFFLElBQUksRUFBRSx3QkFBZ0IsRUFBRSxDQUMzQixDQUFDO0FBcUJLLElBQU0sT0FBTyxHQUEyQixVQUFDLEVBVy9DO0lBVkMsSUFBYyxTQUFTLG1CQUFBLEVBQ3ZCLGFBQWEsbUJBQUEsRUFDYixRQUFRLGNBQUEsRUFDUixTQUFTLGVBQUEsRUFDVCxNQUFNLFlBQUEsRUFDTixpQkFBb0IsRUFBcEIsU0FBUyxtQkFBRyxRQUFRLEtBQUEsRUFDcEIsS0FBSyxXQUFBLEVBQ0wsaUJBQWlCLEVBQWpCLFNBQVMsbUJBQUcsS0FBSyxLQUFBLEVBQ2pCLGVBQWUscUJBQUEsRUFDWixTQUFTLGNBVmtDLHdIQVcvQyxDQURhO0lBRVosSUFBTSxPQUFPLEdBQUcsSUFBQSxpQkFBUyxFQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRTlCLElBQU0sa0JBQWtCLEdBQUcsSUFBQSxnQ0FBZ0IsR0FBRSxDQUFDO0lBRTlDLElBQU0sT0FBTyxHQUFHLElBQUEseUJBQWUsRUFBQyxFQUFFLFNBQVMsV0FBQSxFQUFFLE1BQU0sUUFBQSxFQUFFLGVBQWUsaUJBQUEsRUFBRSxDQUFDLENBQUM7SUFFeEUsT0FBTyxDQUNMO1FBQ0Usb0JBQUMsMkJBQWlCLGVBQUssT0FBTyxFQUFNLGFBQWEsQ0FBQyxLQUFLLEdBQ3BELFVBQUMsZUFBZTtZQUNmLE9BQUEsS0FBSyxDQUFDLFlBQVksQ0FDaEIsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEVBQ2xDLGVBQWUsQ0FDaEI7UUFIRCxDQUdDLENBRWU7UUFDcEIsb0JBQUMsdUNBQWtCLElBQ2pCLFNBQVMsRUFBRSxTQUFTLEVBQ3BCLE9BQU8sRUFBRSxVQUFDLFFBQXlCLElBQUssT0FBQSxvQkFBQyxlQUFNLFFBQUUsUUFBUSxDQUFVLEVBQTNCLENBQTJCO1lBRW5FLG9CQUFDLGlCQUFhLGVBQ1IsT0FBTyxrQkFDQyxTQUFTLEVBQ3JCLEVBQUUsRUFBRSxzQkFBTSxDQUFDLEdBQUcsRUFDZCxTQUFTLEVBQUUsSUFBQSxjQUFJLEVBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsaUJBQzNCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUNqRCxPQUFPLEVBQ0wsT0FBTyxDQUFDLE9BQU87b0JBQ2IsQ0FBQyxDQUFDLGtCQUFrQjt3QkFDbEIsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsRUFBRTt3QkFDaEIsQ0FBQyxDQUFDOzRCQUNFLE9BQU8sRUFBRSxDQUFDOzRCQUNWLFVBQVUsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUU7eUJBQzlCO29CQUNMLENBQUMsQ0FBQyxrQkFBa0I7d0JBQ3BCLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLEVBQUU7d0JBQ2hCLENBQUMsQ0FBQzs0QkFDRSxPQUFPLEVBQUUsQ0FBQzs0QkFDVixVQUFVLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFO3lCQUM5QixJQUVILFNBQVM7Z0JBRVosQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUNWLG9CQUFDLFdBQUksSUFBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLElBQUksRUFBQyxTQUFTLElBQ3pELEtBQUssQ0FDRCxDQUNSO2dCQUNBLE9BQU8sUUFBUSxLQUFLLFVBQVU7b0JBQzdCLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLFNBQUEsRUFBd0IsQ0FBQztvQkFDN0MsQ0FBQyxDQUFDLFFBQVEsQ0FDRSxDQUNHLENBQ3BCLENBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQztBQW5FVyxRQUFBLE9BQU8sV0FtRWxCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uZGl0aW9uYWxXcmFwcGVyIH0gZnJvbSAnLi4vX3ByaXZhdGUvQ29uZGl0aW9uYWxXcmFwcGVyJztcbmltcG9ydCB7IEdldENsYXNzZXMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJy4uLy4uL3N0eWxlcyc7XG5pbXBvcnQgeyBtb3Rpb24sIHVzZVJlZHVjZWRNb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ3JlYWtpdC9Qb3J0YWwnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHtcbiAgUG9wb3ZlciBhcyBSZWFraXRQb3BvdmVyLFxuICBQb3BvdmVyRGlzY2xvc3VyZSxcbiAgUG9wb3ZlckluaXRpYWxTdGF0ZSxcbiAgUG9wb3ZlclN0YXRlUmV0dXJuLFxuICB1c2VQb3BvdmVyU3RhdGUsXG59IGZyb20gJ3JlYWtpdC9Qb3BvdmVyJztcbmltcG9ydCBjbHN4IGZyb20gJ2Nsc3gnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgUG9wb3ZlclN0eWxlc0tleSA9ICdDaHJvbWFQb3BvdmVyJztcblxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoXG4gICh0aGVtZSkgPT4gKHtcbiAgICByb290OiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnRleHQucHJpbWFyeSxcbiAgICAgIGJvcmRlclJhZGl1czogdGhlbWUucHhUb1JlbSgxMCksXG4gICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MucG9wb3ZlcixcbiAgICAgIG1pbldpZHRoOiB0aGVtZS5weFRvUmVtKDIyNCksXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICB6SW5kZXg6IDQwLFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDIuNSksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMi41KSxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBQb3BvdmVyU3R5bGVzS2V5IH1cbik7XG5cbmV4cG9ydCB0eXBlIFBvcG92ZXJDbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBQb3BvdmVyUmVuZGVyUHJvcHMge1xuICBwb3BvdmVyOiBQb3BvdmVyU3RhdGVSZXR1cm47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9wb3ZlclByb3BzXG4gIGV4dGVuZHMgUGljazxcbiAgICBQb3BvdmVySW5pdGlhbFN0YXRlLFxuICAgICdwbGFjZW1lbnQnIHwgJ2d1dHRlcicgfCAndW5zdGFibGVfb2Zmc2V0J1xuICA+IHtcbiAgWydhcmlhLWxhYmVsJ106IHN0cmluZztcbiAgYW5jaG9yRWxlbWVudD86IGFueTtcbiAgY2hpbGRyZW4/OiBSZWFjdC5SZWFjdE5vZGUgfCBhbnk7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHVzZVBvcnRhbD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBQb3BvdmVyOiBSZWFjdC5GQzxQb3BvdmVyUHJvcHM+ID0gKHtcbiAgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsXG4gIGFuY2hvckVsZW1lbnQsXG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIGd1dHRlcixcbiAgcGxhY2VtZW50ID0gJ2JvdHRvbScsXG4gIHRpdGxlLFxuICB1c2VQb3J0YWwgPSBmYWxzZSxcbiAgdW5zdGFibGVfb2Zmc2V0LFxuICAuLi5yb290UHJvcHNcbn0pID0+IHtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG5cbiAgY29uc3Qgc2hvdWxkUmVkdWNlTW90aW9uID0gdXNlUmVkdWNlZE1vdGlvbigpO1xuXG4gIGNvbnN0IHBvcG92ZXIgPSB1c2VQb3BvdmVyU3RhdGUoeyBwbGFjZW1lbnQsIGd1dHRlciwgdW5zdGFibGVfb2Zmc2V0IH0pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxQb3BvdmVyRGlzY2xvc3VyZSB7Li4ucG9wb3Zlcn0gey4uLmFuY2hvckVsZW1lbnQucHJvcHN9PlxuICAgICAgICB7KGRpc2Nsb3N1cmVQcm9wcykgPT5cbiAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAgICAgICBSZWFjdC5DaGlsZHJlbi5vbmx5KGFuY2hvckVsZW1lbnQpLFxuICAgICAgICAgICAgZGlzY2xvc3VyZVByb3BzXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICA8L1BvcG92ZXJEaXNjbG9zdXJlPlxuICAgICAgPENvbmRpdGlvbmFsV3JhcHBlclxuICAgICAgICBjb25kaXRpb249e3VzZVBvcnRhbH1cbiAgICAgICAgd3JhcHBlcj17KGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUpID0+IDxQb3J0YWw+e2NoaWxkcmVufTwvUG9ydGFsPn1cbiAgICAgID5cbiAgICAgICAgPFJlYWtpdFBvcG92ZXJcbiAgICAgICAgICB7Li4ucG9wb3Zlcn1cbiAgICAgICAgICBhcmlhLWxhYmVsPXthcmlhTGFiZWx9XG4gICAgICAgICAgYXM9e21vdGlvbi5kaXZ9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKX1cbiAgICAgICAgICBhcmlhLWhpZGRlbj17cG9wb3Zlci52aXNpYmxlID8gdW5kZWZpbmVkIDogJ3RydWUnfVxuICAgICAgICAgIGFuaW1hdGU9e1xuICAgICAgICAgICAgcG9wb3Zlci52aXNpYmxlXG4gICAgICAgICAgICAgID8gc2hvdWxkUmVkdWNlTW90aW9uXG4gICAgICAgICAgICAgICAgPyB7IG9wYWNpdHk6IDEgfVxuICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjMgfSxcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBzaG91bGRSZWR1Y2VNb3Rpb25cbiAgICAgICAgICAgICAgPyB7IG9wYWNpdHk6IDAgfVxuICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiAwLjEgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHsuLi5yb290UHJvcHN9XG4gICAgICAgID5cbiAgICAgICAgICB7ISF0aXRsZSAmJiAoXG4gICAgICAgICAgICA8VGV4dCBjbGFzc05hbWU9e2NsYXNzZXMudGl0bGV9IHdlaWdodD1cImJvbGRcIiBzaXplPVwic3ViYm9keVwiPlxuICAgICAgICAgICAgICB7dGl0bGV9XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7dHlwZW9mIGNoaWxkcmVuID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGNoaWxkcmVuKHsgcG9wb3ZlciB9IGFzIFBvcG92ZXJSZW5kZXJQcm9wcylcbiAgICAgICAgICAgIDogY2hpbGRyZW59XG4gICAgICAgIDwvUmVha2l0UG9wb3Zlcj5cbiAgICAgIDwvQ29uZGl0aW9uYWxXcmFwcGVyPlxuICAgIDwvPlxuICApO1xufTtcbiJdfQ==