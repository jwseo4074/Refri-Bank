var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { makeStyles } from '../../styles/index';
import { sideBarWidthCollapsed, useLayoutManager } from '../LayoutManager';
import { Pill } from '../Pill';
import { Text } from '../Text';
import { Tooltip } from '../Tooltip';
import { BETA_INITIAL_TRANSITION, BETA_ANIMATE_TRANSITION, BETA_EXIT_TRANSITION, } from './_private/common';
import { NavOrExternalLink } from './_private/NavOrExternalLink';
import { motion } from 'framer-motion';
export var PrimaryNavigationItemStylesKey = 'ChromaPrimaryNavigationItem';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        listStyle: 'none',
        padding: 0,
        margin: 0,
        position: 'relative',
    },
    link: {
        display: 'flex',
        alignItems: 'center',
        height: theme.pxToRem(47),
        color: 'inherit',
        textDecoration: 'none',
        transition: 'color 0.5s ease, opacity 0.5s ease',
        '&:hover': {
            color: 'var(--link-hover)',
            textDecoration: 'none',
            fallbacks: {
                color: 'inherit',
            },
        },
    },
    linkActive: {
        backgroundColor: 'var(--link-active-bg)',
        color: 'var(--link-active)',
        '&:hover': {
            color: 'var(--link-active)',
            opacity: 0.75,
        },
        fallbacks: {
            backgroundColor: theme.palette.action.active,
            color: theme.palette.primary[300],
        },
    },
    icon: {
        width: sideBarWidthCollapsed,
        flexShrink: 0,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        outline: 'none',
    },
    label: {
        alignSelf: 'center',
        color: 'inherit',
        flex: 1,
        letterSpacing: 0.15,
        lineHeight: 'unset',
        overflowX: 'hidden',
        paddingRight: theme.spacing(2.25),
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
    },
    labelBeta: {
        maxWidth: 120,
        paddingRight: 0,
    },
    beta: {
        margin: theme.spacing(0.125, 1, 0),
        position: 'absolute',
        right: theme.spacing(4),
        transform: 'scale(0.75)',
    },
}); }, { name: PrimaryNavigationItemStylesKey });
var text = {
    hide: { opacity: 0, x: 16, transition: { ease: 'easeIn' } },
    show: { opacity: 1, x: 0, transition: { ease: 'easeOut' } },
};
export var PrimaryNavigationItem = React.forwardRef(function (_a, ref) {
    var exact = _a.exact, icon = _a.icon, label = _a.label, to = _a.to, className = _a.className, additionalClasses = _a.classes, beta = _a.beta, betaLabelText = _a.betaLabelText, rootProps = __rest(_a, ["exact", "icon", "label", "to", "className", "classes", "beta", "betaLabelText"]);
    var classes = useStyles({ classes: additionalClasses });
    var isSidebarCollapsed = useLayoutManager().isSidebarCollapsed;
    return (React.createElement("li", __assign({ ref: ref, className: clsx(classes.root, className) }, rootProps),
        React.createElement(NavOrExternalLink, { exact: exact, className: classes.link, activeClassName: classes.linkActive, to: to },
            isSidebarCollapsed ? (React.createElement(Tooltip, { title: label, placement: "right", gutter: -4 },
                React.createElement("div", { className: classes.icon }, icon))) : (React.createElement("div", { className: classes.icon }, icon)),
            React.createElement(motion.div, { variants: text },
                React.createElement(Text, { size: "subbody", className: clsx(classes.label, beta && classes.labelBeta, className) }, label)),
            beta && !isSidebarCollapsed && (React.createElement(Pill, { variant: "highlight", label: betaLabelText, className: classes.beta, initial: BETA_INITIAL_TRANSITION, animate: BETA_ANIMATE_TRANSITION, exit: BETA_EXIT_TRANSITION })))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWFyeU5hdmlnYXRpb25JdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvUHJpbWFyeU5hdmlnYXRpb24vUHJpbWFyeU5hdmlnYXRpb25JdGVtLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBQ3hCLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBRS9CLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVoRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMzRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQy9CLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDL0IsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUNyQyxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUN2QixvQkFBb0IsR0FDckIsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxJQUFNLDhCQUE4QixHQUFHLDZCQUE2QixDQUFDO0FBRTVFLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFVLENBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLE9BQU8sRUFBRSxDQUFDO1FBQ1YsTUFBTSxFQUFFLENBQUM7UUFDVCxRQUFRLEVBQUUsVUFBVTtLQUNyQjtJQUNELElBQUksRUFBRTtRQUNKLE9BQU8sRUFBRSxNQUFNO1FBQ2YsVUFBVSxF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QUUsS0FBSyxFQUNaLFNBQVMsRUFBRSxPQUFPLENBQUMsSUFBSSxFQUN2QixlQUFlLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFDbkMsRUFBRSxFQUFFLEVBQUU7WUFFTCxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FDcEIsb0JBQUMsT0FBTyxJQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO2dCQUNqRCw2QkFBSyxTQUFTLEVBQUUsT0FBTyxDQUFDLElBQUksSUFBRyxJQUFJLENBQU8sQ0FDbEMsQ0FDWCxDQUFDLENBQUMsQ0FBQyxDQUNGLDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsSUFBSSxJQUFHLElBQUksQ0FBTyxDQUMzQztZQUNELG9CQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUMsUUFBUSxFQUFFLElBQUk7Z0JBQ3hCLG9CQUFDLElBQUksSUFDSCxJQUFJLEVBQUMsU0FBUyxFQUNkLFNBQVMsRUFBRSxJQUFJLENBQ2IsT0FBTyxDQUFDLEtBQUssRUFDYixJQUFJLElBQUksT0FBTyxDQUFDLFNBQVMsRUFDekIsU0FBUyxDQUNWLElBRUEsS0FBSyxDQUNELENBQ0k7WUFDWixJQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxDQUM5QixvQkFBQyxJQUFJLElBQ0gsT0FBTyxFQUFDLFdBQVcsRUFDbkIsS0FBSyxFQUFFLGFBQWEsRUFDcEIsU0FBUyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQ3ZCLE9BQU8sRUFBRSx1QkFBdUIsRUFDaEMsT0FBTyxFQUFFLHVCQUF1QixFQUNoQyxJQUFJLEVBQUUsb0JBQW9CLEdBQzFCLENBQ0gsQ0FDaUIsQ0FDakIsQ0FDTixDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IE5hdkxpbmtQcm9wcyB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJy4uLy4uL3N0eWxlcy9pbmRleCc7XG5pbXBvcnQgeyBHZXRDbGFzc2VzLCBTdGFuZGFyZFByb3BzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcbmltcG9ydCB7IHNpZGVCYXJXaWR0aENvbGxhcHNlZCwgdXNlTGF5b3V0TWFuYWdlciB9IGZyb20gJy4uL0xheW91dE1hbmFnZXInO1xuaW1wb3J0IHsgUGlsbCB9IGZyb20gJy4uL1BpbGwnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4uL1RleHQnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4uL1Rvb2x0aXAnO1xuaW1wb3J0IHtcbiAgQkVUQV9JTklUSUFMX1RSQU5TSVRJT04sXG4gIEJFVEFfQU5JTUFURV9UUkFOU0lUSU9OLFxuICBCRVRBX0VYSVRfVFJBTlNJVElPTixcbn0gZnJvbSAnLi9fcHJpdmF0ZS9jb21tb24nO1xuaW1wb3J0IHsgTmF2T3JFeHRlcm5hbExpbmsgfSBmcm9tICcuL19wcml2YXRlL05hdk9yRXh0ZXJuYWxMaW5rJztcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuXG5leHBvcnQgY29uc3QgUHJpbWFyeU5hdmlnYXRpb25JdGVtU3R5bGVzS2V5ID0gJ0Nocm9tYVByaW1hcnlOYXZpZ2F0aW9uSXRlbSc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgbGlzdFN0eWxlOiAnbm9uZScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgbWFyZ2luOiAwLFxuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgfSxcbiAgICBsaW5rOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSg0NyksXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHRyYW5zaXRpb246ICdjb2xvciAwLjVzIGVhc2UsIG9wYWNpdHkgMC41cyBlYXNlJyxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogJ3ZhcigtLWxpbmstaG92ZXIpJyxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICAgZmFsbGJhY2tzOiB7XG4gICAgICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsaW5rQWN0aXZlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1saW5rLWFjdGl2ZS1iZyknLFxuICAgICAgY29sb3I6ICd2YXIoLS1saW5rLWFjdGl2ZSknLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiAndmFyKC0tbGluay1hY3RpdmUpJyxcbiAgICAgICAgb3BhY2l0eTogMC43NSxcbiAgICAgIH0sXG4gICAgICBmYWxsYmFja3M6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnlbMzAwXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICB3aWR0aDogc2lkZUJhcldpZHRoQ29sbGFwc2VkLFxuICAgICAgZmxleFNocmluazogMCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgZmxleDogMSxcbiAgICAgIGxldHRlclNwYWNpbmc6IDAuMTUsXG4gICAgICBsaW5lSGVpZ2h0OiAndW5zZXQnLFxuICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygyLjI1KSxcbiAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIH0sXG4gICAgbGFiZWxCZXRhOiB7XG4gICAgICBtYXhXaWR0aDogMTIwLFxuICAgICAgcGFkZGluZ1JpZ2h0OiAwLFxuICAgIH0sXG4gICAgYmV0YToge1xuICAgICAgbWFyZ2luOiB0aGVtZS5zcGFjaW5nKDAuMTI1LCAxLCAwKSxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgcmlnaHQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjc1KScsXG4gICAgfSxcbiAgfSksXG4gIHsgbmFtZTogUHJpbWFyeU5hdmlnYXRpb25JdGVtU3R5bGVzS2V5IH1cbik7XG5cbmNvbnN0IHRleHQgPSB7XG4gIGhpZGU6IHsgb3BhY2l0eTogMCwgeDogMTYsIHRyYW5zaXRpb246IHsgZWFzZTogJ2Vhc2VJbicgfSB9LFxuICBzaG93OiB7IG9wYWNpdHk6IDEsIHg6IDAsIHRyYW5zaXRpb246IHsgZWFzZTogJ2Vhc2VPdXQnIH0gfSxcbn07XG5cbmV4cG9ydCB0eXBlIFByaW1hcnlOYXZpZ2F0aW9uSXRlbUNsYXNzZXMgPSBHZXRDbGFzc2VzPHR5cGVvZiB1c2VTdHlsZXM+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFByaW1hcnlOYXZpZ2F0aW9uSXRlbVByb3BzXG4gIGV4dGVuZHMgU3RhbmRhcmRQcm9wczxIVE1MTElFbGVtZW50LCBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1DbGFzc2VzPixcbiAgICBQaWNrPE5hdkxpbmtQcm9wcywgJ2V4YWN0JyB8ICd0byc+IHtcbiAgbGFiZWw/OiBzdHJpbmc7XG4gIGJldGE/OiBib29sZWFuO1xuICBiZXRhTGFiZWxUZXh0Pzogc3RyaW5nO1xuICBpY29uPzogUmVhY3QuUmVhY3ROb2RlO1xufVxuXG5leHBvcnQgY29uc3QgUHJpbWFyeU5hdmlnYXRpb25JdGVtID0gUmVhY3QuZm9yd2FyZFJlZjxcbiAgSFRNTExJRWxlbWVudCxcbiAgUHJpbWFyeU5hdmlnYXRpb25JdGVtUHJvcHNcbj4oXG4gIChcbiAgICB7XG4gICAgICBleGFjdCxcbiAgICAgIGljb24sXG4gICAgICBsYWJlbCxcbiAgICAgIHRvLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgY2xhc3NlczogYWRkaXRpb25hbENsYXNzZXMsXG4gICAgICBiZXRhLFxuICAgICAgYmV0YUxhYmVsVGV4dCxcbiAgICAgIC4uLnJvb3RQcm9wc1xuICAgIH0sXG4gICAgcmVmXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoeyBjbGFzc2VzOiBhZGRpdGlvbmFsQ2xhc3NlcyB9KTtcbiAgICBjb25zdCB7IGlzU2lkZWJhckNvbGxhcHNlZCB9ID0gdXNlTGF5b3V0TWFuYWdlcigpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSByZWY9e3JlZn0gY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMucm9vdCwgY2xhc3NOYW1lKX0gey4uLnJvb3RQcm9wc30+XG4gICAgICAgIDxOYXZPckV4dGVybmFsTGlua1xuICAgICAgICAgIGV4YWN0PXtleGFjdH1cbiAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMubGlua31cbiAgICAgICAgICBhY3RpdmVDbGFzc05hbWU9e2NsYXNzZXMubGlua0FjdGl2ZX1cbiAgICAgICAgICB0bz17dG99XG4gICAgICAgID5cbiAgICAgICAgICB7aXNTaWRlYmFyQ29sbGFwc2VkID8gKFxuICAgICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2xhYmVsfSBwbGFjZW1lbnQ9XCJyaWdodFwiIGd1dHRlcj17LTR9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5pY29ufT57aWNvbn08L2Rpdj5cbiAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0+e2ljb259PC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8bW90aW9uLmRpdiB2YXJpYW50cz17dGV4dH0+XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBzaXplPVwic3ViYm9keVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgICBjbGFzc2VzLmxhYmVsLFxuICAgICAgICAgICAgICAgIGJldGEgJiYgY2xhc3Nlcy5sYWJlbEJldGEsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvVGV4dD5cbiAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAge2JldGEgJiYgIWlzU2lkZWJhckNvbGxhcHNlZCAmJiAoXG4gICAgICAgICAgICA8UGlsbFxuICAgICAgICAgICAgICB2YXJpYW50PVwiaGlnaGxpZ2h0XCJcbiAgICAgICAgICAgICAgbGFiZWw9e2JldGFMYWJlbFRleHR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5iZXRhfVxuICAgICAgICAgICAgICBpbml0aWFsPXtCRVRBX0lOSVRJQUxfVFJBTlNJVElPTn1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17QkVUQV9BTklNQVRFX1RSQU5TSVRJT059XG4gICAgICAgICAgICAgIGV4aXQ9e0JFVEFfRVhJVF9UUkFOU0lUSU9OfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L05hdk9yRXh0ZXJuYWxMaW5rPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG4pO1xuIl19