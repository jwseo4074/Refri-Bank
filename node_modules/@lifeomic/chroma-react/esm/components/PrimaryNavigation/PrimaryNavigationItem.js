var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { makeStyles } from '../../styles/index';
import { sideBarWidthCollapsed, useLayoutManager } from '../LayoutManager';
import { Pill } from '../Pill';
import { Text } from '../Text';
import { Tooltip } from '../Tooltip';
import { BETA_INITIAL_TRANSITION, BETA_ANIMATE_TRANSITION, BETA_EXIT_TRANSITION, } from './_private/common';
import { NavOrExternalLink } from './_private/NavOrExternalLink';
import { motion } from 'framer-motion';
export var PrimaryNavigationItemStylesKey = 'ChromaPrimaryNavigationItem';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        listStyle: 'none',
        padding: 0,
        margin: 0,
        position: 'relative',
    },
    link: {
        display: 'flex',
        alignItems: 'center',
        height: theme.pxToRem(47),
        color: 'inherit',
        textDecoration: 'none',
        transition: 'color 0.5s ease, opacity 0.5s ease',
        '&:hover': {
            color: 'var(--link-hover)',
            textDecoration: 'none',
            fallbacks: {
                color: 'inherit',
            },
        },
    },
    linkActive: {
        backgroundColor: 'var(--link-active-bg)',
        color: 'var(--link-active)',
        '&:hover': {
            color: 'var(--link-active)',
            opacity: 0.75,
        },
        fallbacks: {
            backgroundColor: theme.palette.action.active,
            color: theme.palette.primary[300],
        },
    },
    icon: {
        width: sideBarWidthCollapsed,
        flexShrink: 0,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        outline: 'none',
    },
    label: {
        alignSelf: 'center',
        color: 'inherit',
        flex: 1,
        letterSpacing: 0.15,
        lineHeight: 'unset',
        overflowX: 'hidden',
        paddingRight: theme.spacing(2.25),
        textOverflow: 'ellipsis',
        whiteSpace: 'nowrap',
    },
    labelBeta: {
        maxWidth: 120,
        paddingRight: 0,
    },
    beta: {
        margin: theme.spacing(0.125, 1, 0),
        position: 'absolute',
        right: theme.spacing(4),
        transform: 'scale(0.75)',
    },
}); }, { name: PrimaryNavigationItemStylesKey });
var text = {
    hide: { opacity: 0, x: 16, transition: { ease: 'easeIn' } },
    show: { opacity: 1, x: 0, transition: { ease: 'easeOut' } },
};
export var PrimaryNavigationItem = React.forwardRef(function (_a, ref) {
    var exact = _a.exact, icon = _a.icon, label = _a.label, to = _a.to, className = _a.className, additionalClasses = _a.classes, beta = _a.beta, betaLabelText = _a.betaLabelText, rootProps = __rest(_a, ["exact", "icon", "label", "to", "className", "classes", "beta", "betaLabelText"]);
    var classes = useStyles({ classes: additionalClasses });
    var isSidebarCollapsed = useLayoutManager().isSidebarCollapsed;
    return (React.createElement("li", __assign({ ref: ref, className: clsx(classes.root, className) }, rootProps),
        React.createElement(NavOrExternalLink, { exact: exact, className: classes.link, activeClassName: classes.linkActive, to: to },
            isSidebarCollapsed ? (React.createElement(Tooltip, { title: label, placement: "right", gutter: -4 },
                React.createElement("div", { className: classes.icon }, icon))) : (React.createElement("div", { className: classes.icon }, icon)),
            React.createElement(motion.div, { variants: text },
                React.createElement(Text, { size: "subbody", className: clsx(classes.label, beta && classes.labelBeta, className) }, label)),
            beta && !isSidebarCollapsed && (React.createElement(Pill, { variant: "highlight", label: betaLabelText, className: classes.beta, initial: BETA_INITIAL_TRANSITION, animate: BETA_ANIMATE_TRANSITION, exit: BETA_EXIT_TRANSITION })))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWFyeU5hdmlnYXRpb25JdGVtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvUHJpbWFyeU5hdmlnYXRpb24vUHJpbWFyeU5hdmlnYXRpb25JdGVtLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsT0FBTyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBQ3hCLE9BQU8sS0FBSyxLQUFLLE1BQU0sT0FBTyxDQUFDO0FBRS9CLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVoRCxPQUFPLEVBQUUscUJBQXFCLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMzRSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQy9CLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFDL0IsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQztBQUNyQyxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUN2QixvQkFBb0IsR0FDckIsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUNqRSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxJQUFNLDhCQUE4QixHQUFHLDZCQUE2QixDQUFDO0FBRTVFLE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFVLENBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLE9BQU8sRUFBRSxDQUFDO1FBQ1YsTUFBTSxFQUFFLENBQUM7UUFDVCxRQUFRLEVBQUUsVUFBVTtLQUNyQjtJQUNELElBQUksRUFBRTtRQUNKLE9BQU8sRUFBRSxNQUFNO1FBQ2YsVUFBVSxF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cyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBOYXZMaW5rUHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMvaW5kZXgnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcywgU3RhbmRhcmRQcm9wcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBzaWRlQmFyV2lkdGhDb2xsYXBzZWQsIHVzZUxheW91dE1hbmFnZXIgfSBmcm9tICcuLi9MYXlvdXRNYW5hZ2VyJztcbmltcG9ydCB7IFBpbGwgfSBmcm9tICcuLi9QaWxsJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICcuLi9Ub29sdGlwJztcbmltcG9ydCB7XG4gIEJFVEFfSU5JVElBTF9UUkFOU0lUSU9OLFxuICBCRVRBX0FOSU1BVEVfVFJBTlNJVElPTixcbiAgQkVUQV9FWElUX1RSQU5TSVRJT04sXG59IGZyb20gJy4vX3ByaXZhdGUvY29tbW9uJztcbmltcG9ydCB7IE5hdk9yRXh0ZXJuYWxMaW5rIH0gZnJvbSAnLi9fcHJpdmF0ZS9OYXZPckV4dGVybmFsTGluayc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcblxuZXhwb3J0IGNvbnN0IFByaW1hcnlOYXZpZ2F0aW9uSXRlbVN0eWxlc0tleSA9ICdDaHJvbWFQcmltYXJ5TmF2aWdhdGlvbkl0ZW0nO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgIGxpc3RTdHlsZTogJ25vbmUnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMCxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgIH0sXG4gICAgbGluazoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBoZWlnaHQ6IHRoZW1lLnB4VG9SZW0oNDcpLFxuICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG4gICAgICB0cmFuc2l0aW9uOiAnY29sb3IgMC41cyBlYXNlLCBvcGFjaXR5IDAuNXMgZWFzZScsXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgY29sb3I6ICd2YXIoLS1saW5rLWhvdmVyKScsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiAnbm9uZScsXG4gICAgICAgIGZhbGxiYWNrczoge1xuICAgICAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgbGlua0FjdGl2ZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiAndmFyKC0tbGluay1hY3RpdmUtYmcpJyxcbiAgICAgIGNvbG9yOiAndmFyKC0tbGluay1hY3RpdmUpJyxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogJ3ZhcigtLWxpbmstYWN0aXZlKScsXG4gICAgICAgIG9wYWNpdHk6IDAuNzUsXG4gICAgICB9LFxuICAgICAgZmFsbGJhY2tzOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5hY3Rpb24uYWN0aXZlLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzMwMF0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgd2lkdGg6IHNpZGVCYXJXaWR0aENvbGxhcHNlZCxcbiAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBhbGlnblNlbGY6ICdjZW50ZXInLFxuICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgIGZsZXg6IDEsXG4gICAgICBsZXR0ZXJTcGFjaW5nOiAwLjE1LFxuICAgICAgbGluZUhlaWdodDogJ3Vuc2V0JyxcbiAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoMi4yNSksXG4gICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICB9LFxuICAgIGxhYmVsQmV0YToge1xuICAgICAgbWF4V2lkdGg6IDEyMCxcbiAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICB9LFxuICAgIGJldGE6IHtcbiAgICAgIG1hcmdpbjogdGhlbWUuc3BhY2luZygwLjEyNSwgMSwgMCksXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHJpZ2h0OiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC43NSknLFxuICAgIH0sXG4gIH0pLFxuICB7IG5hbWU6IFByaW1hcnlOYXZpZ2F0aW9uSXRlbVN0eWxlc0tleSB9XG4pO1xuXG5jb25zdCB0ZXh0ID0ge1xuICBoaWRlOiB7IG9wYWNpdHk6IDAsIHg6IDE2LCB0cmFuc2l0aW9uOiB7IGVhc2U6ICdlYXNlSW4nIH0gfSxcbiAgc2hvdzogeyBvcGFjaXR5OiAxLCB4OiAwLCB0cmFuc2l0aW9uOiB7IGVhc2U6ICdlYXNlT3V0JyB9IH0sXG59O1xuXG5leHBvcnQgdHlwZSBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1DbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBQcmltYXJ5TmF2aWdhdGlvbkl0ZW1Qcm9wc1xuICBleHRlbmRzIFN0YW5kYXJkUHJvcHM8SFRNTExJRWxlbWVudCwgUHJpbWFyeU5hdmlnYXRpb25JdGVtQ2xhc3Nlcz4sXG4gICAgUGljazxOYXZMaW5rUHJvcHMsICdleGFjdCcgfCAndG8nPiB7XG4gIGxhYmVsPzogc3RyaW5nO1xuICBiZXRhPzogYm9vbGVhbjtcbiAgYmV0YUxhYmVsVGV4dD86IHN0cmluZztcbiAgaWNvbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuZXhwb3J0IGNvbnN0IFByaW1hcnlOYXZpZ2F0aW9uSXRlbSA9IFJlYWN0LmZvcndhcmRSZWY8XG4gIEhUTUxMSUVsZW1lbnQsXG4gIFByaW1hcnlOYXZpZ2F0aW9uSXRlbVByb3BzXG4+KFxuICAoXG4gICAge1xuICAgICAgZXhhY3QsXG4gICAgICBpY29uLFxuICAgICAgbGFiZWwsXG4gICAgICB0byxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzLFxuICAgICAgYmV0YSxcbiAgICAgIGJldGFMYWJlbFRleHQsXG4gICAgICAuLi5yb290UHJvcHNcbiAgICB9LFxuICAgIHJlZlxuICApID0+IHtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHsgY2xhc3NlczogYWRkaXRpb25hbENsYXNzZXMgfSk7XG4gICAgY29uc3QgeyBpc1NpZGViYXJDb2xsYXBzZWQgfSA9IHVzZUxheW91dE1hbmFnZXIoKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bGkgcmVmPXtyZWZ9IGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnJvb3QsIGNsYXNzTmFtZSl9IHsuLi5yb290UHJvcHN9PlxuICAgICAgICA8TmF2T3JFeHRlcm5hbExpbmtcbiAgICAgICAgICBleGFjdD17ZXhhY3R9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmxpbmt9XG4gICAgICAgICAgYWN0aXZlQ2xhc3NOYW1lPXtjbGFzc2VzLmxpbmtBY3RpdmV9XG4gICAgICAgICAgdG89e3RvfVxuICAgICAgICA+XG4gICAgICAgICAge2lzU2lkZWJhckNvbGxhcHNlZCA/IChcbiAgICAgICAgICAgIDxUb29sdGlwIHRpdGxlPXtsYWJlbH0gcGxhY2VtZW50PVwicmlnaHRcIiBndXR0ZXI9ey00fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0+e2ljb259PC9kaXY+XG4gICAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmljb259PntpY29ufTwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgPG1vdGlvbi5kaXYgdmFyaWFudHM9e3RleHR9PlxuICAgICAgICAgICAgPFRleHRcbiAgICAgICAgICAgICAgc2l6ZT1cInN1YmJvZHlcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5sYWJlbCxcbiAgICAgICAgICAgICAgICBiZXRhICYmIGNsYXNzZXMubGFiZWxCZXRhLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgIHtiZXRhICYmICFpc1NpZGViYXJDb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgPFBpbGxcbiAgICAgICAgICAgICAgdmFyaWFudD1cImhpZ2hsaWdodFwiXG4gICAgICAgICAgICAgIGxhYmVsPXtiZXRhTGFiZWxUZXh0fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuYmV0YX1cbiAgICAgICAgICAgICAgaW5pdGlhbD17QkVUQV9JTklUSUFMX1RSQU5TSVRJT059XG4gICAgICAgICAgICAgIGFuaW1hdGU9e0JFVEFfQU5JTUFURV9UUkFOU0lUSU9OfVxuICAgICAgICAgICAgICBleGl0PXtCRVRBX0VYSVRfVFJBTlNJVElPTn1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9OYXZPckV4dGVybmFsTGluaz5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==