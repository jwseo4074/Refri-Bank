var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { GlobalHotKeys } from 'react-hotkeys';
import { Sidebar } from '@lifeomic/chromicons';
import { makeStyles } from '../../styles';
import { sideBarWidthCollapsed, useLayoutManager } from '../LayoutManager';
import { inDuration, outDuration } from './_private/common';
import { motion } from 'framer-motion';
import { getTestProps } from '../../testUtils/getTestProps';
var KEY_MAP = {
    TOGGLE_SIDE_BAR: '[',
};
export var testIds = {
    toggleButton: 'primaryNavigation-toggleButton',
    headerRoot: 'primaryNavigation-headerRoot',
};
export var PrimaryNavigationStylesKey = 'ChromaPrimaryNavigation';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        '--link-color': theme.palette.black[300],
        '--link-hover': theme.palette.black[50],
        '--link-active': theme.palette.primary[300],
        '--link-active-bg': theme.palette.action.active,
        '--link-size': '0.875rem',
        backgroundColor: theme.palette.grey.main,
        color: 'var(--link-color)',
        display: 'flex',
        paddingTop: theme.spacing(1.5),
        flexDirection: 'column',
        overflowX: 'hidden',
        overflowY: 'auto',
        width: '100%',
        fallbacks: {
            color: theme.palette.black[300],
        },
    },
    header: {
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'flex-end',
        height: theme.pxToRem(32),
        flex: '0 0 auto',
        marginTop: theme.spacing(0.5),
        marginBottom: theme.spacing(1.25),
    },
    headerContent: {
        flex: '1 1 auto',
        paddingLeft: theme.spacing(2.25),
        paddingRight: theme.spacing(2.25),
    },
    headerContentMin: {
        width: '100%',
        display: 'flex',
        justifyContent: 'center',
        paddingLeft: 0,
        paddingRight: 0,
    },
    headerContentHidden: {
        display: 'none',
    },
    toggleButton: {
        width: sideBarWidthCollapsed,
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'center',
        flex: '0 0 auto',
        opacity: 0.3,
    },
    navItems: {
        overflowY: 'auto',
        overflowX: 'hidden',
        flex: '1 1 100px',
        listStyle: 'none',
        padding: 0,
        margin: 0,
    },
    footer: {
        flex: '0 0 auto',
        marginTop: theme.spacing(2),
        marginBottom: theme.spacing(2),
        paddingLeft: theme.spacing(2.75),
        paddingRight: theme.spacing(2.75),
    },
    footToggle: {
        alignItems: 'flex-start',
        background: 'transparent none',
        border: 0,
        color: 'var(--link-color)',
        display: 'flex',
        fontFamily: theme.typography.fontFamily,
        fontSize: 'var(--link-size)',
        justifyContent: 'flex-start',
        letterSpacing: 0.15,
        padding: theme.spacing(1, 2.25, 2),
        textAlign: 'left',
        transition: 'color 0.5s ease',
        whiteSpace: 'nowrap',
        '&:hover': {
            color: 'var(--link-hover)',
            cursor: 'pointer',
        },
        '&[aria-checked=true]': {
            color: 'var(--link-active)',
        },
        '&:focus': {
            outline: 'none',
        },
    },
    footToggleContainer: {
        width: theme.pxToRem(24),
        height: theme.pxToRem(24),
    },
    toggleText: {
        display: 'inline-block',
        marginLeft: theme.spacing(2.25),
        position: 'relative',
        top: theme.spacing(0.25),
    },
}); }, {
    name: PrimaryNavigationStylesKey,
});
var NAV_LIST_TRANSITION_VARIANTS = {
    hide: {},
    show: {
        transition: {
            staggerChildren: 0.04,
            delayChildren: 0.125,
        },
    },
};
var SHARED_TRANSITION_VARIANTS = {
    hide: { opacity: 0 },
    show: {
        opacity: 1,
        transition: {
            duration: 0.3,
        },
    },
};
export var PrimaryNavigation = React.forwardRef(function (_a, ref) {
    var header = _a.header, headerMin = _a.headerMin, footer = _a.footer, children = _a.children, className = _a.className, toggleButtonText = _a.toggleButtonText, rootProps = __rest(_a, ["header", "headerMin", "footer", "children", "className", "toggleButtonText"]);
    var classes = useStyles({});
    var _b = useLayoutManager(), isSidebarCollapsed = _b.isSidebarCollapsed, toggleSidebarCollapsed = _b.toggleSidebarCollapsed, isSidebarCollapseDisabled = _b.isSidebarCollapseDisabled;
    var HANDLERS = {
        TOGGLE_SIDE_BAR: toggleSidebarCollapsed,
    };
    var showHeader = (headerMin && isSidebarCollapsed) || (header && !isSidebarCollapsed);
    return (React.createElement("nav", __assign({ ref: ref, className: clsx(classes.root, className), "aria-label": "Primary", role: "navigation" }, rootProps),
        showHeader && (React.createElement("div", __assign({ className: classes.header }, getTestProps(testIds.headerRoot)),
            headerMin && isSidebarCollapsed && (React.createElement(motion.div, { "aria-label": "Navigation Header Section Collapsed", className: clsx(classes.headerContent, classes.headerContentMin), initial: { opacity: 0 }, animate: {
                    opacity: 1,
                    transition: { delay: 0.25, duration: 0.25 },
                } }, headerMin)),
            header && !isSidebarCollapsed && (React.createElement(motion.div, { "aria-label": "Navigation Header Section", className: clsx(classes.headerContent), initial: { opacity: 0 }, animate: {
                    opacity: 1,
                    transition: { delay: 0.2, duration: 0.25 },
                } }, header)))),
        React.createElement(motion.ul, { variants: NAV_LIST_TRANSITION_VARIANTS, animate: isSidebarCollapsed ? 'hide' : 'show', className: clsx(classes.navItems) }, children),
        !isSidebarCollapsed && !!footer && (React.createElement(motion.div, { initial: { opacity: 0 }, animate: { opacity: 1, transition: { duration: inDuration } }, exit: { opacity: 0, transition: { duration: outDuration } }, className: classes.footer }, footer)),
        !isSidebarCollapseDisabled && (React.createElement(GlobalHotKeys, { keyMap: KEY_MAP, handlers: HANDLERS },
            React.createElement("button", __assign({ className: classes.footToggle, onClick: toggleSidebarCollapsed, role: "checkbox", "aria-checked": isSidebarCollapsed }, getTestProps(testIds.toggleButton)),
                React.createElement("span", { className: classes.footToggleContainer },
                    React.createElement(Sidebar, { "aria-hidden": true })),
                React.createElement(motion.span, { className: classes.toggleText, animate: isSidebarCollapsed ? 'hide' : 'show', variants: SHARED_TRANSITION_VARIANTS }, toggleButtonText || 'Toggle Sidebar'))))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJpbWFyeU5hdmlnYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9QcmltYXJ5TmF2aWdhdGlvbi9QcmltYXJ5TmF2aWdhdGlvbi50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRTFDLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDNUQsT0FBTyxFQUFFLE1BQU0sRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFNUQsSUFBTSxPQUFPLEdBQUc7SUFDZCxlQUFlLEVBQUUsR0FBRztDQUNyQixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sT0FBTyxHQUFHO0lBQ3JCLFlBQVksRUFBRSxnQ0FBZ0M7SUFDOUMsVUFBVSxFQUFFLDhCQUE4QjtDQUMzQyxDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sMEJBQTBCLEdBQUcseUJBQXlCLENBQUM7QUFFcEUsTUFBTSxDQUFDLElBQU0sU0FBUyxHQUFHLFVBQVUsQ0FDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsSUFBSSxFQUFFO1FBQ0osY0FBYyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUN4QyxjQUFj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QUFPLENBQUMsVUFBVSxFQUM3QixPQUFPLEVBQUUsc0JBQXNCLEVBQy9CLElBQUksRUFBQyxVQUFVLGtCQUNELGtCQUFrQixJQUM1QixZQUFZLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQztnQkFFdEMsOEJBQU0sU0FBUyxFQUFFLE9BQU8sQ0FBQyxtQkFBbUI7b0JBQzFDLG9CQUFDLE9BQU8sMEJBQWUsQ0FDbEI7Z0JBQ1Asb0JBQUMsTUFBTSxDQUFDLElBQUksSUFDVixTQUFTLEVBQUUsT0FBTyxDQUFDLFVBQVUsRUFDN0IsT0FBTyxFQUFFLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFDN0MsUUFBUSxFQUFFLDBCQUEwQixJQUVuQyxnQkFBZ0IsSUFBSSxnQkFBZ0IsQ0FDekIsQ0FDUCxDQUNLLENBQ2pCLENBQ0csQ0FDUCxDQUFDO0FBQ0osQ0FBQyxDQUNGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xzeCBmcm9tICdjbHN4JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdsb2JhbEhvdEtleXMgfSBmcm9tICdyZWFjdC1ob3RrZXlzJztcbmltcG9ydCB7IFNpZGViYXIgfSBmcm9tICdAbGlmZW9taWMvY2hyb21pY29ucyc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgc2lkZUJhcldpZHRoQ29sbGFwc2VkLCB1c2VMYXlvdXRNYW5hZ2VyIH0gZnJvbSAnLi4vTGF5b3V0TWFuYWdlcic7XG5pbXBvcnQgeyBpbkR1cmF0aW9uLCBvdXREdXJhdGlvbiB9IGZyb20gJy4vX3ByaXZhdGUvY29tbW9uJztcbmltcG9ydCB7IG1vdGlvbiwgVmFyaWFudHMgfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IGdldFRlc3RQcm9wcyB9IGZyb20gJy4uLy4uL3Rlc3RVdGlscy9nZXRUZXN0UHJvcHMnO1xuXG5jb25zdCBLRVlfTUFQID0ge1xuICBUT0dHTEVfU0lERV9CQVI6ICdbJyxcbn07XG5cbmV4cG9ydCBjb25zdCB0ZXN0SWRzID0ge1xuICB0b2dnbGVCdXR0b246ICdwcmltYXJ5TmF2aWdhdGlvbi10b2dnbGVCdXR0b24nLFxuICBoZWFkZXJSb290OiAncHJpbWFyeU5hdmlnYXRpb24taGVhZGVyUm9vdCcsXG59O1xuXG5leHBvcnQgY29uc3QgUHJpbWFyeU5hdmlnYXRpb25TdHlsZXNLZXkgPSAnQ2hyb21hUHJpbWFyeU5hdmlnYXRpb24nO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgICctLWxpbmstY29sb3InOiB0aGVtZS5wYWxldHRlLmJsYWNrWzMwMF0sXG4gICAgICAnLS1saW5rLWhvdmVyJzogdGhlbWUucGFsZXR0ZS5ibGFja1s1MF0sXG4gICAgICAnLS1saW5rLWFjdGl2ZSc6IHRoZW1lLnBhbGV0dGUucHJpbWFyeVszMDBdLFxuICAgICAgJy0tbGluay1hY3RpdmUtYmcnOiB0aGVtZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsXG4gICAgICAnLS1saW5rLXNpemUnOiAnMC44NzVyZW0nLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXkubWFpbixcbiAgICAgIGNvbG9yOiAndmFyKC0tbGluay1jb2xvciknLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZygxLjUpLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBvdmVyZmxvd1g6ICdoaWRkZW4nLFxuICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgZmFsbGJhY2tzOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmJsYWNrWzMwMF0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgaGVhZGVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgIGp1c3RpZnlDb250ZW50OiAnZmxleC1lbmQnLFxuICAgICAgaGVpZ2h0OiB0aGVtZS5weFRvUmVtKDMyKSxcbiAgICAgIGZsZXg6ICcwIDAgYXV0bycsXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMC41KSxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygxLjI1KSxcbiAgICB9LFxuICAgIGhlYWRlckNvbnRlbnQ6IHtcbiAgICAgIGZsZXg6ICcxIDEgYXV0bycsXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUuc3BhY2luZygyLjI1KSxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhlbWUuc3BhY2luZygyLjI1KSxcbiAgICB9LFxuICAgIGhlYWRlckNvbnRlbnRNaW46IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICB9LFxuICAgIGhlYWRlckNvbnRlbnRIaWRkZW46IHtcbiAgICAgIGRpc3BsYXk6ICdub25lJyxcbiAgICB9LFxuICAgIHRvZ2dsZUJ1dHRvbjoge1xuICAgICAgd2lkdGg6IHNpZGVCYXJXaWR0aENvbGxhcHNlZCxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgZmxleDogJzAgMCBhdXRvJyxcbiAgICAgIG9wYWNpdHk6IDAuMyxcbiAgICB9LFxuICAgIG5hdkl0ZW1zOiB7XG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIG92ZXJmbG93WDogJ2hpZGRlbicsXG4gICAgICBmbGV4OiAnMSAxIDEwMHB4JyxcbiAgICAgIGxpc3RTdHlsZTogJ25vbmUnLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMCxcbiAgICB9LFxuICAgIGZvb3Rlcjoge1xuICAgICAgZmxleDogJzAgMCBhdXRvJyxcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDIuNzUpLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5zcGFjaW5nKDIuNzUpLFxuICAgIH0sXG4gICAgZm9vdFRvZ2dsZToge1xuICAgICAgYWxpZ25JdGVtczogJ2ZsZXgtc3RhcnQnLFxuICAgICAgYmFja2dyb3VuZDogJ3RyYW5zcGFyZW50IG5vbmUnLFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY29sb3I6ICd2YXIoLS1saW5rLWNvbG9yKScsXG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogJ3ZhcigtLWxpbmstc2l6ZSknLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICAgIGxldHRlclNwYWNpbmc6IDAuMTUsXG4gICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDEsIDIuMjUsIDIpLFxuICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICB0cmFuc2l0aW9uOiAnY29sb3IgMC41cyBlYXNlJyxcbiAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiAndmFyKC0tbGluay1ob3ZlciknLFxuICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIH0sXG4gICAgICAnJlthcmlhLWNoZWNrZWQ9dHJ1ZV0nOiB7XG4gICAgICAgIGNvbG9yOiAndmFyKC0tbGluay1hY3RpdmUpJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGZvb3RUb2dnbGVDb250YWluZXI6IHtcbiAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDI0KSxcbiAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSgyNCksXG4gICAgfSxcbiAgICB0b2dnbGVUZXh0OiB7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIG1hcmdpbkxlZnQ6IHRoZW1lLnNwYWNpbmcoMi4yNSksXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRvcDogdGhlbWUuc3BhY2luZygwLjI1KSxcbiAgICB9LFxuICB9KSxcbiAge1xuICAgIG5hbWU6IFByaW1hcnlOYXZpZ2F0aW9uU3R5bGVzS2V5LFxuICB9XG4pO1xuXG5jb25zdCBOQVZfTElTVF9UUkFOU0lUSU9OX1ZBUklBTlRTOiBWYXJpYW50cyA9IHtcbiAgaGlkZToge30sXG4gIHNob3c6IHtcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBzdGFnZ2VyQ2hpbGRyZW46IDAuMDQsXG4gICAgICBkZWxheUNoaWxkcmVuOiAwLjEyNSxcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgU0hBUkVEX1RSQU5TSVRJT05fVkFSSUFOVFM6IFZhcmlhbnRzID0ge1xuICBoaWRlOiB7IG9wYWNpdHk6IDAgfSxcbiAgc2hvdzoge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgdHJhbnNpdGlvbjoge1xuICAgICAgZHVyYXRpb246IDAuMyxcbiAgICB9LFxuICB9LFxufTtcblxuZXhwb3J0IHR5cGUgUHJpbWFyeU5hdmlnYXRpb25DbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBQcmltYXJ5TmF2aWdhdGlvblByb3BzXG4gIGV4dGVuZHMgUmVhY3QuRGV0YWlsZWRIVE1MUHJvcHM8XG4gICAgUmVhY3QuSFRNTEF0dHJpYnV0ZXM8SFRNTEVsZW1lbnQ+LFxuICAgIEhUTUxFbGVtZW50XG4gID4ge1xuICBoZWFkZXI/OiBSZWFjdC5SZWFjdE5vZGU7XG4gIGhlYWRlck1pbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZm9vdGVyPzogUmVhY3QuUmVhY3ROb2RlO1xuICB0b2dnbGVCdXR0b25UZXh0Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgUHJpbWFyeU5hdmlnYXRpb24gPSBSZWFjdC5mb3J3YXJkUmVmPFxuICBIVE1MRWxlbWVudCxcbiAgUHJpbWFyeU5hdmlnYXRpb25Qcm9wc1xuPihcbiAgKFxuICAgIHtcbiAgICAgIGhlYWRlcixcbiAgICAgIGhlYWRlck1pbixcbiAgICAgIGZvb3RlcixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lLFxuICAgICAgdG9nZ2xlQnV0dG9uVGV4dCxcbiAgICAgIC4uLnJvb3RQcm9wc1xuICAgIH0sXG4gICAgcmVmXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoe30pO1xuICAgIGNvbnN0IHtcbiAgICAgIGlzU2lkZWJhckNvbGxhcHNlZCxcbiAgICAgIHRvZ2dsZVNpZGViYXJDb2xsYXBzZWQsXG4gICAgICBpc1NpZGViYXJDb2xsYXBzZURpc2FibGVkLFxuICAgIH0gPSB1c2VMYXlvdXRNYW5hZ2VyKCk7XG5cbiAgICBjb25zdCBIQU5ETEVSUyA9IHtcbiAgICAgIFRPR0dMRV9TSURFX0JBUjogdG9nZ2xlU2lkZWJhckNvbGxhcHNlZCxcbiAgICB9O1xuXG4gICAgY29uc3Qgc2hvd0hlYWRlciA9XG4gICAgICAoaGVhZGVyTWluICYmIGlzU2lkZWJhckNvbGxhcHNlZCkgfHwgKGhlYWRlciAmJiAhaXNTaWRlYmFyQ29sbGFwc2VkKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bmF2XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpfVxuICAgICAgICBhcmlhLWxhYmVsPVwiUHJpbWFyeVwiXG4gICAgICAgIHJvbGU9XCJuYXZpZ2F0aW9uXCJcbiAgICAgICAgey4uLnJvb3RQcm9wc31cbiAgICAgID5cbiAgICAgICAgey8qIEhlYWRlciB3aXRoIG9wdGlvbmFsIGhlYWRlciBjb250ZW50ICovfVxuICAgICAgICB7c2hvd0hlYWRlciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuaGVhZGVyfSB7Li4uZ2V0VGVzdFByb3BzKHRlc3RJZHMuaGVhZGVyUm9vdCl9PlxuICAgICAgICAgICAge2hlYWRlck1pbiAmJiBpc1NpZGViYXJDb2xsYXBzZWQgJiYgKFxuICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJOYXZpZ2F0aW9uIEhlYWRlciBTZWN0aW9uIENvbGxhcHNlZFwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5oZWFkZXJDb250ZW50LFxuICAgICAgICAgICAgICAgICAgY2xhc3Nlcy5oZWFkZXJDb250ZW50TWluXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7XG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogeyBkZWxheTogMC4yNSwgZHVyYXRpb246IDAuMjUgfSxcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge2hlYWRlck1pbn1cbiAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtoZWFkZXIgJiYgIWlzU2lkZWJhckNvbGxhcHNlZCAmJiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIk5hdmlnYXRpb24gSGVhZGVyIFNlY3Rpb25cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLmhlYWRlckNvbnRlbnQpfVxuICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e3tcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiB7IGRlbGF5OiAwLjIsIGR1cmF0aW9uOiAwLjI1IH0sXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtoZWFkZXJ9XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIE5hdiBpdGVtcyBhcmUgcmVuZGVyZWQgYXMgY2hpbGRyZW4gaW4gYSB1bCAgKi99XG4gICAgICAgIDxtb3Rpb24udWxcbiAgICAgICAgICB2YXJpYW50cz17TkFWX0xJU1RfVFJBTlNJVElPTl9WQVJJQU5UU31cbiAgICAgICAgICBhbmltYXRlPXtpc1NpZGViYXJDb2xsYXBzZWQgPyAnaGlkZScgOiAnc2hvdyd9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMubmF2SXRlbXMpfVxuICAgICAgICA+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L21vdGlvbi51bD5cblxuICAgICAgICB7LyogT3B0aW9uYWwgZm9vdGVyIHNlY3Rpb24gKi99XG4gICAgICAgIHshaXNTaWRlYmFyQ29sbGFwc2VkICYmICEhZm9vdGVyICYmIChcbiAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwIH19XG4gICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHRyYW5zaXRpb246IHsgZHVyYXRpb246IGluRHVyYXRpb24gfSB9fVxuICAgICAgICAgICAgZXhpdD17eyBvcGFjaXR5OiAwLCB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiBvdXREdXJhdGlvbiB9IH19XG4gICAgICAgICAgICBjbGFzc05hbWU9e2NsYXNzZXMuZm9vdGVyfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtmb290ZXJ9XG4gICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBWZXJ5IGJvdHRvbSB0b2dnbGUgc2VjdGlvbiAqL31cbiAgICAgICAgeyFpc1NpZGViYXJDb2xsYXBzZURpc2FibGVkICYmIChcbiAgICAgICAgICA8R2xvYmFsSG90S2V5cyBrZXlNYXA9e0tFWV9NQVB9IGhhbmRsZXJzPXtIQU5ETEVSU30+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5mb290VG9nZ2xlfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVTaWRlYmFyQ29sbGFwc2VkfVxuICAgICAgICAgICAgICByb2xlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICBhcmlhLWNoZWNrZWQ9e2lzU2lkZWJhckNvbGxhcHNlZH1cbiAgICAgICAgICAgICAgey4uLmdldFRlc3RQcm9wcyh0ZXN0SWRzLnRvZ2dsZUJ1dHRvbil9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y2xhc3Nlcy5mb290VG9nZ2xlQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICA8U2lkZWJhciBhcmlhLWhpZGRlbiAvPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDxtb3Rpb24uc3BhblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy50b2dnbGVUZXh0fVxuICAgICAgICAgICAgICAgIGFuaW1hdGU9e2lzU2lkZWJhckNvbGxhcHNlZCA/ICdoaWRlJyA6ICdzaG93J31cbiAgICAgICAgICAgICAgICB2YXJpYW50cz17U0hBUkVEX1RSQU5TSVRJT05fVkFSSUFOVFN9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7dG9nZ2xlQnV0dG9uVGV4dCB8fCAnVG9nZ2xlIFNpZGViYXInfVxuICAgICAgICAgICAgICA8L21vdGlvbi5zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9HbG9iYWxIb3RLZXlzPlxuICAgICAgICApfVxuICAgICAgPC9uYXY+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==