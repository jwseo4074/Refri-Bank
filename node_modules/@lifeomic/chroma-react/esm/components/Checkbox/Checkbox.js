var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { makeStyles } from '../../styles';
import { buildDescribedBy, errorFor, FormErrorMessage, FormHelpMessage, helpFor, } from '../_private/forms';
import { generateUniqueId } from '../_private/UniqueId';
import { Text } from '../Text';
import { motion, useMotionValue, useTransform } from 'framer-motion';
import 'focus-visible';
import { screenreaderOnlyStyles } from '../../styles/screenreaderOnly';
export var CheckboxStylesKey = 'ChromaCheckbox';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        // All values that are animated to/from need to be specified as css variables for the
        // framer-motion library to handle the animations correctly (no mix of hex/rgb + variables)
        '--checkbox-primary': theme.palette.primary.main,
        '--checkbox-emphasis': theme.palette.primary[900],
        '--checkbox-secondary': theme.palette.graphite[100],
        '--checkbox-secondary-emphasis': theme.palette.graphite[900],
        '--checkbox-error': theme.palette.error[900],
        '--checkbox-inverse': theme.palette.common.white,
        '--tick-primary': theme.palette.common.white,
        '--tick-disabled': theme.palette.black[400],
        display: 'flex',
        flexFlow: 'column',
        position: 'relative',
        '& > p': {
            marginLeft: theme.pxToRem(29),
        },
    },
    input: {
        cursor: 'pointer',
        height: theme.pxToRem(16),
        left: 0,
        opacity: 0,
        position: 'absolute',
        transition: '0.35s ease-in',
        top: 0,
        width: theme.pxToRem(16),
        '&:disabled, &:disabled + $labelContainer, &:disabled + $labelContainer *': {
            cursor: 'not-allowed',
        },
        '&:focus.focus-visible + $labelContainer $box': {
            stroke: theme.palette.primary.main,
            strokeOpacity: 0.5,
            strokeWidth: 2.5,
            transition: '0.35s ease-out',
        },
    },
    inputInverse: {
        '&:focus.focus-visible + $labelContainer $box': {
            stroke: theme.palette.common.white,
        },
    },
    labelContainer: {
        flex: 1,
        zIndex: 2,
    },
    label: {
        cursor: 'pointer',
        display: 'inline-flex',
        marginBottom: 0,
        verticalAlign: 'top',
        '& p': {
            lineHeight: 1.25,
            marginTop: theme.spacing(0.25),
            marginLeft: theme.spacing(1),
        },
    },
    labelInverse: {
        color: theme.palette.common.white,
    },
    svg: {
        minWidth: theme.pxToRem(21),
        minHeight: theme.pxToRem(21),
        zIndex: 2,
    },
    box: {},
    srOnly: __assign({}, screenreaderOnlyStyles),
}); }, { name: CheckboxStylesKey });
var getBoxVariants = function (_a) {
    var disabled = _a.disabled, hasError = _a.hasError, color = _a.color;
    if (disabled && color === 'default') {
        return disabledDefaultBoxVariants;
    }
    if (disabled && color === 'inverse') {
        return disabledInverseBoxVariants;
    }
    if (hasError && color === 'default') {
        return defaultHasErrorBoxVariants;
    }
    if (hasError && color === 'inverse') {
        return inverseHasErrorBoxVariants;
    }
    if (color === 'inverse') {
        return boxInverseVariants;
    }
    return boxVariants;
};
var getTickVariants = function (_a) {
    var disabled = _a.disabled, color = _a.color, indeterminate = _a.indeterminate;
    if (disabled && color === 'inverse') {
        return disabledInverseTickVariants;
    }
    if (disabled && indeterminate) {
        return indeterminateDisabledTickVariants;
    }
    if (disabled) {
        return disabledDefaultTickVariants;
    }
    if (indeterminate) {
        return indeterminateDefaultTickVariants;
    }
    return tickVariants;
};
var tickVariants = {
    pressed: function (isChecked) { return ({
        pathLength: isChecked ? 0.85 : 0.2,
    }); },
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 1,
    },
    unchecked: { pathLength: 0 },
};
var disabledDefaultTickVariants = {
    checked: {
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
        pathLength: 1,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
};
var disabledInverseTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 0.65,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-primary)',
        strokeOpacity: 0.65,
    },
};
var indeterminateDefaultTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-primary)',
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-primary)',
    },
};
var indeterminateDisabledTickVariants = {
    checked: {
        pathLength: 1,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
    unchecked: {
        pathLength: 0,
        stroke: 'var(--tick-disabled)',
        strokeOpacity: 0.65,
    },
};
var checkedBox = {
    fill: 'var(--checkbox-primary)',
    fillOpacity: 1,
    stroke: 'var(--checkbox-primary)',
    strokeWidth: 0,
};
var hoverBox = {
    strokeOpacity: 1,
    strokeWidth: 2,
};
var pressedBox = {
    fill: 'var(--checkbox-emphasis)',
    fillOpacity: 1,
    scale: 0.9,
    stroke: 'var(--checkbox-emphasis)',
};
var errorUncheckedBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.25,
    stroke: 'var(--checkbox-error)',
    strokeOpacity: 1,
    strokeWidth: 1,
};
var disabledBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.5,
    strokeWidth: 0,
};
var disabledInverseBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.1,
    stroke: 'var(--checkbox-secondary)',
    strokeOpacity: 0.25,
    strokeWidth: 1,
};
var inverseBox = {
    fill: 'var(--checkbox-secondary)',
    fillOpacity: 0.1,
    stroke: 'var(--checkbox-secondary)',
    strokeOpacity: 0.55,
    strokeWidth: 1,
};
var boxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-primary)' }),
    pressed: pressedBox,
    checked: checkedBox,
    unchecked: {
        fill: 'var(--checkbox-secondary-emphasis)',
        fillOpacity: 0.15,
        stroke: 'var(--checkbox-primary)',
    },
};
var boxInverseVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-inverse)' }),
    pressed: pressedBox,
    checked: inverseBox,
    unchecked: inverseBox,
};
var disabledDefaultBoxVariants = {
    checked: disabledBox,
    unchecked: disabledBox,
};
var disabledInverseBoxVariants = {
    checked: disabledInverseBox,
    unchecked: disabledInverseBox,
};
var defaultHasErrorBoxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-error)' }),
    pressed: pressedBox,
    checked: checkedBox,
    unchecked: errorUncheckedBox,
};
var inverseHasErrorBoxVariants = {
    hover: __assign(__assign({}, hoverBox), { stroke: 'var(--checkbox-error)' }),
    pressed: pressedBox,
    checked: inverseBox,
    unchecked: errorUncheckedBox,
};
export var Checkbox = React.forwardRef(function (_a, ref) {
    var _b;
    var ariaLabel = _a["aria-label"], checked = _a.checked, className = _a.className, additionalClasses = _a.classes, _c = _a.color, color = _c === void 0 ? 'default' : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, errorMessage = _a.errorMessage, hasError = _a.hasError, helpMessage = _a.helpMessage, _e = _a.indeterminate, indeterminate = _e === void 0 ? false : _e, id = _a.id, label = _a.label, name = _a.name, rootProps = __rest(_a, ['aria-label', "checked", "className", "classes", "color", "disabled", "errorMessage", "hasError", "helpMessage", "indeterminate", "id", "label", "name"]);
    var classes = useStyles({ classes: additionalClasses });
    var uniqueId = React.useState(function () { return id || name || generateUniqueId('checkbox-'); })[0];
    var pathLength = useMotionValue(0);
    var opacity = useTransform(pathLength, [0.05, 0.15], [0, 1]);
    if (!label && !ariaLabel && process.env.NODE_ENV === 'development') {
        throw new Error('If a "label" is not provided to Checkbox, please provide "aria-label".');
    }
    var variant = [
        checked ? 'checked' : 'unchecked',
        disabled ? 'disabled' : 'enabled',
    ];
    return (React.createElement(motion.div, { className: clsx(classes.root, className), animate: variant, initial: false, whileHover: "hover", whileTap: "pressed" },
        React.createElement("input", __assign({ "aria-describedby": buildDescribedBy({
                hasError: hasError,
                hasHelpMessage: !!helpMessage,
                uniqueId: uniqueId,
            }), "aria-checked": checked && !indeterminate
                ? 'true'
                : !checked && !indeterminate
                    ? 'false'
                    : !checked && indeterminate
                        ? 'mixed'
                        : 'false', className: clsx(classes.input, (_b = {},
                _b[classes.inputInverse] = color === 'inverse',
                _b)), ref: ref, type: "checkbox", id: uniqueId, name: name, checked: checked, disabled: disabled, tabIndex: 0 }, rootProps)),
        React.createElement("div", { className: classes.labelContainer },
            React.createElement(motion.label, { className: classes.label, htmlFor: uniqueId, animate: variant, whileHover: "hover", whileTap: "pressed" },
                React.createElement(motion.svg, { className: classes.svg, width: "21", height: "21", viewBox: "0 0 21 21" },
                    React.createElement(motion.path, { className: classes.box, d: "M1,5.524A4.523,4.523,0,0,1,5.524,1h9.952A4.523,4.523,0,0,1,20,5.524v9.952A4.523,4.523,0,0,1,15.476,20H5.524A4.523,4.523,0,0,1,1,15.476Z", fill: "transparent", stroke: "var(--checkbox-secondary-emphasis)", strokeOpacity: "0", strokeMiterlimit: "10", strokeWidth: "2", variants: getBoxVariants({
                            disabled: disabled,
                            hasError: hasError,
                            color: color,
                        }) }),
                    indeterminate && disabled ? (React.createElement(motion.path, { d: "M6.5,10.458h8", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                            disabled: disabled,
                            indeterminate: indeterminate,
                            color: color,
                        }) })) : indeterminate ? (React.createElement(React.Fragment, null,
                        React.createElement(motion.path, { d: "M10.5,10.458h-4", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                                disabled: disabled,
                                indeterminate: indeterminate,
                                color: color,
                            }) }),
                        React.createElement(motion.path, { d: "M10.5,10.458h4", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({
                                disabled: disabled,
                                indeterminate: indeterminate,
                                color: color,
                            }) }))) : (React.createElement(motion.path, { d: "M5.761,11.962l2.187,2.187,7.291-7.3", fill: "transparent", strokeWidth: "2.25", stroke: "#FFFFFF", strokeOpacity: "1", strokeLinecap: "round", strokeLinejoin: "round", style: { pathLength: pathLength, opacity: opacity }, custom: checked, variants: getTickVariants({ disabled: disabled, indeterminate: indeterminate, color: color }) }))),
                React.createElement(Text, { size: "subbody", className: clsx(color === 'inverse' ? classes.labelInverse : undefined, !label && ariaLabel && classes.srOnly) }, label || ariaLabel))),
        helpMessage && (React.createElement(FormHelpMessage, { color: color, rootElementId: uniqueId, describedById: helpFor(uniqueId) }, helpMessage)),
        hasError && (React.createElement(FormErrorMessage, { color: color, rootElementId: uniqueId, describedById: errorFor(uniqueId) }, errorMessage))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hlY2tib3guanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9DaGVja2JveC9DaGVja2JveC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRTFDLE9BQU8sRUFFTCxnQkFBZ0IsRUFDaEIsUUFBUSxFQUNSLGdCQUFnQixFQUNoQixlQUFlLEVBQ2YsT0FBTyxHQUNSLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDeEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUMvQixPQUFPLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDckUsT0FBTyxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFdkUsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7QUFFbEQsTUFBTSxDQUFDLElBQU0sU0FBUyxHQUFHLFVBQVUsQ0FDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsSUFBSSxFQUFFO1FBQ0oscUZBQXFGO1FBQ3JGLDJGQUEyRjtRQUMzRixvQkFBb0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJO1FBQ2hELHFCQUFxQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUNqRCxzQkFBc0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUM7UUFDbkQsK0JBQStCLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDO1FBQzVELGtCQUFrQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztRQUM1QyxvQkFBb0IsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ2hELGdCQUFnQixFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUs7UUFDNUMsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQzNDLE9BQU8sRUFBRSxNQUFNO1FBQ2YsUUFBUSxFQUFFLFFBQVE7UUFDbEIsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFO1lBQ1AsVUFBVSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1NBQzlCO0tBQ0Y7SUFDRCxLQUFLLEVBQUU7UUFDTCxNQUFNLEVBQUUsU0FBUztRQUNqQixNQUFNLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDekIsSUFBSSxFQUFFLENBQUM7UUFDUCxPQUFPLEVBQUUsQ0FBQztRQUNWLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLFVBQVUsRUFBRSxlQUFlO1FBQzNCLEdBQUcsRUFBRSxDQUFDO1FBQ04sS0FBSyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQ3hCLDBFQUEwRSxFQUFFO1lBQzFFLE1BQU0sRUFBRSxhQUFhO1NBQ3RCO1FBQ0QsOENBQThDLEVBQUU7WUFDOUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUk7WUFDbEMsYUFBYSxFQUFFLEdBQUc7WUFDbEIsV0FBVyxFQUFFLEdBQUc7WUFDaEIsVUFBVSxFQUFFLGdCQUFnQjtTQUM3QjtLQUNGO0lBQ0QsWUFBWSxFQUFFO1FBQ1osOENBQThDLEVBQUU7WUFDOUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUs7U0FDbkM7S0FDRjtJQUNELGNBQWMsRUFBRTtRQUNkLElBQUksRUFBRSxDQUFDO1FBQ1AsTUFBTSxFQUFFLENBQUM7S0FDVjtJQUNELEtBQUssRUFBRTtRQUNMLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE9BQU8sRUFBRSxhQUFhO1FBQ3RCLFlBQVksRUFBRSxDQUFDO1FBQ2YsYUFBYSxFQUFFLEtBQUs7UUFDcEIsS0FBSyxFQUFFO1lBQ0wsVUFBVSxFQUFFLElBQUk7WUFDaEIsU0FBUyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQzlCLFVBQVUsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUM3QjtLQUNGO0lBQ0QsWUFBWSxFQUFFO1FBQ1osS0FBSyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUs7S0FDbEM7SUFDRCxHQUFHLEVBQUU7UUFDSCxRQUFRLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUM7UUFDM0IsU0FBUyxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1FBQzVCLE1BQU0sRUFBRSxDQUFDO0tBQ1Y7SUFDRCxHQUFHLEVBQUUsRUFBRTtJQUNQLE1BQU0sZUFDRCxzQkFBc0IsQ0FDMUI7Q0FDRixDQUFDLEVBdEVTLENBc0VULEVBQ0YsRUFBRSxJQUFJLEVBQUUsaUJBQWlCLEVBQUUsQ0FDNUIsQ0FBQztBQUVGLElBQU0sY0FBYyxHQUFHLFVBQUMsRUFRdkI7UUFQQyxRQUFRLGNBQUEsRUFDUixRQUFRLGNBQUEsRUFDUixLQUFLLFdBQUE7SUFNTCxJQUFJLFFBQVEsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ25DLE9BQU8sMEJBQTBCLENBQUM7S0FDbkM7SUFDRCxJQUFJLFFBQVEsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ25DLE9BQU8sMEJBQTBCLENBQUM7S0FDbkM7SUFDRCxJQUFJLFFBQVEsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ25DLE9BQU8sMEJBQTBCLENBQUM7S0FDbkM7SUFDRCxJQUFJLFFBQVEsSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQ25DLE9BQU8sMEJBQTBCLENBQUM7S0FDbkM7SUFDRCxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7UUFDdkIsT0FBTyxrQkFBa0IsQ0FBQztLQUMzQjtJQUNELE9BQU8sV0FBVyxDQUFDO0FBQ3JCLENBQUMsQ0FBQztBQUVGLElBQU0sZUFBZSxHQUFHLFVBQUMsRUFReEI7UUFQQyxRQUFRLGNBQUEsRUFDUixLQUFLLFdBQUEsRUFDTCxhQUFhLG1CQUFBO0lBTWIsSUFBSSxRQUFRLElBQUksS0FBSyxLQUFLLFNBQVMsRUFBRTtRQUNuQyxPQUFPLDJCQUEyQixDQUFDO0tBQ3BDO0lBQ0QsSUFBSSxRQUFRLElBQUksYUFBYSxFQUFFO1FBQzdCLE9BQU8saUNBQWlDLENBQUM7S0FDMUM7SUFDRCxJQUFJLFFBQVEsRUFBRTtRQUNaLE9BQU8sMkJBQTJCLENBQUM7S0FDcEM7SUFDRCxJQUFJLGFBQWEsRUFBRTtRQUNqQixPQUFPLGdDQUFnQyxDQUFDO0tBQ3pDO0lBQ0QsT0FBTyxZQUFZLENBQUM7QUFDdEIsQ0FBQyxDQUFDO0FBRUYsSUFBTSxZQUFZLEdBQUc7SUFDbkIsT0FBTyxFQUFFLFVBQUMsU0FBa0IsSUFBSyxPQUFBLENBQUM7UUFDaEMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHO0tBQ25DLENBQUMsRUFGK0IsQ0FFL0I7SUFDRixPQUFPLEVBQUU7UUFDUCxVQUFVLEVBQUUsQ0FBQztRQUNiLE1BQU0sRUFBRSxxQkFBcUI7UUFDN0IsYUFBYSxFQUFFLENBQUM7S0FDakI7SUFDRCxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFO0NBQzdCLENBQUM7QUFFRixJQUFNLDJCQUEyQixHQUFHO0lBQ2xDLE9BQU8sRUFBRTtRQUNQLE1BQU0sRUFBRSxzQkFBc0I7UUFDOUIsYUFBYSxFQUFFLElBQUk7UUFDbkIsVUFBVSxFQUFFLENBQUM7S0FDZDtJQUNELFNBQVMsRUFBRTtRQUNULFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHNCQUFzQjtRQUM5QixhQUFhLEVBQUUsSUFBSTtLQUNwQjtDQUNGLENBQUM7QUFFRixJQUFNLDJCQUEyQixHQUFHO0lBQ2xDLE9BQU8sRUFBRTtRQUNQLFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHFCQUFxQjtRQUM3QixhQUFhLEVBQUUsSUFBSTtLQUNwQjtJQUNELFNBQVMsRUFBRTtRQUNULFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHFCQUFxQjtRQUM3QixhQUFhLEVBQUUsSUFBSTtLQUNwQjtDQUNGLENBQUM7QUFFRixJQUFNLGdDQUFnQyxHQUFHO0lBQ3ZDLE9BQU8sRUFBRTtRQUNQLFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHFCQUFxQjtLQUM5QjtJQUNELFNBQVMsRUFBRTtRQUNULFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHFCQUFxQjtLQUM5QjtDQUNGLENBQUM7QUFFRixJQUFNLGlDQUFpQyxHQUFHO0lBQ3hDLE9BQU8sRUFBRTtRQUNQLFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHNCQUFzQjtRQUM5QixhQUFhLEVBQUUsSUFBSTtLQUNwQjtJQUNELFNBQVMsRUFBRTtRQUNULFVBQVUsRUFBRSxDQUFDO1FBQ2IsTUFBTSxFQUFFLHNCQUFzQjtRQUM5QixhQUFhLEVBQUUsSUFBSTtLQUNwQjtDQUNGLENBQUM7QUFFRixJQUFNLFVBQVUsR0FBRztJQUNqQixJQUFJLEVBQUUseUJBQXlCO0lBQy9CLFdBQVcsRUFBRSxDQUFDO0lBQ2QsTUFBTSxFQUFFLHlCQUF5QjtJQUNqQyxXQUFXLEVBQUUsQ0FBQztDQUNmLENBQUM7QUFFRixJQUFNLFFBQVEsR0FBRztJQUNmLGFBQWEsRUFBRSxDQUFDO0lBQ2hCLFdBQVcsRUFBRSxDQUFDO0NBQ2YsQ0FBQztBQUVGLElBQU0sVUFBVSxHQUFHO0lBQ2pCLElBQUksRUFBRSwwQkFBMEI7SUFDaEMsV0FBVyxFQUFFLENBQUM7SUFDZCxLQUFLLEVBQUUsR0FBRztJQUNWLE1BQU0sRUFBRSwwQkFBMEI7Q0FDbkMsQ0FBQztBQUVGLElBQU0saUJBQWlCLEdBQUc7SUFDeEIsSUFBSSxFQUFFLDJCQUEyQjtJQUNqQyxXQUFXLEVBQUUsSUFBSTtJQUNqQixNQUFNLEVBQUUsdUJBQXVCO0lBQy9CLGFBQWEsRUFBRSxDQUFDO0lBQ2hCLFdBQVcsRUFBRSxDQUFDO0NBQ2YsQ0FBQztBQUVGLElBQU0sV0FBVyxHQUFHO0lBQ2xCLElBQUksRUFBRSwyQkFBMkI7SUFDakMsV0FBVyxFQUFFLEdBQUc7SUFDaEIsV0FBVyxFQUFFLENBQUM7Q0FDZixDQUFDO0FBRUYsSUFBTSxrQkFBa0IsR0FBRztJQUN6QixJQUFJLEVBQUUsMkJBQTJCO0lBQ2pDLFdBQVcsRUFBRSxHQUFHO0lBQ2hCLE1BQU0sRUFBRSwyQkFBMkI7SUFDbkMsYUFBYSxFQUFFLElBQUk7SUFDbkIsV0FBVyxFQUFFLENBQUM7Q0FDZixDQUFDO0FBRUYsSUFBTSxVQUFVLEdBQUc7SUFDakIsSUFBSSxFQUFFLDJCQUEyQjtJQUNqQyxXQUFXLEVBQUUsR0FBRztJQUNoQixNQUFNLEVBQUUsMkJBQTJCO0lBQ25DLGFBQWEsRUFBRSxJQUFJO0lBQ25CLFdBQVcsRUFBRSxDQUFDO0NBQ2YsQ0FBQztBQUVGLElBQU0sV0FBVyxHQUFHO0lBQ2xCLEtBQUssd0JBQ0EsUUFBUSxLQUNYLE1BQU0sRUFBRSx5QkFBeUIsR0FDbEM7SUFDRCxPQUFPLEVBQUUsVUFBVTtJQUNuQixPQUFPLEVBQUUsVUFBVTtJQUNuQixTQUFTLEVBQUU7UUFDVCxJQUFJLEVBQUUsb0NBQW9DO1FBQzFDLFdBQVcsRUFBRSxJQUFJO1FBQ2pCLE1BQU0sRUFBRSx5QkFBeUI7S0FDbEM7Q0FDRixDQUFDO0FBRUYsSUFBTSxrQkFBa0IsR0FBRztJQUN6QixLQUFLLHdCQUFPLFFBQVEsS0FBRSxNQUFNLEVBQUUseUJBQXlCLEdBQUU7SUFDekQsT0FBTyxFQUFFLFVBQVU7SUFDbkIsT0FBTyxFQUFFLFVBQVU7SUFDbkIsU0FBUyxFQUFFLFVBQVU7Q0FDdEIsQ0FBQztBQUVGLElBQU0sMEJBQTBCLEdBQUc7SUFDakMsT0FBTyxFQUFFLFdBQVc7SUFDcEIsU0FBUyxFQUFFLFdBQVc7Q0FDdkIsQ0FBQztBQUVGLElBQU0sMEJBQTBCLEdBQUc7SUFDakMsT0FBTyxFQUFFLGtCQUFrQjtJQUMzQixTQUFTLEVBQUUsa0JBQWtCO0NBQzlCLENBQUM7QUFFRixJQUFNLDBCQUEwQixHQUFHO0lBQ2pDLEtBQUssd0JBQU8sUUFBUSxLQUFFLE1BQU0sRUFBRSx1QkFBdUIsR0FBRTtJQUN2RCxPQUFPLEVBQUUsVUFBVTtJQUNuQixPQUFPLEVBQUUsVUFBVTtJQUNuQixTQUFTLEVBQUUsaUJBQWlCO0NBQzdCLENBQUM7QUFFRixJQUFNLDBCQUEwQixHQUFHO0lBQ2pDLEtBQUssd0JBQU8sUUFBUSxLQUFFLE1BQU0sRUFBRSx1QkFBdUIsR0FBRTtJQUN2RCxPQUFPLEVBQUUsVUFBVTtJQUNuQixPQUFPLEVBQUUsVUFBVTtJQUNuQixTQUFTLEVBQUUsaUJBQWlCO0NBQzdCLENBQUM7QUFPRixNQUFNLENBQUMsSUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FDdEMsVUFDRSxFQWVDLEVBQ0QsR0FBRzs7SUFmRCxJQUFnQixTQUFTLG1CQUFBLEVBQ3pCLE9BQU8sYUFBQSxFQUNQLFNBQVMsZUFBQSxFQUNBLGlCQUFpQixhQUFBLEVBQzFCLGFBQWlCLEVBQWpCLEtBQUssbUJBQUcsU0FBUyxLQUFBLEVBQ2pCLGdCQUFnQixFQUFoQixRQUFRLG1CQUFHLEtBQUssS0FBQSxFQUNoQixZQUFZLGtCQUFBLEVBQ1osUUFBUSxjQUFBLEVBQ1IsV0FBVyxpQkFBQSxFQUNYLHFCQUFxQixFQUFyQixhQUFhLG1CQUFHLEtBQUssS0FBQSxFQUNyQixFQUFFLFFBQUEsRUFDRixLQUFLLFdBQUEsRUFDTCxJQUFJLFVBQUEsRUFDRCxTQUFTLGNBZGQseUpBZUMsQ0FEYTtJQUlkLElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxDQUFDLENBQUM7SUFFbkQsSUFBQSxRQUFRLEdBQUksS0FBSyxDQUFDLFFBQVEsQ0FDL0IsY0FBTSxPQUFBLEVBQUUsSUFBSSxJQUFJLElBQUksZ0JBQWdCLENBQUMsV0FBVyxDQUFDLEVBQTNDLENBQTJDLENBQ2xELEdBRmMsQ0FFYjtJQUVGLElBQU0sVUFBVSxHQUFHLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxJQUFNLE9BQU8sR0FBRyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFL0QsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLFNBQVMsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxhQUFhLEVBQUU7UUFDbEUsTUFBTSxJQUFJLEtBQUssQ0FDYix3RUFBd0UsQ0FDekUsQ0FBQztLQUNIO0lBRUQsSUFBTSxPQUFPLEdBQUc7UUFDZCxPQUFPLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsV0FBVztRQUNqQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsU0FBUztLQUNsQyxDQUFDO0lBRUYsT0FBTyxDQUNMLG9CQUFDLE1BQU0sQ0FBQyxHQUFHLElBQ1QsU0FBUyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxFQUN4QyxPQUFPLEVBQUUsT0FBTyxFQUNoQixPQUFPLEVBQUUsS0FBSyxFQUNkLFVBQVUsRUFBQyxPQUFPLEVBQ2xCLFFBQVEsRUFBQyxTQUFTO1FBRWxCLDREQUNvQixnQkFBZ0IsQ0FBQztnQkFDakMsUUFBUSxVQUFBO2dCQUNSLGNBQWMsRUFBRSxDQUFDLENBQUMsV0FBVztnQkFDN0IsUUFBUSxVQUFBO2FBQ1QsQ0FBQyxrQkFFQSxPQUFPLElBQUksQ0FBQyxhQUFhO2dCQUN2QixDQUFDLENBQUMsTUFBTTtnQkFDUixDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxhQUFhO29CQUM1QixDQUFDLENBQUMsT0FBTztvQkFDVCxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksYUFBYTt3QkFDM0IsQ0FBQyxDQUFDLE9BQU87d0JBQ1QsQ0FBQyxDQUFDLE9BQU8sRUFFYixTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLO2dCQUMzQixHQUFDLE9BQU8sQ0FBQyxZQUFZLElBQUcsS0FBSyxLQUFLLFNBQVM7b0JBQzNDLEVBQ0YsR0FBRyxFQUFFLEdBQUcsRUFDUixJQUFJLEVBQUMsVUFBVSxFQUNmLEVBQUUsRUFBRSxRQUFRLEVBQ1osSUFBSSxFQUFFLElBQUksRUFDVixPQUFPLEVBQUUsT0FBTyxFQUNoQixRQUFRLEVBQUUsUUFBUSxFQUNsQixRQUFRLEVBQUUsQ0FBQyxJQUNQLFNBQVMsRUFDYjtRQUNGLDZCQUFLLFNBQVMsRUFBRSxPQUFPLENBQUMsY0FBYztZQUNwQyxvQkFBQyxNQUFNLENBQUMsS0FBSyxJQUNYLFNBQVMsRUFBRSxPQUFPLENBQUMsS0FBSyxFQUN4QixPQUFPLEVBQUUsUUFBUSxFQUNqQixPQUFPLEVBQUUsT0FBTyxFQUNoQixVQUFVLEVBQUMsT0FBTyxFQUNsQixRQUFRLEVBQUMsU0FBUztnQkFFbEIsb0JBQUMsTUFBTSxDQUFDLEdBQUcsSUFDVCxTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFDdEIsS0FBSyxFQUFDLElBQUksRUFDVixNQUFNLEVBQUMsSUFBSSxFQUNYLE9BQU8sRUFBQyxXQUFXO29CQUVuQixvQkFBQyxNQUFNLENBQUMsSUFBSSxJQUNWLFNBQVMsRUFBRSxPQUFPLENBQUMsR0FBRyxFQUN0QixDQUFDLEVBQUMseUlBQXlJLEVBQzNJLElBQUksRUFBQyxhQUFhLEVBQ2xCLE1BQU0sRUFBQyxvQ0FBb0MsRUFDM0MsYUFBYSxFQUFDLEdBQUcsRUFDakIsZ0JBQWdCLEVBQUMsSUFBSSxFQUNyQixXQUFXLEVBQUMsR0FBRyxFQUNmLFFBQVEsRUFBRSxjQUFjLENBQUM7NEJBQ3ZCLFFBQVEsVUFBQTs0QkFDUixRQUFRLFVBQUE7NEJBQ1IsS0FBSyxPQUFBO3lCQUNOLENBQUMsR0FDRjtvQkFDRCxhQUFhLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUMzQixvQkFBQyxNQUFNLENBQUMsSUFBSSxJQUNWLENBQUMsRUFBQyxlQUFlLEVBQ2pCLElBQUksRUFBQyxhQUFhLEVBQ2xCLFdBQVcsRUFBQyxNQUFNLEVBQ2xCLE1BQU0sRUFBQyxTQUFTLEVBQ2hCLGFBQWEsRUFBQyxPQUFPLEVBQ3JCLGNBQWMsRUFBQyxPQUFPLEVBQ3RCLEtBQUssRUFBRSxFQUFFLFVBQVUsWUFBQSxFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQzlCLE1BQU0sRUFBRSxPQUFPLEVBQ2YsUUFBUSxFQUFFLGVBQWUsQ0FBQzs0QkFDeEIsUUFBUSxVQUFBOzRCQUNSLGFBQWEsZUFBQTs0QkFDYixLQUFLLE9BQUE7eUJBQ04sQ0FBQyxHQUNGLENBQ0gsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUNsQjt3QkFDRSxvQkFBQyxNQUFNLENBQUMsSUFBSSxJQUNWLENBQUMsRUFBQyxpQkFBaUIsRUFDbkIsSUFBSSxFQUFDLGFBQWEsRUFDbEIsV0FBVyxFQUFDLE1BQU0sRUFDbEIsTUFBTSxFQUFDLFNBQVMsRUFDaEIsYUFBYSxFQUFDLE9BQU8sRUFDckIsY0FBYyxFQUFDLE9BQU8sRUFDdEIsS0FBSyxFQUFFLEVBQUUsVUFBVSxZQUFBLEVBQUUsT0FBTyxTQUFBLEVBQUUsRUFDOUIsTUFBTSxFQUFFLE9BQU8sRUFDZixRQUFRLEVBQUUsZUFBZSxDQUFDO2dDQUN4QixRQUFRLFVBQUE7Z0NBQ1IsYUFBYSxlQUFBO2dDQUNiLEtBQUssT0FBQTs2QkFDTixDQUFDLEdBQ0Y7d0JBQ0Ysb0JBQUMsTUFBTSxDQUFDLElBQUksSUFDVixDQUFDLEVBQUMsZ0JBQWdCLEVBQ2xCLElBQUksRUFBQyxhQUFhLEVBQ2xCLFdBQVcsRUFBQyxNQUFNLEVBQ2xCLE1BQU0sRUFBQyxTQUFTLEVBQ2hCLGFBQWEsRUFBQyxPQUFPLEVBQ3JCLGNBQWMsRUFBQyxPQUFPLEVBQ3RCLEtBQUssRUFBRSxFQUFFLFVBQVUsWUFBQSxFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQzlCLE1BQU0sRUFBRSxPQUFPLEVBQ2YsUUFBUSxFQUFFLGVBQWUsQ0FBQztnQ0FDeEIsUUFBUSxVQUFBO2dDQUNSLGFBQWEsZUFBQTtnQ0FDYixLQUFLLE9BQUE7NkJBQ04sQ0FBQyxHQUNGLENBQ0QsQ0FDSixDQUFDLENBQUMsQ0FBQyxDQUNGLG9CQUFDLE1BQU0sQ0FBQyxJQUFJLElBQ1YsQ0FBQyxFQUFDLHFDQUFxQyxFQUN2QyxJQUFJLEVBQUMsYUFBYSxFQUNsQixXQUFXLEVBQUMsTUFBTSxFQUNsQixNQUFNLEVBQUMsU0FBUyxFQUNoQixhQUFhLEVBQUMsR0FBRyxFQUNqQixhQUFhLEVBQUMsT0FBTyxFQUNyQixjQUFjLEVBQUMsT0FBTyxFQUN0QixLQUFLLEVBQUUsRUFBRSxVQUFVLFlBQUEsRUFBRSxPQUFPLFNBQUEsRUFBRSxFQUM5QixNQUFNLEVBQUUsT0FBTyxFQUNmLFFBQVEsRUFBRSxlQUFlLENBQUMsRUFBRSxRQUFRLFVBQUEsRUFBRSxhQUFhLGVBQUEsRUFBRSxLQUFLLE9BQUEsRUFBRSxDQUFDLEdBQzdELENBQ0gsQ0FDVTtnQkFDYixvQkFBQyxJQUFJLElBQ0gsSUFBSSxFQUFDLFNBQVMsRUFDZCxTQUFTLEVBQUUsSUFBSSxDQUNiLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLFNBQVMsRUFDdEQsQ0FBQyxLQUFLLElBQUksU0FBUyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQ3RDLElBRUEsS0FBSyxJQUFJLFNBQVMsQ0FDZCxDQUNNLENBQ1g7UUFDTCxXQUFXLElBQUksQ0FDZCxvQkFBQyxlQUFlLElBQ2QsS0FBSyxFQUFFLEtBQUssRUFDWixhQUFhLEVBQUUsUUFBUSxFQUN2QixhQUFhLEVBQUUsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUUvQixXQUFXLENBQ0ksQ0FDbkI7UUFDQSxRQUFRLElBQUksQ0FDWCxvQkFBQyxnQkFBZ0IsSUFDZixLQUFLLEVBQUUsS0FBSyxFQUNaLGFBQWEsRUFBRSxRQUFRLEVBQ3ZCLGFBQWEsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLElBRWhDLFlBQVksQ0FDSSxDQUNwQixDQUNVLENBQ2QsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMsIENsYXNzT3ZlcnJpZGVzIH0gZnJvbSAnLi4vLi4vdHlwZVV0aWxzJztcbmltcG9ydCB7XG4gIEJhc2VGb3JtRWxlbWVudFdpdGhOb2RlTGFiZWwsXG4gIGJ1aWxkRGVzY3JpYmVkQnksXG4gIGVycm9yRm9yLFxuICBGb3JtRXJyb3JNZXNzYWdlLFxuICBGb3JtSGVscE1lc3NhZ2UsXG4gIGhlbHBGb3IsXG59IGZyb20gJy4uL19wcml2YXRlL2Zvcm1zJztcbmltcG9ydCB7IGdlbmVyYXRlVW5pcXVlSWQgfSBmcm9tICcuLi9fcHJpdmF0ZS9VbmlxdWVJZCc7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi4vVGV4dCc7XG5pbXBvcnQgeyBtb3Rpb24sIHVzZU1vdGlvblZhbHVlLCB1c2VUcmFuc2Zvcm0gfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCAnZm9jdXMtdmlzaWJsZSc7XG5pbXBvcnQgeyBzY3JlZW5yZWFkZXJPbmx5U3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzL3NjcmVlbnJlYWRlck9ubHknO1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hTdHlsZXNLZXkgPSAnQ2hyb21hQ2hlY2tib3gnO1xuXG5leHBvcnQgY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyhcbiAgKHRoZW1lKSA9PiAoe1xuICAgIHJvb3Q6IHtcbiAgICAgIC8vIEFsbCB2YWx1ZXMgdGhhdCBhcmUgYW5pbWF0ZWQgdG8vZnJvbSBuZWVkIHRvIGJlIHNwZWNpZmllZCBhcyBjc3MgdmFyaWFibGVzIGZvciB0aGVcbiAgICAgIC8vIGZyYW1lci1tb3Rpb24gbGlicmFyeSB0byBoYW5kbGUgdGhlIGFuaW1hdGlvbnMgY29ycmVjdGx5IChubyBtaXggb2YgaGV4L3JnYiArIHZhcmlhYmxlcylcbiAgICAgICctLWNoZWNrYm94LXByaW1hcnknOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICctLWNoZWNrYm94LWVtcGhhc2lzJzogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICAnLS1jaGVja2JveC1zZWNvbmRhcnknOiB0aGVtZS5wYWxldHRlLmdyYXBoaXRlWzEwMF0sXG4gICAgICAnLS1jaGVja2JveC1zZWNvbmRhcnktZW1waGFzaXMnOiB0aGVtZS5wYWxldHRlLmdyYXBoaXRlWzkwMF0sXG4gICAgICAnLS1jaGVja2JveC1lcnJvcic6IHRoZW1lLnBhbGV0dGUuZXJyb3JbOTAwXSxcbiAgICAgICctLWNoZWNrYm94LWludmVyc2UnOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICctLXRpY2stcHJpbWFyeSc6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgJy0tdGljay1kaXNhYmxlZCc6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNDAwXSxcbiAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgIGZsZXhGbG93OiAnY29sdW1uJyxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgJyYgPiBwJzoge1xuICAgICAgICBtYXJnaW5MZWZ0OiB0aGVtZS5weFRvUmVtKDI5KSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpbnB1dDoge1xuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBoZWlnaHQ6IHRoZW1lLnB4VG9SZW0oMTYpLFxuICAgICAgbGVmdDogMCxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRyYW5zaXRpb246ICcwLjM1cyBlYXNlLWluJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDE2KSxcbiAgICAgICcmOmRpc2FibGVkLCAmOmRpc2FibGVkICsgJGxhYmVsQ29udGFpbmVyLCAmOmRpc2FibGVkICsgJGxhYmVsQ29udGFpbmVyIConOiB7XG4gICAgICAgIGN1cnNvcjogJ25vdC1hbGxvd2VkJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlICsgJGxhYmVsQ29udGFpbmVyICRib3gnOiB7XG4gICAgICAgIHN0cm9rZTogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNSxcbiAgICAgICAgc3Ryb2tlV2lkdGg6IDIuNSxcbiAgICAgICAgdHJhbnNpdGlvbjogJzAuMzVzIGVhc2Utb3V0JyxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBpbnB1dEludmVyc2U6IHtcbiAgICAgICcmOmZvY3VzLmZvY3VzLXZpc2libGUgKyAkbGFiZWxDb250YWluZXIgJGJveCc6IHtcbiAgICAgICAgc3Ryb2tlOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYWJlbENvbnRhaW5lcjoge1xuICAgICAgZmxleDogMSxcbiAgICAgIHpJbmRleDogMixcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsXG4gICAgICBtYXJnaW5Cb3R0b206IDAsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgICcmIHAnOiB7XG4gICAgICAgIGxpbmVIZWlnaHQ6IDEuMjUsXG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygwLjI1KSxcbiAgICAgICAgbWFyZ2luTGVmdDogdGhlbWUuc3BhY2luZygxKSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBsYWJlbEludmVyc2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICB9LFxuICAgIHN2Zzoge1xuICAgICAgbWluV2lkdGg6IHRoZW1lLnB4VG9SZW0oMjEpLFxuICAgICAgbWluSGVpZ2h0OiB0aGVtZS5weFRvUmVtKDIxKSxcbiAgICAgIHpJbmRleDogMixcbiAgICB9LFxuICAgIGJveDoge30sXG4gICAgc3JPbmx5OiB7XG4gICAgICAuLi5zY3JlZW5yZWFkZXJPbmx5U3R5bGVzLFxuICAgIH0sXG4gIH0pLFxuICB7IG5hbWU6IENoZWNrYm94U3R5bGVzS2V5IH1cbik7XG5cbmNvbnN0IGdldEJveFZhcmlhbnRzID0gKHtcbiAgZGlzYWJsZWQsXG4gIGhhc0Vycm9yLFxuICBjb2xvcixcbn06IHtcbiAgZGlzYWJsZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIGhhc0Vycm9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICBjb2xvcjogc3RyaW5nO1xufSkgPT4ge1xuICBpZiAoZGlzYWJsZWQgJiYgY29sb3IgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBkaXNhYmxlZERlZmF1bHRCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoZGlzYWJsZWQgJiYgY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBkaXNhYmxlZEludmVyc2VCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoaGFzRXJyb3IgJiYgY29sb3IgPT09ICdkZWZhdWx0Jykge1xuICAgIHJldHVybiBkZWZhdWx0SGFzRXJyb3JCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoaGFzRXJyb3IgJiYgY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBpbnZlcnNlSGFzRXJyb3JCb3hWYXJpYW50cztcbiAgfVxuICBpZiAoY29sb3IgPT09ICdpbnZlcnNlJykge1xuICAgIHJldHVybiBib3hJbnZlcnNlVmFyaWFudHM7XG4gIH1cbiAgcmV0dXJuIGJveFZhcmlhbnRzO1xufTtcblxuY29uc3QgZ2V0VGlja1ZhcmlhbnRzID0gKHtcbiAgZGlzYWJsZWQsXG4gIGNvbG9yLFxuICBpbmRldGVybWluYXRlLFxufToge1xuICBkaXNhYmxlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgaW5kZXRlcm1pbmF0ZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgY29sb3I6IHN0cmluZztcbn0pID0+IHtcbiAgaWYgKGRpc2FibGVkICYmIGNvbG9yID09PSAnaW52ZXJzZScpIHtcbiAgICByZXR1cm4gZGlzYWJsZWRJbnZlcnNlVGlja1ZhcmlhbnRzO1xuICB9XG4gIGlmIChkaXNhYmxlZCAmJiBpbmRldGVybWluYXRlKSB7XG4gICAgcmV0dXJuIGluZGV0ZXJtaW5hdGVEaXNhYmxlZFRpY2tWYXJpYW50cztcbiAgfVxuICBpZiAoZGlzYWJsZWQpIHtcbiAgICByZXR1cm4gZGlzYWJsZWREZWZhdWx0VGlja1ZhcmlhbnRzO1xuICB9XG4gIGlmIChpbmRldGVybWluYXRlKSB7XG4gICAgcmV0dXJuIGluZGV0ZXJtaW5hdGVEZWZhdWx0VGlja1ZhcmlhbnRzO1xuICB9XG4gIHJldHVybiB0aWNrVmFyaWFudHM7XG59O1xuXG5jb25zdCB0aWNrVmFyaWFudHMgPSB7XG4gIHByZXNzZWQ6IChpc0NoZWNrZWQ6IGJvb2xlYW4pID0+ICh7XG4gICAgcGF0aExlbmd0aDogaXNDaGVja2VkID8gMC44NSA6IDAuMixcbiAgfSksXG4gIGNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stcHJpbWFyeSknLFxuICAgIHN0cm9rZU9wYWNpdHk6IDEsXG4gIH0sXG4gIHVuY2hlY2tlZDogeyBwYXRoTGVuZ3RoOiAwIH0sXG59O1xuXG5jb25zdCBkaXNhYmxlZERlZmF1bHRUaWNrVmFyaWFudHMgPSB7XG4gIGNoZWNrZWQ6IHtcbiAgICBzdHJva2U6ICd2YXIoLS10aWNrLWRpc2FibGVkKScsXG4gICAgc3Ryb2tlT3BhY2l0eTogMC42NSxcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxufTtcblxuY29uc3QgZGlzYWJsZWRJbnZlcnNlVGlja1ZhcmlhbnRzID0ge1xuICBjaGVja2VkOiB7XG4gICAgcGF0aExlbmd0aDogMSxcbiAgICBzdHJva2U6ICd2YXIoLS10aWNrLXByaW1hcnkpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stcHJpbWFyeSknLFxuICAgIHN0cm9rZU9wYWNpdHk6IDAuNjUsXG4gIH0sXG59O1xuXG5jb25zdCBpbmRldGVybWluYXRlRGVmYXVsdFRpY2tWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDoge1xuICAgIHBhdGhMZW5ndGg6IDEsXG4gICAgc3Ryb2tlOiAndmFyKC0tdGljay1wcmltYXJ5KScsXG4gIH0sXG4gIHVuY2hlY2tlZDoge1xuICAgIHBhdGhMZW5ndGg6IDAsXG4gICAgc3Ryb2tlOiAndmFyKC0tdGljay1wcmltYXJ5KScsXG4gIH0sXG59O1xuXG5jb25zdCBpbmRldGVybWluYXRlRGlzYWJsZWRUaWNrVmFyaWFudHMgPSB7XG4gIGNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAxLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxuICB1bmNoZWNrZWQ6IHtcbiAgICBwYXRoTGVuZ3RoOiAwLFxuICAgIHN0cm9rZTogJ3ZhcigtLXRpY2stZGlzYWJsZWQpJyxcbiAgICBzdHJva2VPcGFjaXR5OiAwLjY1LFxuICB9LFxufTtcblxuY29uc3QgY2hlY2tlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgZmlsbE9wYWNpdHk6IDEsXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgc3Ryb2tlV2lkdGg6IDAsXG59O1xuXG5jb25zdCBob3ZlckJveCA9IHtcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgc3Ryb2tlV2lkdGg6IDIsXG59O1xuXG5jb25zdCBwcmVzc2VkQm94ID0ge1xuICBmaWxsOiAndmFyKC0tY2hlY2tib3gtZW1waGFzaXMpJyxcbiAgZmlsbE9wYWNpdHk6IDEsXG4gIHNjYWxlOiAwLjksXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LWVtcGhhc2lzKScsXG59O1xuXG5jb25zdCBlcnJvclVuY2hlY2tlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC4yNSxcbiAgc3Ryb2tlOiAndmFyKC0tY2hlY2tib3gtZXJyb3IpJyxcbiAgc3Ryb2tlT3BhY2l0eTogMSxcbiAgc3Ryb2tlV2lkdGg6IDEsXG59O1xuXG5jb25zdCBkaXNhYmxlZEJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC41LFxuICBzdHJva2VXaWR0aDogMCxcbn07XG5cbmNvbnN0IGRpc2FibGVkSW52ZXJzZUJveCA9IHtcbiAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBmaWxsT3BhY2l0eTogMC4xLFxuICBzdHJva2U6ICd2YXIoLS1jaGVja2JveC1zZWNvbmRhcnkpJyxcbiAgc3Ryb2tlT3BhY2l0eTogMC4yNSxcbiAgc3Ryb2tlV2lkdGg6IDEsXG59O1xuXG5jb25zdCBpbnZlcnNlQm94ID0ge1xuICBmaWxsOiAndmFyKC0tY2hlY2tib3gtc2Vjb25kYXJ5KScsXG4gIGZpbGxPcGFjaXR5OiAwLjEsXG4gIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeSknLFxuICBzdHJva2VPcGFjaXR5OiAwLjU1LFxuICBzdHJva2VXaWR0aDogMSxcbn07XG5cbmNvbnN0IGJveFZhcmlhbnRzID0ge1xuICBob3Zlcjoge1xuICAgIC4uLmhvdmVyQm94LFxuICAgIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgfSxcbiAgcHJlc3NlZDogcHJlc3NlZEJveCxcbiAgY2hlY2tlZDogY2hlY2tlZEJveCxcbiAgdW5jaGVja2VkOiB7XG4gICAgZmlsbDogJ3ZhcigtLWNoZWNrYm94LXNlY29uZGFyeS1lbXBoYXNpcyknLFxuICAgIGZpbGxPcGFjaXR5OiAwLjE1LFxuICAgIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LXByaW1hcnkpJyxcbiAgfSxcbn07XG5cbmNvbnN0IGJveEludmVyc2VWYXJpYW50cyA9IHtcbiAgaG92ZXI6IHsgLi4uaG92ZXJCb3gsIHN0cm9rZTogJ3ZhcigtLWNoZWNrYm94LWludmVyc2UpJyB9LFxuICBwcmVzc2VkOiBwcmVzc2VkQm94LFxuICBjaGVja2VkOiBpbnZlcnNlQm94LFxuICB1bmNoZWNrZWQ6IGludmVyc2VCb3gsXG59O1xuXG5jb25zdCBkaXNhYmxlZERlZmF1bHRCb3hWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDogZGlzYWJsZWRCb3gsXG4gIHVuY2hlY2tlZDogZGlzYWJsZWRCb3gsXG59O1xuXG5jb25zdCBkaXNhYmxlZEludmVyc2VCb3hWYXJpYW50cyA9IHtcbiAgY2hlY2tlZDogZGlzYWJsZWRJbnZlcnNlQm94LFxuICB1bmNoZWNrZWQ6IGRpc2FibGVkSW52ZXJzZUJveCxcbn07XG5cbmNvbnN0IGRlZmF1bHRIYXNFcnJvckJveFZhcmlhbnRzID0ge1xuICBob3ZlcjogeyAuLi5ob3ZlckJveCwgc3Ryb2tlOiAndmFyKC0tY2hlY2tib3gtZXJyb3IpJyB9LFxuICBwcmVzc2VkOiBwcmVzc2VkQm94LFxuICBjaGVja2VkOiBjaGVja2VkQm94LFxuICB1bmNoZWNrZWQ6IGVycm9yVW5jaGVja2VkQm94LFxufTtcblxuY29uc3QgaW52ZXJzZUhhc0Vycm9yQm94VmFyaWFudHMgPSB7XG4gIGhvdmVyOiB7IC4uLmhvdmVyQm94LCBzdHJva2U6ICd2YXIoLS1jaGVja2JveC1lcnJvciknIH0sXG4gIHByZXNzZWQ6IHByZXNzZWRCb3gsXG4gIGNoZWNrZWQ6IGludmVyc2VCb3gsXG4gIHVuY2hlY2tlZDogZXJyb3JVbmNoZWNrZWRCb3gsXG59O1xuXG5leHBvcnQgdHlwZSBDaGVja2JveENsYXNzZXMgPSBHZXRDbGFzc2VzPHR5cGVvZiB1c2VTdHlsZXM+O1xuXG5leHBvcnQgdHlwZSBDaGVja2JveFByb3BzID0gQmFzZUZvcm1FbGVtZW50V2l0aE5vZGVMYWJlbCAmXG4gIENsYXNzT3ZlcnJpZGVzPENoZWNrYm94Q2xhc3Nlcz4gJiB7IGluZGV0ZXJtaW5hdGU/OiBib29sZWFuIH07XG5cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTElucHV0RWxlbWVudCwgQ2hlY2tib3hQcm9wcz4oXG4gIChcbiAgICB7XG4gICAgICBbJ2FyaWEtbGFiZWwnXTogYXJpYUxhYmVsLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzLFxuICAgICAgY29sb3IgPSAnZGVmYXVsdCcsXG4gICAgICBkaXNhYmxlZCA9IGZhbHNlLFxuICAgICAgZXJyb3JNZXNzYWdlLFxuICAgICAgaGFzRXJyb3IsXG4gICAgICBoZWxwTWVzc2FnZSxcbiAgICAgIGluZGV0ZXJtaW5hdGUgPSBmYWxzZSxcbiAgICAgIGlkLFxuICAgICAgbGFiZWwsXG4gICAgICBuYW1lLFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7IGNsYXNzZXM6IGFkZGl0aW9uYWxDbGFzc2VzIH0pO1xuXG4gICAgY29uc3QgW3VuaXF1ZUlkXSA9IFJlYWN0LnVzZVN0YXRlPHN0cmluZz4oXG4gICAgICAoKSA9PiBpZCB8fCBuYW1lIHx8IGdlbmVyYXRlVW5pcXVlSWQoJ2NoZWNrYm94LScpXG4gICAgKTtcblxuICAgIGNvbnN0IHBhdGhMZW5ndGggPSB1c2VNb3Rpb25WYWx1ZSgwKTtcbiAgICBjb25zdCBvcGFjaXR5ID0gdXNlVHJhbnNmb3JtKHBhdGhMZW5ndGgsIFswLjA1LCAwLjE1XSwgWzAsIDFdKTtcblxuICAgIGlmICghbGFiZWwgJiYgIWFyaWFMYWJlbCAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnSWYgYSBcImxhYmVsXCIgaXMgbm90IHByb3ZpZGVkIHRvIENoZWNrYm94LCBwbGVhc2UgcHJvdmlkZSBcImFyaWEtbGFiZWxcIi4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHZhcmlhbnQgPSBbXG4gICAgICBjaGVja2VkID8gJ2NoZWNrZWQnIDogJ3VuY2hlY2tlZCcsXG4gICAgICBkaXNhYmxlZCA/ICdkaXNhYmxlZCcgOiAnZW5hYmxlZCcsXG4gICAgXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8bW90aW9uLmRpdlxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goY2xhc3Nlcy5yb290LCBjbGFzc05hbWUpfVxuICAgICAgICBhbmltYXRlPXt2YXJpYW50fVxuICAgICAgICBpbml0aWFsPXtmYWxzZX1cbiAgICAgICAgd2hpbGVIb3Zlcj1cImhvdmVyXCJcbiAgICAgICAgd2hpbGVUYXA9XCJwcmVzc2VkXCJcbiAgICAgID5cbiAgICAgICAgPGlucHV0XG4gICAgICAgICAgYXJpYS1kZXNjcmliZWRieT17YnVpbGREZXNjcmliZWRCeSh7XG4gICAgICAgICAgICBoYXNFcnJvcixcbiAgICAgICAgICAgIGhhc0hlbHBNZXNzYWdlOiAhIWhlbHBNZXNzYWdlLFxuICAgICAgICAgICAgdW5pcXVlSWQsXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgYXJpYS1jaGVja2VkPXtcbiAgICAgICAgICAgIGNoZWNrZWQgJiYgIWluZGV0ZXJtaW5hdGVcbiAgICAgICAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgICAgICAgOiAhY2hlY2tlZCAmJiAhaW5kZXRlcm1pbmF0ZVxuICAgICAgICAgICAgICA/ICdmYWxzZSdcbiAgICAgICAgICAgICAgOiAhY2hlY2tlZCAmJiBpbmRldGVybWluYXRlXG4gICAgICAgICAgICAgID8gJ21peGVkJ1xuICAgICAgICAgICAgICA6ICdmYWxzZSdcbiAgICAgICAgICB9XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMuaW5wdXQsIHtcbiAgICAgICAgICAgIFtjbGFzc2VzLmlucHV0SW52ZXJzZV06IGNvbG9yID09PSAnaW52ZXJzZScsXG4gICAgICAgICAgfSl9XG4gICAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICBpZD17dW5pcXVlSWR9XG4gICAgICAgICAgbmFtZT17bmFtZX1cbiAgICAgICAgICBjaGVja2VkPXtjaGVja2VkfVxuICAgICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgICB0YWJJbmRleD17MH1cbiAgICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5sYWJlbENvbnRhaW5lcn0+XG4gICAgICAgICAgPG1vdGlvbi5sYWJlbFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmxhYmVsfVxuICAgICAgICAgICAgaHRtbEZvcj17dW5pcXVlSWR9XG4gICAgICAgICAgICBhbmltYXRlPXt2YXJpYW50fVxuICAgICAgICAgICAgd2hpbGVIb3Zlcj1cImhvdmVyXCJcbiAgICAgICAgICAgIHdoaWxlVGFwPVwicHJlc3NlZFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPG1vdGlvbi5zdmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLnN2Z31cbiAgICAgICAgICAgICAgd2lkdGg9XCIyMVwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjIxXCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyMSAyMVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5ib3h9XG4gICAgICAgICAgICAgICAgZD1cIk0xLDUuNTI0QTQuNTIzLDQuNTIzLDAsMCwxLDUuNTI0LDFoOS45NTJBNC41MjMsNC41MjMsMCwwLDEsMjAsNS41MjR2OS45NTJBNC41MjMsNC41MjMsMCwwLDEsMTUuNDc2LDIwSDUuNTI0QTQuNTIzLDQuNTIzLDAsMCwxLDEsMTUuNDc2WlwiXG4gICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICBzdHJva2U9XCJ2YXIoLS1jaGVja2JveC1zZWNvbmRhcnktZW1waGFzaXMpXCJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5PVwiMFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlTWl0ZXJsaW1pdD1cIjEwXCJcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjJcIlxuICAgICAgICAgICAgICAgIHZhcmlhbnRzPXtnZXRCb3hWYXJpYW50cyh7XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIGhhc0Vycm9yLFxuICAgICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIHtpbmRldGVybWluYXRlICYmIGRpc2FibGVkID8gKFxuICAgICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgICAgZD1cIk02LjUsMTAuNDU4aDhcIlxuICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiMi4yNVwiXG4gICAgICAgICAgICAgICAgICBzdHJva2U9XCIjRkZGRkZGXCJcbiAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VMaW5lam9pbj1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhdGhMZW5ndGgsIG9wYWNpdHkgfX1cbiAgICAgICAgICAgICAgICAgIGN1c3RvbT17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnRzPXtnZXRUaWNrVmFyaWFudHMoe1xuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3IsXG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApIDogaW5kZXRlcm1pbmF0ZSA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPG1vdGlvbi5wYXRoXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNMTAuNSwxMC40NThoLTRcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjIuMjVcIlxuICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCIjRkZGRkZGXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWNhcD1cInJvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhdGhMZW5ndGgsIG9wYWNpdHkgfX1cbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tPXtjaGVja2VkfVxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50cz17Z2V0VGlja1ZhcmlhbnRzKHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgICAgICBpbmRldGVybWluYXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8bW90aW9uLnBhdGhcbiAgICAgICAgICAgICAgICAgICAgZD1cIk0xMC41LDEwLjQ1OGg0XCJcbiAgICAgICAgICAgICAgICAgICAgZmlsbD1cInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9XCIyLjI1XCJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGRkZGRlwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYXRoTGVuZ3RoLCBvcGFjaXR5IH19XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbT17Y2hlY2tlZH1cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudHM9e2dldFRpY2tWYXJpYW50cyh7XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxtb3Rpb24ucGF0aFxuICAgICAgICAgICAgICAgICAgZD1cIk01Ljc2MSwxMS45NjJsMi4xODcsMi4xODcsNy4yOTEtNy4zXCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aD1cIjIuMjVcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlPVwiI0ZGRkZGRlwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5PVwiMVwiXG4gICAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgICAgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBwYXRoTGVuZ3RoLCBvcGFjaXR5IH19XG4gICAgICAgICAgICAgICAgICBjdXN0b209e2NoZWNrZWR9XG4gICAgICAgICAgICAgICAgICB2YXJpYW50cz17Z2V0VGlja1ZhcmlhbnRzKHsgZGlzYWJsZWQsIGluZGV0ZXJtaW5hdGUsIGNvbG9yIH0pfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L21vdGlvbi5zdmc+XG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBzaXplPVwic3ViYm9keVwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgICBjb2xvciA9PT0gJ2ludmVyc2UnID8gY2xhc3Nlcy5sYWJlbEludmVyc2UgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgIWxhYmVsICYmIGFyaWFMYWJlbCAmJiBjbGFzc2VzLnNyT25seVxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7bGFiZWwgfHwgYXJpYUxhYmVsfVxuICAgICAgICAgICAgPC9UZXh0PlxuICAgICAgICAgIDwvbW90aW9uLmxhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAge2hlbHBNZXNzYWdlICYmIChcbiAgICAgICAgICA8Rm9ybUhlbHBNZXNzYWdlXG4gICAgICAgICAgICBjb2xvcj17Y29sb3J9XG4gICAgICAgICAgICByb290RWxlbWVudElkPXt1bmlxdWVJZH1cbiAgICAgICAgICAgIGRlc2NyaWJlZEJ5SWQ9e2hlbHBGb3IodW5pcXVlSWQpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHtoZWxwTWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1IZWxwTWVzc2FnZT5cbiAgICAgICAgKX1cbiAgICAgICAge2hhc0Vycm9yICYmIChcbiAgICAgICAgICA8Rm9ybUVycm9yTWVzc2FnZVxuICAgICAgICAgICAgY29sb3I9e2NvbG9yfVxuICAgICAgICAgICAgcm9vdEVsZW1lbnRJZD17dW5pcXVlSWR9XG4gICAgICAgICAgICBkZXNjcmliZWRCeUlkPXtlcnJvckZvcih1bmlxdWVJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2Vycm9yTWVzc2FnZX1cbiAgICAgICAgICA8L0Zvcm1FcnJvck1lc3NhZ2U+XG4gICAgICAgICl9XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgKTtcbiAgfVxuKTtcbiJdfQ==