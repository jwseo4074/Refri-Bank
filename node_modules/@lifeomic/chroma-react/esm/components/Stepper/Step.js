var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { makeStyles } from '../../styles';
import { Box } from '../Box';
import { Pill } from '../Pill';
import { Text } from '../Text';
export var StepStylesKey = 'ChromaStep';
export var useStyles = makeStyles(function (theme) { return ({
    buttonRoot: {
        alignItems: 'center',
        backgroundColor: 'transparent',
        border: 'none',
        cursor: 'pointer',
        display: 'flex',
        flexDirection: 'column',
        fontFamily: theme.typography.fontFamily,
        minWidth: theme.pxToRem(110),
        paddingBottom: theme.spacing(1.5),
        '&:focus': {
            outline: 'none',
        },
        '&:hover': {
            '&>div': {
                transform: 'scale(1.1)',
                transition: '0.25s cubic-bezier(0.2, 0.8, 0.2, 1)',
            },
        },
    },
    divRoot: {
        minWidth: theme.pxToRem(110),
        padding: theme.spacing(0, 0.875, 1.5, 0.875),
    },
    activeRoot: {
        borderBottom: "2px solid ".concat(theme.palette.primary.main),
        paddingBottom: theme.spacing(1.25),
    },
    completedRoot: {},
    iconContainer: {
        width: theme.pxToRem(56),
        height: theme.pxToRem(56),
        minWidth: theme.pxToRem(56),
        minHeight: theme.pxToRem(56),
        borderRadius: theme.pxToRem(9999),
        backgroundColor: theme.palette.common.white,
        border: "2px solid ".concat(theme.palette.black[200]),
        transition: 'background-color .5s ease, border .5s ease, box-shadow .5s ease',
        '@media screen and (max-width: 850px)': {
            width: theme.pxToRem(40),
            height: theme.pxToRem(40),
            minWidth: theme.pxToRem(40),
            minHeight: theme.pxToRem(40),
        },
    },
    completed: {
        border: "2px solid ".concat(theme.palette.common.white),
        boxShadow: theme.boxShadows.table,
    },
    active: {
        backgroundColor: theme.palette.primary[50],
        border: "2px solid ".concat(theme.palette.primary.main),
        boxShadow: theme.boxShadows.table,
    },
    icon: {
        color: theme.palette.black[500],
        transition: 'color .5s ease',
    },
    activeIcon: {
        color: theme.palette.primary.main,
    },
    completedIcon: {
        color: theme.palette.black[500],
        opacity: 0.75,
    },
    title: {
        color: theme.palette.black[500],
        transition: 'color .5s ease',
        '&:first-of-type': {
            marginTop: theme.spacing(1.5),
        },
        '@media screen and (max-width: 850px)': {
            fontSize: theme.pxToRem(12),
        },
    },
    activeTitle: {
        color: theme.palette.primary.main,
    },
    pillSubTitle: {
        transition: 'background .5s ease',
        marginTop: theme.spacing(0.5),
    },
    completedPillSubTitle: {
        background: theme.palette.black[500],
        marginTop: theme.spacing(0.5),
        opacity: 0.75,
    },
    disabled: {
        cursor: 'not-allowed',
        '&:hover': {
            '&>div': {
                transform: 'none',
            },
        },
    },
}); }, { name: StepStylesKey });
export var Step = function (_a) {
    var active = _a.active, as = _a.as, className = _a.className, completed = _a.completed, disabled = _a.disabled, Icon = _a.icon, index = _a.index, onClick = _a.onClick, subTitle = _a.subTitle, subTitlePillLabel = _a.subTitlePillLabel, title = _a.title, rootProps = __rest(_a, ["active", "as", "className", "completed", "disabled", "icon", "index", "onClick", "subTitle", "subTitlePillLabel", "title"]);
    var classes = useStyles({});
    var handleClick = function () {
        onClick === null || onClick === void 0 ? void 0 : onClick(index);
    };
    var content = (React.createElement(React.Fragment, null,
        React.createElement(Box, { align: "center", className: clsx(classes.iconContainer, active && classes.active, completed && classes.completed), justify: "center" }, Icon ? (React.createElement(Icon, { "aria-hidden": "true", className: clsx(classes.icon, active && classes.activeIcon, completed && classes.completedIcon), role: "img" })) : (React.createElement(Text, { "aria-hidden": "true", size: "headline", className: clsx(classes.icon, active && classes.activeIcon, completed && classes.completedIcon) }, (index || 0) + 1))),
        React.createElement(Text, { className: clsx(classes.title, active && classes.activeTitle), size: "subbody" }, title),
        subTitle && !subTitlePillLabel && (React.createElement(Text, { className: clsx(classes.title, active && classes.activeTitle), size: "caption" }, subTitle)),
        subTitlePillLabel && !subTitle && (React.createElement(Pill, { className: clsx(classes.pillSubTitle, completed && classes.completedPillSubTitle), color: active ? 'primary' : 'default', label: subTitlePillLabel }))));
    if (as === 'button') {
        return (React.createElement("button", __assign({ className: clsx(classes.buttonRoot, active && classes.activeRoot, completed && classes.completedRoot, disabled && classes.disabled, className), disabled: disabled, onClick: handleClick }, rootProps), content));
    }
    else {
        return (React.createElement(Box, __assign({ align: "center", className: clsx(classes.divRoot, active && classes.activeRoot, completed && classes.completedRoot, className), direction: "column" }, rootProps), content));
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RlcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1N0ZXBwZXIvU3RlcC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRTFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDN0IsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUMvQixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRS9CLE1BQU0sQ0FBQyxJQUFNLGFBQWEsR0FBRyxZQUFZLENBQUM7QUFFMUMsTUFBTSxDQUFDLElBQU0sU0FBUyxHQUFHLFVBQVUsQ0FDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsVUFBVSxFQUFFO1FBQ1YsVUFBVSxFQUFFLFFBQVE7UUFDcEIsZUFBZSxFQUFFLGFBQWE7UUFDOUIsTUFBTSxFQUFFLE1BQU07UUFDZCxNQUFNLEVBQUUsU0FBUztRQUNqQixPQUFPLEVBQUUsTUFBTTtRQUNmLGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVU7UUFDdkMsUUFBUSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDO1FBQzVCLGFBQWEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQztRQUVqQyxTQUFTLEVBQUU7WUFDVCxPQUFPLEVBQUUsTUFBTTtTQUNoQjtRQUVELFNBQVMsRUFBRTtZQUNULE9BQU8sRUFBRTtnQkFDUCxTQUFTLEVBQUUsWUFBWTtnQkFDdkIsVUFBVSxFQUFFLHNDQUFzQzthQUNuRDtTQUNGO0tBQ0Y7SUFDRCxPQUFP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QUFDLENBQUMsQ0FBQyxTQUFTLEVBQ3JDLEtBQUssRUFBRSxpQkFBaUIsR0FDeEIsQ0FDSCxDQUNBLENBQ0osQ0FBQztJQUVGLElBQUksRUFBRSxLQUFLLFFBQVEsRUFBRTtRQUNuQixPQUFPLENBQ0wseUNBQ0UsU0FBUyxFQUFFLElBQUksQ0FDYixPQUFPLENBQUMsVUFBVSxFQUNsQixNQUFNLElBQUksT0FBTyxDQUFDLFVBQVUsRUFDNUIsU0FBUyxJQUFJLE9BQU8sQ0FBQyxhQUFhLEVBQ2xDLFFBQVEsSUFBSSxPQUFPLENBQUMsUUFBUSxFQUM1QixTQUFTLENBQ1YsRUFDRCxRQUFRLEVBQUUsUUFBUSxFQUNsQixPQUFPLEVBQUUsV0FBVyxJQUNoQixTQUFTLEdBRVosT0FBTyxDQUNELENBQ1YsQ0FBQztLQUNIO1NBQU07UUFDTCxPQUFPLENBQ0wsb0JBQUMsR0FBRyxhQUNGLEtBQUssRUFBQyxRQUFRLEVBQ2QsU0FBUyxFQUFFLElBQUksQ0FDYixPQUFPLENBQUMsT0FBTyxFQUNmLE1BQU0sSUFBSSxPQUFPLENBQUMsVUFBVSxFQUM1QixTQUFTLElBQUksT0FBTyxDQUFDLGFBQWEsRUFDbEMsU0FBUyxDQUNWLEVBQ0QsU0FBUyxFQUFDLFFBQVEsSUFDZCxTQUFTLEdBRVosT0FBTyxDQUNKLENBQ1AsQ0FBQztLQUNIO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtYWtlU3R5bGVzIH0gZnJvbSAnLi4vLi4vc3R5bGVzJztcbmltcG9ydCB7IEdldENsYXNzZXMgfSBmcm9tICcuLi8uLi90eXBlVXRpbHMnO1xuaW1wb3J0IHsgQm94IH0gZnJvbSAnLi4vQm94JztcbmltcG9ydCB7IFBpbGwgfSBmcm9tICcuLi9QaWxsJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuLi9UZXh0JztcblxuZXhwb3J0IGNvbnN0IFN0ZXBTdHlsZXNLZXkgPSAnQ2hyb21hU3RlcCc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgYnV0dG9uUm9vdDoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksXG4gICAgICBtaW5XaWR0aDogdGhlbWUucHhUb1JlbSgxMTApLFxuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygxLjUpLFxuXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgfSxcblxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICcmPmRpdic6IHtcbiAgICAgICAgICB0cmFuc2Zvcm06ICdzY2FsZSgxLjEpJyxcbiAgICAgICAgICB0cmFuc2l0aW9uOiAnMC4yNXMgY3ViaWMtYmV6aWVyKDAuMiwgMC44LCAwLjIsIDEpJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBkaXZSb290OiB7XG4gICAgICBtaW5XaWR0aDogdGhlbWUucHhUb1JlbSgxMTApLFxuICAgICAgcGFkZGluZzogdGhlbWUuc3BhY2luZygwLCAwLjg3NSwgMS41LCAwLjg3NSksXG4gICAgfSxcbiAgICBhY3RpdmVSb290OiB7XG4gICAgICBib3JkZXJCb3R0b206IGAycHggc29saWQgJHt0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbn1gLFxuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygxLjI1KSxcbiAgICB9LFxuICAgIGNvbXBsZXRlZFJvb3Q6IHt9LFxuICAgIGljb25Db250YWluZXI6IHtcbiAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDU2KSxcbiAgICAgIGhlaWdodDogdGhlbWUucHhUb1JlbSg1NiksXG4gICAgICBtaW5XaWR0aDogdGhlbWUucHhUb1JlbSg1NiksXG4gICAgICBtaW5IZWlnaHQ6IHRoZW1lLnB4VG9SZW0oNTYpLFxuICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5weFRvUmVtKDk5OTkpLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGJvcmRlcjogYDJweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUuYmxhY2tbMjAwXX1gLFxuICAgICAgdHJhbnNpdGlvbjpcbiAgICAgICAgJ2JhY2tncm91bmQtY29sb3IgLjVzIGVhc2UsIGJvcmRlciAuNXMgZWFzZSwgYm94LXNoYWRvdyAuNXMgZWFzZScsXG5cbiAgICAgICdAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4NTBweCknOiB7XG4gICAgICAgIHdpZHRoOiB0aGVtZS5weFRvUmVtKDQwKSxcbiAgICAgICAgaGVpZ2h0OiB0aGVtZS5weFRvUmVtKDQwKSxcbiAgICAgICAgbWluV2lkdGg6IHRoZW1lLnB4VG9SZW0oNDApLFxuICAgICAgICBtaW5IZWlnaHQ6IHRoZW1lLnB4VG9SZW0oNDApLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGNvbXBsZXRlZDoge1xuICAgICAgYm9yZGVyOiBgMnB4IHNvbGlkICR7dGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGV9YCxcbiAgICAgIGJveFNoYWRvdzogdGhlbWUuYm94U2hhZG93cy50YWJsZSxcbiAgICB9LFxuICAgIGFjdGl2ZToge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnlbNTBdLFxuICAgICAgYm9yZGVyOiBgMnB4IHNvbGlkICR7dGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW59YCxcbiAgICAgIGJveFNoYWRvdzogdGhlbWUuYm94U2hhZG93cy50YWJsZSxcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmJsYWNrWzUwMF0sXG4gICAgICB0cmFuc2l0aW9uOiAnY29sb3IgLjVzIGVhc2UnLFxuICAgIH0sXG4gICAgYWN0aXZlSWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgIH0sXG4gICAgY29tcGxldGVkSWNvbjoge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNTAwXSxcbiAgICAgIG9wYWNpdHk6IDAuNzUsXG4gICAgfSxcbiAgICB0aXRsZToge1xuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuYmxhY2tbNTAwXSxcbiAgICAgIHRyYW5zaXRpb246ICdjb2xvciAuNXMgZWFzZScsXG5cbiAgICAgICcmOmZpcnN0LW9mLXR5cGUnOiB7XG4gICAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygxLjUpLFxuICAgICAgfSxcblxuICAgICAgJ0BtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDg1MHB4KSc6IHtcbiAgICAgICAgZm9udFNpemU6IHRoZW1lLnB4VG9SZW0oMTIpLFxuICAgICAgfSxcbiAgICB9LFxuICAgIGFjdGl2ZVRpdGxlOiB7XG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgfSxcbiAgICBwaWxsU3ViVGl0bGU6IHtcbiAgICAgIHRyYW5zaXRpb246ICdiYWNrZ3JvdW5kIC41cyBlYXNlJyxcbiAgICAgIG1hcmdpblRvcDogdGhlbWUuc3BhY2luZygwLjUpLFxuICAgIH0sXG4gICAgY29tcGxldGVkUGlsbFN1YlRpdGxlOiB7XG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLmJsYWNrWzUwMF0sXG4gICAgICBtYXJnaW5Ub3A6IHRoZW1lLnNwYWNpbmcoMC41KSxcbiAgICAgIG9wYWNpdHk6IDAuNzUsXG4gICAgfSxcbiAgICBkaXNhYmxlZDoge1xuICAgICAgY3Vyc29yOiAnbm90LWFsbG93ZWQnLFxuXG4gICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgJyY+ZGl2Jzoge1xuICAgICAgICAgIHRyYW5zZm9ybTogJ25vbmUnLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9LFxuICB9KSxcbiAgeyBuYW1lOiBTdGVwU3R5bGVzS2V5IH1cbik7XG5cbmV4cG9ydCB0eXBlIFN0ZXBDbGFzc2VzID0gR2V0Q2xhc3Nlczx0eXBlb2YgdXNlU3R5bGVzPjtcblxuZXhwb3J0IGludGVyZmFjZSBTdGVwUHJvcHMge1xuICBhY3RpdmU/OiBib29sZWFuO1xuICBhcz86ICdidXR0b24nIHwgJ2Rpdic7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgY29tcGxldGVkPzogYm9vbGVhbjtcbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICBpY29uPzogUmVhY3QuQ29tcG9uZW50VHlwZTxSZWFjdC5TVkdQcm9wczxTVkdTVkdFbGVtZW50Pj47XG4gIGluZGV4PzogbnVtYmVyO1xuICBvbkNsaWNrPzogKGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gIHN1YlRpdGxlPzogc3RyaW5nO1xuICBzdWJUaXRsZVBpbGxMYWJlbD86IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IFN0ZXA6IFJlYWN0LkZDPFN0ZXBQcm9wcz4gPSAoe1xuICBhY3RpdmUsXG4gIGFzLFxuICBjbGFzc05hbWUsXG4gIGNvbXBsZXRlZCxcbiAgZGlzYWJsZWQsXG4gIGljb246IEljb24sXG4gIGluZGV4LFxuICBvbkNsaWNrLFxuICBzdWJUaXRsZSxcbiAgc3ViVGl0bGVQaWxsTGFiZWwsXG4gIHRpdGxlLFxuICAuLi5yb290UHJvcHNcbn0pID0+IHtcbiAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG5cbiAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7XG4gICAgb25DbGljaz8uKGluZGV4KTtcbiAgfTtcblxuICBjb25zdCBjb250ZW50ID0gKFxuICAgIDw+XG4gICAgICA8Qm94XG4gICAgICAgIGFsaWduPVwiY2VudGVyXCJcbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgIGNsYXNzZXMuaWNvbkNvbnRhaW5lcixcbiAgICAgICAgICBhY3RpdmUgJiYgY2xhc3Nlcy5hY3RpdmUsXG4gICAgICAgICAgY29tcGxldGVkICYmIGNsYXNzZXMuY29tcGxldGVkXG4gICAgICAgICl9XG4gICAgICAgIGp1c3RpZnk9XCJjZW50ZXJcIlxuICAgICAgPlxuICAgICAgICB7SWNvbiA/IChcbiAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y2xzeChcbiAgICAgICAgICAgICAgY2xhc3Nlcy5pY29uLFxuICAgICAgICAgICAgICBhY3RpdmUgJiYgY2xhc3Nlcy5hY3RpdmVJY29uLFxuICAgICAgICAgICAgICBjb21wbGV0ZWQgJiYgY2xhc3Nlcy5jb21wbGV0ZWRJY29uXG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgcm9sZT1cImltZ1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgICAgIHNpemU9XCJoZWFkbGluZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgICAgIGNsYXNzZXMuaWNvbixcbiAgICAgICAgICAgICAgYWN0aXZlICYmIGNsYXNzZXMuYWN0aXZlSWNvbixcbiAgICAgICAgICAgICAgY29tcGxldGVkICYmIGNsYXNzZXMuY29tcGxldGVkSWNvblxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7KGluZGV4IHx8IDApICsgMX1cbiAgICAgICAgICA8L1RleHQ+XG4gICAgICAgICl9XG4gICAgICA8L0JveD5cbiAgICAgIDxUZXh0XG4gICAgICAgIGNsYXNzTmFtZT17Y2xzeChjbGFzc2VzLnRpdGxlLCBhY3RpdmUgJiYgY2xhc3Nlcy5hY3RpdmVUaXRsZSl9XG4gICAgICAgIHNpemU9XCJzdWJib2R5XCJcbiAgICAgID5cbiAgICAgICAge3RpdGxlfVxuICAgICAgPC9UZXh0PlxuICAgICAge3N1YlRpdGxlICYmICFzdWJUaXRsZVBpbGxMYWJlbCAmJiAoXG4gICAgICAgIDxUZXh0XG4gICAgICAgICAgY2xhc3NOYW1lPXtjbHN4KGNsYXNzZXMudGl0bGUsIGFjdGl2ZSAmJiBjbGFzc2VzLmFjdGl2ZVRpdGxlKX1cbiAgICAgICAgICBzaXplPVwiY2FwdGlvblwiXG4gICAgICAgID5cbiAgICAgICAgICB7c3ViVGl0bGV9XG4gICAgICAgIDwvVGV4dD5cbiAgICAgICl9XG4gICAgICB7c3ViVGl0bGVQaWxsTGFiZWwgJiYgIXN1YlRpdGxlICYmIChcbiAgICAgICAgPFBpbGxcbiAgICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgICBjbGFzc2VzLnBpbGxTdWJUaXRsZSxcbiAgICAgICAgICAgIGNvbXBsZXRlZCAmJiBjbGFzc2VzLmNvbXBsZXRlZFBpbGxTdWJUaXRsZVxuICAgICAgICAgICl9XG4gICAgICAgICAgY29sb3I9e2FjdGl2ZSA/ICdwcmltYXJ5JyA6ICdkZWZhdWx0J31cbiAgICAgICAgICBsYWJlbD17c3ViVGl0bGVQaWxsTGFiZWx9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvPlxuICApO1xuXG4gIGlmIChhcyA9PT0gJ2J1dHRvbicpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5idXR0b25Sb290LFxuICAgICAgICAgIGFjdGl2ZSAmJiBjbGFzc2VzLmFjdGl2ZVJvb3QsXG4gICAgICAgICAgY29tcGxldGVkICYmIGNsYXNzZXMuY29tcGxldGVkUm9vdCxcbiAgICAgICAgICBkaXNhYmxlZCAmJiBjbGFzc2VzLmRpc2FibGVkLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApfVxuICAgICAgICBkaXNhYmxlZD17ZGlzYWJsZWR9XG4gICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfVxuICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgPlxuICAgICAgICB7Y29udGVudH1cbiAgICAgIDwvYnV0dG9uPlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxCb3hcbiAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5kaXZSb290LFxuICAgICAgICAgIGFjdGl2ZSAmJiBjbGFzc2VzLmFjdGl2ZVJvb3QsXG4gICAgICAgICAgY29tcGxldGVkICYmIGNsYXNzZXMuY29tcGxldGVkUm9vdCxcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgZGlyZWN0aW9uPVwiY29sdW1uXCJcbiAgICAgICAgey4uLnJvb3RQcm9wc31cbiAgICAgID5cbiAgICAgICAge2NvbnRlbnR9XG4gICAgICA8L0JveD5cbiAgICApO1xuICB9XG59O1xuIl19