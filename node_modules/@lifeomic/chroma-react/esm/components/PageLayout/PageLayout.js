var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import PageLayoutDefaultHero from '../../assets/PageLayoutDefaultHero.svg';
import { makeStyles } from '../../styles';
import { PageHeader } from '../PageHeader';
export var PageLayoutStylesKey = 'ChromaPageLayout';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        display: 'flex',
        flexDirection: 'column',
        flex: 1,
        minHeight: '100%',
        marginRight: 'auto',
        marginLeft: 'auto',
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
    },
    maxWidth: {
        maxWidth: theme.pxToRem(1344),
    },
    backgroundCover: {
        position: 'relative',
        // Negative margin so that it can stretch
        // outside of the default padding specified by `root`.
        marginLeft: -theme.spacing(4),
        marginRight: -theme.spacing(4),
        background: "url(".concat(PageLayoutDefaultHero, ") ").concat(theme.palette.primary.main),
        backgroundSize: 'cover',
        marginBottom: theme.spacing(2),
    },
    headerBackgroundPadding: {
        paddingTop: theme.spacing(3),
        paddingLeft: theme.spacing(4),
        paddingRight: theme.spacing(4),
        paddingBottom: theme.spacing(3),
    },
    disclaimer: {
        paddingBottom: theme.spacing(2),
    },
    tabs: {
        padding: theme.spacing(0),
    },
    sidebar: {
        width: theme.pxToRem(192),
        marginRight: theme.spacing(3),
        flexGrow: 0,
        flexShrink: 0,
    },
    layoutContainer: {
        display: 'flex',
        height: '100%',
        marginBottom: theme.spacing(4),
    },
    content: {
        flex: 1,
        width: '100%',
        // Fix for firefox so the content doesn't overflow
        maxWidth: '100%',
    },
}); }, { name: PageLayoutStylesKey });
var ConditionalWrapper = function (_a) {
    var condition = _a.condition, wrapper = _a.wrapper, children = _a.children;
    return (condition ? wrapper(children) : children);
};
export var PageLayout = React.forwardRef(function (_a, ref) {
    var backgroundImage = _a.backgroundImage, _b = _a.headerAlign, headerAlign = _b === void 0 ? 'center' : _b, headerCenter = _a.headerCenter, headerCenterClassName = _a.headerCenterClassName, headerActionsClassName = _a.headerActionsClassName, children = _a.children, additionalClasses = _a.classes, className = _a.className, disclaimer = _a.disclaimer, headerActions = _a.headerActions, sidebar = _a.sidebar, title = _a.title, tabs = _a.tabs, _c = _a.maxWidth, maxWidth = _c === void 0 ? true : _c, _d = _a.applyBackgroundCover, applyBackgroundCover = _d === void 0 ? false : _d, left = _a.left, leftClassName = _a.leftClassName, rootProps = __rest(_a, ["backgroundImage", "headerAlign", "headerCenter", "headerCenterClassName", "headerActionsClassName", "children", "classes", "className", "disclaimer", "headerActions", "sidebar", "title", "tabs", "maxWidth", "applyBackgroundCover", "left", "leftClassName"]);
    var classes = useStyles({ classes: additionalClasses });
    return (React.createElement("div", __assign({ ref: ref, className: clsx(classes.root, maxWidth && !applyBackgroundCover && classes.maxWidth, className) }, rootProps),
        React.createElement(ConditionalWrapper, { condition: applyBackgroundCover, wrapper: function (children) { return (React.createElement("div", { className: classes.backgroundCover, style: backgroundImage
                    ? {
                        backgroundImage: "url(".concat(backgroundImage, ")"),
                    }
                    : undefined }, children)); } },
            React.createElement(PageHeader, { align: headerAlign, className: applyBackgroundCover ? classes.headerBackgroundPadding : '', title: title, center: headerCenter, centerClassName: headerCenterClassName, margin: "none", actions: headerActions, actionsClassName: headerActionsClassName, color: applyBackgroundCover ? 'inverse' : 'default', left: left, leftClassName: leftClassName })),
        !!disclaimer && React.createElement("div", { className: classes.disclaimer }, disclaimer),
        !!tabs && React.createElement("div", { className: classes.tabs }, tabs),
        React.createElement("div", { className: classes.layoutContainer },
            !!sidebar && React.createElement("div", { className: classes.sidebar }, sidebar),
            React.createElement("div", { className: classes.content }, children))));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGFnZUxheW91dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL1BhZ2VMYXlvdXQvUGFnZUxheW91dC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUMvQixPQUFPLHFCQUFxQixNQUFNLHdDQUF3QyxDQUFDO0FBQzNFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFMUMsT0FBTyxFQUFFLFVBQVUsRUFBbUIsTUFBTSxlQUFlLENBQUM7QUFFNUQsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7QUFFdEQsTUFBTSxDQUFDLElBQU0sU0FBUyxHQUFHLFVBQVUsQ0FDakMsVUFBQyxLQUFLLElBQUssT0FBQSxDQUFDO0lBQ1YsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUFFLE1BQU07UUFDZixhQUFhLEVBQUUsUUFBUTtRQUN2QixJQUFJLEVBQUUsQ0FBQztRQUNQLFNBQVMsRUFBRSxNQUFNO1FBQ2pCLFdBQVcsRUFBRSxNQUFNO1FBQ25CLFVBQVUsRUFBRSxNQUFNO1FBQ2xCLFdBQVcsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUM3QixZQUFZLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7S0FDOUI7SUFDRCxlQUFlLEVBQUU7UUFDZixRQUFRLEVBQUUsVUFBVTtRQUNwQix5Q0FBeUM7UUFDekMsc0RBQXNEO1FBQ3RELFVBQVUsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzdCLFdBQVcsRUFBRSxDQUFDLEtBQUss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QUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUGFnZUxheW91dERlZmF1bHRIZXJvIGZyb20gJy4uLy4uL2Fzc2V0cy9QYWdlTGF5b3V0RGVmYXVsdEhlcm8uc3ZnJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcywgU3RhbmRhcmRQcm9wcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBQYWdlSGVhZGVyLCBQYWdlSGVhZGVyUHJvcHMgfSBmcm9tICcuLi9QYWdlSGVhZGVyJztcblxuZXhwb3J0IGNvbnN0IFBhZ2VMYXlvdXRTdHlsZXNLZXkgPSAnQ2hyb21hUGFnZUxheW91dCc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICBmbGV4OiAxLFxuICAgICAgbWluSGVpZ2h0OiAnMTAwJScsXG4gICAgICBtYXJnaW5SaWdodDogJ2F1dG8nLFxuICAgICAgbWFyZ2luTGVmdDogJ2F1dG8nLFxuICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnNwYWNpbmcoNCksXG4gICAgfSxcbiAgICBtYXhXaWR0aDoge1xuICAgICAgbWF4V2lkdGg6IHRoZW1lLnB4VG9SZW0oMTM0NCksXG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kQ292ZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgLy8gTmVnYXRpdmUgbWFyZ2luIHNvIHRoYXQgaXQgY2FuIHN0cmV0Y2hcbiAgICAgIC8vIG91dHNpZGUgb2YgdGhlIGRlZmF1bHQgcGFkZGluZyBzcGVjaWZpZWQgYnkgYHJvb3RgLlxuICAgICAgbWFyZ2luTGVmdDogLXRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBtYXJnaW5SaWdodDogLXRoZW1lLnNwYWNpbmcoNCksXG4gICAgICBiYWNrZ3JvdW5kOiBgdXJsKCR7UGFnZUxheW91dERlZmF1bHRIZXJvfSkgJHt0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbn1gLFxuICAgICAgYmFja2dyb3VuZFNpemU6ICdjb3ZlcicsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbiAgICBoZWFkZXJCYWNrZ3JvdW5kUGFkZGluZzoge1xuICAgICAgcGFkZGluZ1RvcDogdGhlbWUuc3BhY2luZygzKSxcbiAgICAgIHBhZGRpbmdMZWZ0OiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGVtZS5zcGFjaW5nKDQpLFxuICAgICAgcGFkZGluZ0JvdHRvbTogdGhlbWUuc3BhY2luZygzKSxcbiAgICB9LFxuICAgIGRpc2NsYWltZXI6IHtcbiAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnNwYWNpbmcoMiksXG4gICAgfSxcbiAgICB0YWJzOiB7XG4gICAgICBwYWRkaW5nOiB0aGVtZS5zcGFjaW5nKDApLFxuICAgIH0sXG4gICAgc2lkZWJhcjoge1xuICAgICAgd2lkdGg6IHRoZW1lLnB4VG9SZW0oMTkyKSxcbiAgICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nKDMpLFxuICAgICAgZmxleEdyb3c6IDAsXG4gICAgICBmbGV4U2hyaW5rOiAwLFxuICAgIH0sXG4gICAgbGF5b3V0Q29udGFpbmVyOiB7XG4gICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIG1hcmdpbkJvdHRvbTogdGhlbWUuc3BhY2luZyg0KSxcbiAgICB9LFxuICAgIGNvbnRlbnQ6IHtcbiAgICAgIGZsZXg6IDEsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgLy8gRml4IGZvciBmaXJlZm94IHNvIHRoZSBjb250ZW50IGRvZXNuJ3Qgb3ZlcmZsb3dcbiAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgfSksXG4gIHsgbmFtZTogUGFnZUxheW91dFN0eWxlc0tleSB9XG4pO1xuXG5leHBvcnQgdHlwZSBQYWdlTGF5b3V0Q2xhc3NlcyA9IEdldENsYXNzZXM8dHlwZW9mIHVzZVN0eWxlcz47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFnZUxheW91dFByb3BzXG4gIGV4dGVuZHMgU3RhbmRhcmRQcm9wczxIVE1MRGl2RWxlbWVudCwgUGFnZUxheW91dENsYXNzZXM+IHtcbiAgYmFja2dyb3VuZEltYWdlPzogc3RyaW5nO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgZGlzY2xhaW1lcj86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgaGVhZGVyQWN0aW9ucz86IFBhZ2VIZWFkZXJQcm9wc1snYWN0aW9ucyddO1xuICBoZWFkZXJBbGlnbj86IFBhZ2VIZWFkZXJQcm9wc1snYWxpZ24nXTtcbiAgaGVhZGVyQ2VudGVyPzogUGFnZUhlYWRlclByb3BzWydjZW50ZXInXTtcbiAgaGVhZGVyQ2VudGVyQ2xhc3NOYW1lPzogUGFnZUhlYWRlclByb3BzWydjZW50ZXJDbGFzc05hbWUnXTtcbiAgaGVhZGVyQWN0aW9uc0NsYXNzTmFtZT86IFBhZ2VIZWFkZXJQcm9wc1snYWN0aW9uc0NsYXNzTmFtZSddO1xuICBzaWRlYmFyPzogUmVhY3QuUmVhY3ROb2RlO1xuICB0aXRsZT86IFBhZ2VIZWFkZXJQcm9wc1sndGl0bGUnXTtcbiAgdGFicz86IFJlYWN0LlJlYWN0Tm9kZTtcbiAgbWF4V2lkdGg/OiBib29sZWFuO1xuICBhcHBseUJhY2tncm91bmRDb3Zlcj86IGJvb2xlYW47XG4gIGxlZnQ/OiBQYWdlSGVhZGVyUHJvcHNbJ2xlZnQnXTtcbiAgbGVmdENsYXNzTmFtZT86IFBhZ2VIZWFkZXJQcm9wc1snbGVmdENsYXNzTmFtZSddO1xufVxuXG5pbnRlcmZhY2UgQ29uZGl0aW9uYWxXcmFwcGVyUHJvcHMge1xuICBjb25kaXRpb246IGJvb2xlYW47XG4gIHdyYXBwZXI6IGFueTtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuY29uc3QgQ29uZGl0aW9uYWxXcmFwcGVyOiBSZWFjdC5GQzxDb25kaXRpb25hbFdyYXBwZXJQcm9wcz4gPSAoe1xuICBjb25kaXRpb24sXG4gIHdyYXBwZXIsXG4gIGNoaWxkcmVuLFxufSkgPT4gKGNvbmRpdGlvbiA/IHdyYXBwZXIoY2hpbGRyZW4pIDogY2hpbGRyZW4pO1xuXG5leHBvcnQgY29uc3QgUGFnZUxheW91dCA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTERpdkVsZW1lbnQsIFBhZ2VMYXlvdXRQcm9wcz4oXG4gIChcbiAgICB7XG4gICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICBoZWFkZXJBbGlnbiA9ICdjZW50ZXInLFxuICAgICAgaGVhZGVyQ2VudGVyLFxuICAgICAgaGVhZGVyQ2VudGVyQ2xhc3NOYW1lLFxuICAgICAgaGVhZGVyQWN0aW9uc0NsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgY2xhc3NlczogYWRkaXRpb25hbENsYXNzZXMsXG4gICAgICBjbGFzc05hbWUsXG4gICAgICBkaXNjbGFpbWVyLFxuICAgICAgaGVhZGVyQWN0aW9ucyxcbiAgICAgIHNpZGViYXIsXG4gICAgICB0aXRsZSxcbiAgICAgIHRhYnMsXG4gICAgICBtYXhXaWR0aCA9IHRydWUsXG4gICAgICBhcHBseUJhY2tncm91bmRDb3ZlciA9IGZhbHNlLFxuICAgICAgbGVmdCxcbiAgICAgIGxlZnRDbGFzc05hbWUsXG4gICAgICAuLi5yb290UHJvcHNcbiAgICB9LFxuICAgIHJlZlxuICApID0+IHtcbiAgICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKHsgY2xhc3NlczogYWRkaXRpb25hbENsYXNzZXMgfSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdlxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgY2xhc3NOYW1lPXtjbHN4KFxuICAgICAgICAgIGNsYXNzZXMucm9vdCxcbiAgICAgICAgICBtYXhXaWR0aCAmJiAhYXBwbHlCYWNrZ3JvdW5kQ292ZXIgJiYgY2xhc3Nlcy5tYXhXaWR0aCxcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgey4uLnJvb3RQcm9wc31cbiAgICAgID5cbiAgICAgICAgPENvbmRpdGlvbmFsV3JhcHBlclxuICAgICAgICAgIGNvbmRpdGlvbj17YXBwbHlCYWNrZ3JvdW5kQ292ZXJ9XG4gICAgICAgICAgd3JhcHBlcj17KGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmJhY2tncm91bmRDb3Zlcn1cbiAgICAgICAgICAgICAgc3R5bGU9e1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVxuICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7YmFja2dyb3VuZEltYWdlfSlgLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgID5cbiAgICAgICAgICA8UGFnZUhlYWRlclxuICAgICAgICAgICAgYWxpZ249e2hlYWRlckFsaWdufVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtcbiAgICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kQ292ZXIgPyBjbGFzc2VzLmhlYWRlckJhY2tncm91bmRQYWRkaW5nIDogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpdGxlPXt0aXRsZX1cbiAgICAgICAgICAgIGNlbnRlcj17aGVhZGVyQ2VudGVyfVxuICAgICAgICAgICAgY2VudGVyQ2xhc3NOYW1lPXtoZWFkZXJDZW50ZXJDbGFzc05hbWV9XG4gICAgICAgICAgICBtYXJnaW49XCJub25lXCJcbiAgICAgICAgICAgIGFjdGlvbnM9e2hlYWRlckFjdGlvbnN9XG4gICAgICAgICAgICBhY3Rpb25zQ2xhc3NOYW1lPXtoZWFkZXJBY3Rpb25zQ2xhc3NOYW1lfVxuICAgICAgICAgICAgY29sb3I9e2FwcGx5QmFja2dyb3VuZENvdmVyID8gJ2ludmVyc2UnIDogJ2RlZmF1bHQnfVxuICAgICAgICAgICAgbGVmdD17bGVmdH1cbiAgICAgICAgICAgIGxlZnRDbGFzc05hbWU9e2xlZnRDbGFzc05hbWV9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9Db25kaXRpb25hbFdyYXBwZXI+XG5cbiAgICAgICAgeyEhZGlzY2xhaW1lciAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5kaXNjbGFpbWVyfT57ZGlzY2xhaW1lcn08L2Rpdj59XG4gICAgICAgIHshIXRhYnMgJiYgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMudGFic30+e3RhYnN9PC9kaXY+fVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzLmxheW91dENvbnRhaW5lcn0+XG4gICAgICAgICAgeyEhc2lkZWJhciAmJiA8ZGl2IGNsYXNzTmFtZT17Y2xhc3Nlcy5zaWRlYmFyfT57c2lkZWJhcn08L2Rpdj59XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuY29udGVudH0+e2NoaWxkcmVufTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbik7XG4iXX0=