var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
import clsx from 'clsx';
import * as React from 'react';
import { makeStyles } from '../../styles';
import { LinkOrExternalLink } from '../_private/LinkOrExternalLink';
import 'focus-visible';
export var ButtonLinkStylesKey = 'ChromaButtonLink';
export var useStyles = makeStyles(function (theme) { return ({
    root: {
        alignItems: 'center',
        background: theme.palette.primary.main,
        border: '0',
        borderRadius: theme.pxToRem(4),
        color: theme.palette.common.white,
        cursor: 'pointer',
        display: 'inline-flex',
        whiteSpace: 'nowrap',
        fontFamily: theme.typography.fontFamily,
        fontSize: theme.typography.button.fontSize,
        fontWeight: theme.typography.fontWeightBold,
        justifyContent: 'center',
        letterSpacing: theme.pxToRem(0.5),
        lineHeight: 1.4,
        margin: 0,
        minHeight: theme.pxToRem(32),
        minWidth: theme.pxToRem(64),
        outline: 'none',
        paddingBottom: theme.pxToRem(8),
        paddingLeft: theme.pxToRem(11),
        paddingRight: theme.pxToRem(11),
        paddingTop: theme.pxToRem(8),
        position: 'relative',
        textDecoration: 'none',
        transition: 'background-color 0.25s ease, color 0.25s ease, opacity 0.25s ease',
        userSelect: 'none',
        '&:hover, &:focus': {
            textDecoration: 'none',
            color: theme.palette.common.white,
            backgroundColor: theme.palette.primary[900],
            outline: 'none',
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisible,
        },
    },
    containedInverse: {
        backgroundColor: theme.palette.common.white,
        color: theme.palette.primary.main,
        '&:hover': {
            backgroundColor: theme.palette.common.white,
            color: theme.palette.primary.main,
            opacity: 0.85,
        },
        '&:focus': {
            backgroundColor: theme.palette.common.white,
            color: theme.palette.primary.main,
            opacity: 0.75,
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    outlined: {
        backgroundColor: 'transparent',
        border: "1px solid " + theme.palette.primary.main,
        color: theme.palette.primary.main,
        transition: 'border 0.25s ease, color 0.25s ease',
        '&:hover, &:focus': {
            backgroundColor: 'transparent',
            border: "1px solid " + theme.palette.primary[900],
            color: theme.palette.primary[900],
        },
    },
    outlinedInverse: {
        borderColor: theme.palette.common.white,
        color: theme.palette.common.white,
        '&:hover': {
            color: theme.palette.common.white,
            opacity: 0.85,
            borderColor: 'rgba(255, 255, 255, 0.85)',
        },
        '&:focus': {
            color: theme.palette.common.white,
            opacity: 0.75,
            borderColor: 'rgba(255, 255, 255, 0.75)',
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    text: {
        backgroundColor: 'transparent',
        border: 'unset',
        color: theme.palette.primary.main,
        transition: 'color 0.25s ease',
        '&:hover, &:focus': {
            backgroundColor: 'transparent',
            color: theme.palette.primary[900],
        },
    },
    textInverse: {
        color: theme.palette.common.white,
        '&:hover': {
            color: theme.palette.common.white,
            opacity: 0.85,
        },
        '&:focus': {
            color: theme.palette.common.white,
            opacity: 0.75,
        },
        '&:focus.focus-visible': {
            boxShadow: theme.boxShadows.focusVisibleInverse,
        },
    },
    fullWidth: {
        width: '100%',
    },
    icon: {
        width: theme.spacing(2),
        height: theme.spacing(2),
        marginRight: theme.spacing(1),
    },
    disabled: {
        pointerEvents: 'none',
        color: theme.palette.grey[900],
        borderColor: theme.palette.grey[900],
    },
    disabledContained: {
        pointerEvents: 'none',
        color: theme.palette.grey[100],
        background: theme.palette.grey[900],
    },
    disabledInverse: {
        pointerEvents: 'none',
        color: theme.palette.grey[100],
        borderColor: theme.palette.grey[100],
    },
    disabledContainedInverse: {
        pointerEvents: 'none',
        color: theme.palette.grey[900],
        background: theme.palette.grey[100],
    },
}); }, { name: ButtonLinkStylesKey });
export var ButtonLink = React.forwardRef(function (_a, ref) {
    var _b, _c, _d, _e;
    var className = _a.className, children = _a.children, color = _a.color, disabled = _a.disabled, fullWidth = _a.fullWidth, Icon = _a.icon, rel = _a.rel, target = _a.target, to = _a.to, variant = _a.variant, rootProps = __rest(_a, ["className", "children", "color", "disabled", "fullWidth", "icon", "rel", "target", "to", "variant"]);
    var classes = useStyles({});
    variant = variant || 'contained';
    return (React.createElement(LinkOrExternalLink, __assign({ disabled: disabled, innerRef: ref, target: target, rel: rel, className: clsx(classes.root, (_b = {},
            _b[classes.outlined] = variant === 'outlined',
            _b[classes.text] = variant === 'text',
            _b), (_c = {},
            _c[classes.containedInverse] = variant === 'contained' && color === 'inverse',
            _c[classes.outlinedInverse] = variant === 'outlined' && color === 'inverse',
            _c[classes.textInverse] = variant === 'text' && color === 'inverse',
            _c), fullWidth && classes.fullWidth, disabled &&
            color !== 'inverse' && (_d = {},
            _d[classes.disabled] = variant === 'text' || variant === 'outlined',
            _d[classes.disabledContained] = variant === 'contained',
            _d), disabled &&
            color === 'inverse' && (_e = {},
            _e[classes.disabledInverse] = variant === 'text' || variant === 'outlined',
            _e[classes.disabledContainedInverse] = variant === 'contained',
            _e), className), to: to }, rootProps),
        !!Icon && React.createElement(Icon, { role: "img", "aria-hidden": true, className: classes.icon }),
        children));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnV0dG9uTGluay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9jb21wb25lbnRzL0J1dHRvbkxpbmsvQnV0dG9uTGluay50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUN4QixPQUFPLEtBQUssS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUUvQixPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRTFDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBRXBFLE9BQU8sZUFBZSxDQUFDO0FBRXZCLE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGtCQUFrQixDQUFDO0FBRXRELE1BQU0sQ0FBQyxJQUFNLFNBQVMsR0FBRyxVQUFVLENBQ2pDLFVBQUMsS0FBSyxJQUFLLE9BQUEsQ0FBQztJQUNWLElBQUksRUFBRTtRQUNKLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLFVBQVUsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJO1FBQ3RDLE1BQU0sRUFBRSxHQUFHO1FBQ1gsWUFBWSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzlCLEtBQUssRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLO1FBQ2pDLE1BQU0sRUFBRSxTQUFTO1FBQ2pCLE9BQU8sRUFBRSxhQUFhO1FBQ3RCLFVBQVUsRUFBRSxRQUFRO1FBQ3BCLFVBQVUsRUFBRSxLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVU7UUFDdkMsUUFBUSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFFBQVE7UUFDMUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxVQUFVLENBQUMsY0FBYztRQUMzQyxjQUFjLEVBQUUsUUFBUTtRQUN4QixhQUFhLEVBQUUsS0FBSyxDQUFDLE9BQU8s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QUFTLEVBQUUsT0FBTyxDQUFDLElBQUksR0FBSTtRQUNsRSxRQUFRLENBQ1UsQ0FDdEIsQ0FBQztBQUNKLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMaW5rUHJvcHMgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICcuLi8uLi9zdHlsZXMnO1xuaW1wb3J0IHsgR2V0Q2xhc3NlcyB9IGZyb20gJy4uLy4uL3R5cGVVdGlscyc7XG5pbXBvcnQgeyBMaW5rT3JFeHRlcm5hbExpbmsgfSBmcm9tICcuLi9fcHJpdmF0ZS9MaW5rT3JFeHRlcm5hbExpbmsnO1xuaW1wb3J0IHsgQnV0dG9uUHJvcHMgfSBmcm9tICcuLi9CdXR0b24nO1xuaW1wb3J0ICdmb2N1cy12aXNpYmxlJztcblxuZXhwb3J0IGNvbnN0IEJ1dHRvbkxpbmtTdHlsZXNLZXkgPSAnQ2hyb21hQnV0dG9uTGluayc7XG5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKFxuICAodGhlbWUpID0+ICh7XG4gICAgcm9vdDoge1xuICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICBiYWNrZ3JvdW5kOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgIGJvcmRlcjogJzAnLFxuICAgICAgYm9yZGVyUmFkaXVzOiB0aGVtZS5weFRvUmVtKDQpLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICBmb250RmFtaWx5OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksXG4gICAgICBmb250U2l6ZTogdGhlbWUudHlwb2dyYXBoeS5idXR0b24uZm9udFNpemUsXG4gICAgICBmb250V2VpZ2h0OiB0aGVtZS50eXBvZ3JhcGh5LmZvbnRXZWlnaHRCb2xkLFxuICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgbGV0dGVyU3BhY2luZzogdGhlbWUucHhUb1JlbSgwLjUpLFxuICAgICAgbGluZUhlaWdodDogMS40LFxuICAgICAgbWFyZ2luOiAwLFxuICAgICAgbWluSGVpZ2h0OiB0aGVtZS5weFRvUmVtKDMyKSxcbiAgICAgIG1pbldpZHRoOiB0aGVtZS5weFRvUmVtKDY0KSxcbiAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgIHBhZGRpbmdCb3R0b206IHRoZW1lLnB4VG9SZW0oOCksXG4gICAgICBwYWRkaW5nTGVmdDogdGhlbWUucHhUb1JlbSgxMSksXG4gICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLnB4VG9SZW0oMTEpLFxuICAgICAgcGFkZGluZ1RvcDogdGhlbWUucHhUb1JlbSg4KSxcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgIHRyYW5zaXRpb246XG4gICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yIDAuMjVzIGVhc2UsIGNvbG9yIDAuMjVzIGVhc2UsIG9wYWNpdHkgMC4yNXMgZWFzZScsXG4gICAgICB1c2VyU2VsZWN0OiAnbm9uZScsXG4gICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeVs5MDBdLFxuICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMuZm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgYm94U2hhZG93OiB0aGVtZS5ib3hTaGFkb3dzLmZvY3VzVmlzaWJsZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBjb250YWluZWRJbnZlcnNlOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoZW1lLnBhbGV0dGUuY29tbW9uLndoaXRlLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbixcbiAgICAgICAgb3BhY2l0eTogMC44NSxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgICBvcGFjaXR5OiAwLjc1LFxuICAgICAgfSxcbiAgICAgICcmOmZvY3VzLmZvY3VzLXZpc2libGUnOiB7XG4gICAgICAgIGJveFNoYWRvdzogdGhlbWUuYm94U2hhZG93cy5mb2N1c1Zpc2libGVJbnZlcnNlLFxuICAgICAgfSxcbiAgICB9LFxuICAgIG91dGxpbmVkOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICBib3JkZXI6IGAxcHggc29saWQgJHt0aGVtZS5wYWxldHRlLnByaW1hcnkubWFpbn1gLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUucHJpbWFyeS5tYWluLFxuICAgICAgdHJhbnNpdGlvbjogJ2JvcmRlciAwLjI1cyBlYXNlLCBjb2xvciAwLjI1cyBlYXNlJyxcbiAgICAgICcmOmhvdmVyLCAmOmZvY3VzJzoge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke3RoZW1lLnBhbGV0dGUucHJpbWFyeVs5MDBdfWAsXG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLnByaW1hcnlbOTAwXSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBvdXRsaW5lZEludmVyc2U6IHtcbiAgICAgIGJvcmRlckNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIG9wYWNpdHk6IDAuODUsXG4gICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg1KScsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgb3BhY2l0eTogMC43NSxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNzUpJyxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MuZm9jdXNWaXNpYmxlSW52ZXJzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICB0ZXh0OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICBib3JkZXI6ICd1bnNldCcsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5Lm1haW4sXG4gICAgICB0cmFuc2l0aW9uOiAnY29sb3IgMC4yNXMgZWFzZScsXG4gICAgICAnJjpob3ZlciwgJjpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5wcmltYXJ5WzkwMF0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdGV4dEludmVyc2U6IHtcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICcmOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5jb21tb24ud2hpdGUsXG4gICAgICAgIG9wYWNpdHk6IDAuODUsXG4gICAgICB9LFxuICAgICAgJyY6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmNvbW1vbi53aGl0ZSxcbiAgICAgICAgb3BhY2l0eTogMC43NSxcbiAgICAgIH0sXG4gICAgICAnJjpmb2N1cy5mb2N1cy12aXNpYmxlJzoge1xuICAgICAgICBib3hTaGFkb3c6IHRoZW1lLmJveFNoYWRvd3MuZm9jdXNWaXNpYmxlSW52ZXJzZSxcbiAgICAgIH0sXG4gICAgfSxcbiAgICBmdWxsV2lkdGg6IHtcbiAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgfSxcbiAgICBpY29uOiB7XG4gICAgICB3aWR0aDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgIGhlaWdodDogdGhlbWUuc3BhY2luZygyKSxcbiAgICAgIG1hcmdpblJpZ2h0OiB0aGVtZS5zcGFjaW5nKDEpLFxuICAgIH0sXG5cbiAgICBkaXNhYmxlZDoge1xuICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgY29sb3I6IHRoZW1lLnBhbGV0dGUuZ3JleVs5MDBdLFxuICAgICAgYm9yZGVyQ29sb3I6IHRoZW1lLnBhbGV0dGUuZ3JleVs5MDBdLFxuICAgIH0sXG4gICAgZGlzYWJsZWRDb250YWluZWQ6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXlbMTAwXSxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnBhbGV0dGUuZ3JleVs5MDBdLFxuICAgIH0sXG4gICAgZGlzYWJsZWRJbnZlcnNlOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICBjb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzEwMF0sXG4gICAgICBib3JkZXJDb2xvcjogdGhlbWUucGFsZXR0ZS5ncmV5WzEwMF0sXG4gICAgfSxcbiAgICBkaXNhYmxlZENvbnRhaW5lZEludmVyc2U6IHtcbiAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgIGNvbG9yOiB0aGVtZS5wYWxldHRlLmdyZXlbOTAwXSxcbiAgICAgIGJhY2tncm91bmQ6IHRoZW1lLnBhbGV0dGUuZ3JleVsxMDBdLFxuICAgIH0sXG4gIH0pLFxuICB7IG5hbWU6IEJ1dHRvbkxpbmtTdHlsZXNLZXkgfVxuKTtcblxuZXhwb3J0IHR5cGUgQnV0dG9uTGlua0NsYXNzZXMgPSBHZXRDbGFzc2VzPHR5cGVvZiB1c2VTdHlsZXM+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1dHRvbkxpbmtQcm9wcyBleHRlbmRzIExpbmtQcm9wcyB7XG4gIGNvbG9yPzogQnV0dG9uUHJvcHNbJ2NvbG9yJ107XG4gIGRpc2FibGVkPzogQnV0dG9uUHJvcHNbJ2Rpc2FibGVkJ107XG4gIGZ1bGxXaWR0aD86IEJ1dHRvblByb3BzWydmdWxsV2lkdGgnXTtcbiAgaWNvbj86IEJ1dHRvblByb3BzWydpY29uJ107XG4gIHZhcmlhbnQ/OiBCdXR0b25Qcm9wc1sndmFyaWFudCddO1xufVxuXG5leHBvcnQgY29uc3QgQnV0dG9uTGluayA9IFJlYWN0LmZvcndhcmRSZWY8SFRNTEFuY2hvckVsZW1lbnQsIEJ1dHRvbkxpbmtQcm9wcz4oXG4gIChcbiAgICB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNvbG9yLFxuICAgICAgZGlzYWJsZWQsXG4gICAgICBmdWxsV2lkdGgsXG4gICAgICBpY29uOiBJY29uLFxuICAgICAgcmVsLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdG8sXG4gICAgICB2YXJpYW50LFxuICAgICAgLi4ucm9vdFByb3BzXG4gICAgfSxcbiAgICByZWZcbiAgKSA9PiB7XG4gICAgY29uc3QgY2xhc3NlcyA9IHVzZVN0eWxlcyh7fSk7XG5cbiAgICB2YXJpYW50ID0gdmFyaWFudCB8fCAnY29udGFpbmVkJztcblxuICAgIHJldHVybiAoXG4gICAgICA8TGlua09yRXh0ZXJuYWxMaW5rXG4gICAgICAgIGRpc2FibGVkPXtkaXNhYmxlZH1cbiAgICAgICAgaW5uZXJSZWY9e3JlZn1cbiAgICAgICAgdGFyZ2V0PXt0YXJnZXR9XG4gICAgICAgIHJlbD17cmVsfVxuICAgICAgICBjbGFzc05hbWU9e2Nsc3goXG4gICAgICAgICAgY2xhc3Nlcy5yb290LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIFtjbGFzc2VzLm91dGxpbmVkXTogdmFyaWFudCA9PT0gJ291dGxpbmVkJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLnRleHRdOiB2YXJpYW50ID09PSAndGV4dCcsXG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBbY2xhc3Nlcy5jb250YWluZWRJbnZlcnNlXTpcbiAgICAgICAgICAgICAgdmFyaWFudCA9PT0gJ2NvbnRhaW5lZCcgJiYgY29sb3IgPT09ICdpbnZlcnNlJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLm91dGxpbmVkSW52ZXJzZV06XG4gICAgICAgICAgICAgIHZhcmlhbnQgPT09ICdvdXRsaW5lZCcgJiYgY29sb3IgPT09ICdpbnZlcnNlJyxcbiAgICAgICAgICAgIFtjbGFzc2VzLnRleHRJbnZlcnNlXTogdmFyaWFudCA9PT0gJ3RleHQnICYmIGNvbG9yID09PSAnaW52ZXJzZScsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdWxsV2lkdGggJiYgY2xhc3Nlcy5mdWxsV2lkdGgsXG4gICAgICAgICAgZGlzYWJsZWQgJiZcbiAgICAgICAgICAgIGNvbG9yICE9PSAnaW52ZXJzZScgJiYge1xuICAgICAgICAgICAgICBbY2xhc3Nlcy5kaXNhYmxlZF06IHZhcmlhbnQgPT09ICd0ZXh0JyB8fCB2YXJpYW50ID09PSAnb3V0bGluZWQnLFxuICAgICAgICAgICAgICBbY2xhc3Nlcy5kaXNhYmxlZENvbnRhaW5lZF06IHZhcmlhbnQgPT09ICdjb250YWluZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBkaXNhYmxlZCAmJlxuICAgICAgICAgICAgY29sb3IgPT09ICdpbnZlcnNlJyAmJiB7XG4gICAgICAgICAgICAgIFtjbGFzc2VzLmRpc2FibGVkSW52ZXJzZV06XG4gICAgICAgICAgICAgICAgdmFyaWFudCA9PT0gJ3RleHQnIHx8IHZhcmlhbnQgPT09ICdvdXRsaW5lZCcsXG4gICAgICAgICAgICAgIFtjbGFzc2VzLmRpc2FibGVkQ29udGFpbmVkSW52ZXJzZV06IHZhcmlhbnQgPT09ICdjb250YWluZWQnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKX1cbiAgICAgICAgdG89e3RvfVxuICAgICAgICB7Li4ucm9vdFByb3BzfVxuICAgICAgPlxuICAgICAgICB7ISFJY29uICYmIDxJY29uIHJvbGU9XCJpbWdcIiBhcmlhLWhpZGRlbiBjbGFzc05hbWU9e2NsYXNzZXMuaWNvbn0gLz59XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvTGlua09yRXh0ZXJuYWxMaW5rPlxuICAgICk7XG4gIH1cbik7XG4iXX0=